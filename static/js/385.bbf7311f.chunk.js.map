{"version":3,"file":"static/js/385.bbf7311f.chunk.js","mappings":"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","sources":["../node_modules/react-multi-carousel/index.js","../node_modules/react-multi-carousel/lib/Arrows.js","../node_modules/react-multi-carousel/lib/Carousel.js","../node_modules/react-multi-carousel/lib/CarouselItems.js","../node_modules/react-multi-carousel/lib/Dots.js","../node_modules/react-multi-carousel/lib/index.js","../node_modules/react-multi-carousel/lib/types.js","../node_modules/react-multi-carousel/lib/utils/clones.js","../node_modules/react-multi-carousel/lib/utils/common.js","../node_modules/react-multi-carousel/lib/utils/dots.js","../node_modules/react-multi-carousel/lib/utils/elementWidth.js","../node_modules/react-multi-carousel/lib/utils/index.js","../node_modules/react-multi-carousel/lib/utils/mouseOrTouchMove.js","../node_modules/react-multi-carousel/lib/utils/next.js","../node_modules/react-multi-carousel/lib/utils/previous.js","../node_modules/react-multi-carousel/lib/utils/throttle.js","../node_modules/react-multi-carousel/lib/utils/throwError.js","../node_modules/@glidejs/glide/dist/glide.esm.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/core/AxiosError.js","../node_modules/axios/lib/helpers/toFormData.js","../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/defaults/transitional.js","../node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../node_modules/axios/lib/platform/browser/index.js","../node_modules/axios/lib/platform/browser/classes/FormData.js","../node_modules/axios/lib/platform/browser/classes/Blob.js","../node_modules/axios/lib/platform/common/utils.js","../node_modules/axios/lib/platform/index.js","../node_modules/axios/lib/helpers/formDataToJSON.js","../node_modules/axios/lib/defaults/index.js","../node_modules/axios/lib/helpers/toURLEncodedForm.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/core/AxiosHeaders.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/cancel/CanceledError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/speedometer.js","../node_modules/axios/lib/helpers/throttle.js","../node_modules/axios/lib/helpers/progressEventReducer.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/helpers/resolveConfig.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/helpers/parseProtocol.js","../node_modules/axios/lib/helpers/composeSignals.js","../node_modules/@babel/runtime/helpers/esm/OverloadYield.js","../node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js","../node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js","../node_modules/@babel/runtime/helpers/esm/asyncGeneratorDelegate.js","../node_modules/@babel/runtime/helpers/esm/asyncIterator.js","../node_modules/axios/lib/helpers/trackStream.js","../node_modules/axios/lib/adapters/fetch.js","../node_modules/axios/lib/adapters/adapters.js","../node_modules/axios/lib/helpers/null.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/env/data.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/HttpStatusCode.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/@kurkle/color/dist/color.esm.js","../node_modules/chart.js/src/helpers/helpers.core.ts","../node_modules/chart.js/src/helpers/helpers.math.ts","../node_modules/chart.js/src/helpers/helpers.collection.ts","../node_modules/chart.js/src/helpers/helpers.extras.ts","../node_modules/chart.js/src/helpers/helpers.easing.ts","../node_modules/chart.js/src/helpers/helpers.color.ts","../node_modules/chart.js/src/core/core.animations.defaults.js","../node_modules/chart.js/src/helpers/helpers.intl.ts","../node_modules/chart.js/src/core/core.ticks.js","../node_modules/chart.js/src/core/core.defaults.js","../node_modules/chart.js/src/core/core.layouts.defaults.js","../node_modules/chart.js/src/core/core.scale.defaults.js","../node_modules/chart.js/src/helpers/helpers.canvas.ts","../node_modules/chart.js/src/helpers/helpers.options.ts","../node_modules/chart.js/src/helpers/helpers.config.ts","../node_modules/chart.js/src/helpers/helpers.curve.ts","../node_modules/chart.js/src/helpers/helpers.dom.ts","../node_modules/chart.js/src/helpers/helpers.interpolation.ts","../node_modules/chart.js/src/helpers/helpers.rtl.ts","../node_modules/chart.js/src/helpers/helpers.segment.js","../node_modules/chart.js/src/core/core.animator.js","../node_modules/chart.js/src/core/core.animation.js","../node_modules/chart.js/src/core/core.animations.js","../node_modules/chart.js/src/core/core.datasetController.js","../node_modules/chart.js/src/controllers/controller.bar.js","../node_modules/chart.js/src/controllers/controller.bubble.js","../node_modules/chart.js/src/controllers/controller.doughnut.js","../node_modules/chart.js/src/controllers/controller.line.js","../node_modules/chart.js/src/controllers/controller.polarArea.js","../node_modules/chart.js/src/controllers/controller.pie.js","../node_modules/chart.js/src/controllers/controller.radar.js","../node_modules/chart.js/src/controllers/controller.scatter.js","../node_modules/chart.js/src/core/core.adapters.ts","../node_modules/chart.js/src/core/core.interaction.js","../node_modules/chart.js/src/core/core.layouts.js","../node_modules/chart.js/src/platform/platform.base.js","../node_modules/chart.js/src/platform/platform.basic.js","../node_modules/chart.js/src/platform/platform.dom.js","../node_modules/chart.js/src/core/core.element.ts","../node_modules/chart.js/src/core/core.scale.autoskip.js","../node_modules/chart.js/src/core/core.scale.js","../node_modules/chart.js/src/core/core.typedRegistry.js","../node_modules/chart.js/src/core/core.registry.js","../node_modules/chart.js/src/core/core.plugins.js","../node_modules/chart.js/src/core/core.config.js","../node_modules/chart.js/src/core/core.controller.js","../node_modules/chart.js/src/platform/index.js","../node_modules/chart.js/src/elements/element.arc.ts","../node_modules/chart.js/src/elements/element.line.js","../node_modules/chart.js/src/elements/element.point.ts","../node_modules/chart.js/src/elements/element.bar.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.segment.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.helper.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.options.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.target.stack.js","../node_modules/chart.js/src/plugins/plugin.filler/simpleArc.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.target.js","../node_modules/chart.js/src/plugins/plugin.filler/filler.drawing.js","../node_modules/chart.js/src/plugins/plugin.filler/index.js","../node_modules/chart.js/src/plugins/plugin.legend.js","../node_modules/chart.js/src/plugins/plugin.subtitle.js","../node_modules/chart.js/src/plugins/plugin.tooltip.js","../node_modules/chart.js/src/scales/scale.category.js","../node_modules/chart.js/src/scales/scale.linearbase.js","../node_modules/chart.js/src/scales/scale.linear.js","../node_modules/chart.js/src/scales/scale.logarithmic.js","../node_modules/chart.js/src/scales/scale.radialLinear.js","../node_modules/chart.js/src/scales/scale.time.js","../node_modules/chart.js/src/scales/scale.timeseries.js"],"sourcesContent":["module.exports = require('./lib');\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=require(\"react\"),LeftArrow=function(_a){var customLeftArrow=_a.customLeftArrow,getState=_a.getState,previous=_a.previous,disabled=_a.disabled,rtl=_a.rtl;if(customLeftArrow)return React.cloneElement(customLeftArrow,{onClick:function(){return previous()},carouselState:getState(),disabled:disabled,rtl:rtl});var rtlClassName=rtl?\"rtl\":\"\";return React.createElement(\"button\",{\"aria-label\":\"Go to previous slide\",className:\"react-multiple-carousel__arrow react-multiple-carousel__arrow--left \"+rtlClassName,onClick:function(){return previous()},type:\"button\",disabled:disabled})};exports.LeftArrow=LeftArrow;var RightArrow=function(_a){var customRightArrow=_a.customRightArrow,getState=_a.getState,next=_a.next,disabled=_a.disabled,rtl=_a.rtl;if(customRightArrow)return React.cloneElement(customRightArrow,{onClick:function(){return next()},carouselState:getState(),disabled:disabled,rtl:rtl});var rtlClassName=rtl?\"rtl\":\"\";return React.createElement(\"button\",{\"aria-label\":\"Go to next slide\",className:\"react-multiple-carousel__arrow react-multiple-carousel__arrow--right \"+rtlClassName,onClick:function(){return next()},type:\"button\",disabled:disabled})};exports.RightArrow=RightArrow;","\"use strict\";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,\"__esModule\",{value:!0});var React=require(\"react\"),utils_1=require(\"./utils\"),types_1=require(\"./types\"),Dots_1=require(\"./Dots\"),Arrows_1=require(\"./Arrows\"),CarouselItems_1=require(\"./CarouselItems\"),common_1=require(\"./utils/common\"),defaultTransitionDuration=400,defaultTransition=\"transform 400ms ease-in-out\",Carousel=function(_super){function Carousel(props){var _this=_super.call(this,props)||this;return _this.containerRef=React.createRef(),_this.listRef=React.createRef(),_this.state={itemWidth:0,slidesToShow:0,currentSlide:0,totalItems:React.Children.count(props.children),deviceType:\"\",domLoaded:!1,transform:0,containerWidth:0},_this.onResize=_this.onResize.bind(_this),_this.handleDown=_this.handleDown.bind(_this),_this.handleMove=_this.handleMove.bind(_this),_this.handleOut=_this.handleOut.bind(_this),_this.onKeyUp=_this.onKeyUp.bind(_this),_this.handleEnter=_this.handleEnter.bind(_this),_this.setIsInThrottle=_this.setIsInThrottle.bind(_this),_this.next=utils_1.throttle(_this.next.bind(_this),props.transitionDuration||defaultTransitionDuration,_this.setIsInThrottle),_this.previous=utils_1.throttle(_this.previous.bind(_this),props.transitionDuration||defaultTransitionDuration,_this.setIsInThrottle),_this.goToSlide=utils_1.throttle(_this.goToSlide.bind(_this),props.transitionDuration||defaultTransitionDuration,_this.setIsInThrottle),_this.onMove=!1,_this.initialX=0,_this.lastX=0,_this.isAnimationAllowed=!1,_this.direction=\"\",_this.initialY=0,_this.isInThrottle=!1,_this.transformPlaceHolder=0,_this}return __extends(Carousel,_super),Carousel.prototype.resetTotalItems=function(){var _this=this,totalItems=React.Children.count(this.props.children),currentSlide=utils_1.notEnoughChildren(this.state)?0:Math.max(0,Math.min(this.state.currentSlide,totalItems));this.setState({totalItems:totalItems,currentSlide:currentSlide},function(){_this.setContainerAndItemWidth(_this.state.slidesToShow,!0)})},Carousel.prototype.setIsInThrottle=function(isInThrottle){void 0===isInThrottle&&(isInThrottle=!1),this.isInThrottle=isInThrottle},Carousel.prototype.setTransformDirectly=function(position,withAnimation){var additionalTransfrom=this.props.additionalTransfrom;this.transformPlaceHolder=position;var currentTransform=common_1.getTransform(this.state,this.props,this.transformPlaceHolder);this.listRef&&this.listRef.current&&(this.setAnimationDirectly(withAnimation),this.listRef.current.style.transform=\"translate3d(\"+(currentTransform+additionalTransfrom)+\"px,0,0)\")},Carousel.prototype.setAnimationDirectly=function(animationAllowed){this.listRef&&this.listRef.current&&(this.listRef.current.style.transition=animationAllowed?this.props.customTransition||defaultTransition:\"none\")},Carousel.prototype.componentDidMount=function(){this.setState({domLoaded:!0}),this.setItemsToShow(),window.addEventListener(\"resize\",this.onResize),this.onResize(!0),this.props.keyBoardControl&&window.addEventListener(\"keyup\",this.onKeyUp),this.props.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},Carousel.prototype.setClones=function(slidesToShow,itemWidth,forResizing,resetCurrentSlide){var _this=this;void 0===resetCurrentSlide&&(resetCurrentSlide=!1),this.isAnimationAllowed=!1;var childrenArr=React.Children.toArray(this.props.children),initialSlide=utils_1.getInitialSlideInInfiniteMode(slidesToShow||this.state.slidesToShow,childrenArr),clones=utils_1.getClones(this.state.slidesToShow,childrenArr),currentSlide=childrenArr.length<this.state.slidesToShow?0:this.state.currentSlide;this.setState({totalItems:clones.length,currentSlide:forResizing&&!resetCurrentSlide?currentSlide:initialSlide},function(){_this.correctItemsPosition(itemWidth||_this.state.itemWidth)})},Carousel.prototype.setItemsToShow=function(shouldCorrectItemPosition,resetCurrentSlide){var _this=this,responsive=this.props.responsive;Object.keys(responsive).forEach(function(item){var _a=responsive[item],breakpoint=_a.breakpoint,items=_a.items,max=breakpoint.max,min=breakpoint.min,widths=[window.innerWidth];window.screen&&window.screen.width&&widths.push(window.screen.width);var screenWidth=Math.min.apply(Math,widths);min<=screenWidth&&screenWidth<=max&&(_this.setState({slidesToShow:items,deviceType:item}),_this.setContainerAndItemWidth(items,shouldCorrectItemPosition,resetCurrentSlide))})},Carousel.prototype.setContainerAndItemWidth=function(slidesToShow,shouldCorrectItemPosition,resetCurrentSlide){var _this=this;if(this.containerRef&&this.containerRef.current){var containerWidth=this.containerRef.current.offsetWidth,itemWidth_1=utils_1.getItemClientSideWidth(this.props,slidesToShow,containerWidth);this.setState({containerWidth:containerWidth,itemWidth:itemWidth_1},function(){_this.props.infinite&&_this.setClones(slidesToShow,itemWidth_1,shouldCorrectItemPosition,resetCurrentSlide)}),shouldCorrectItemPosition&&this.correctItemsPosition(itemWidth_1)}},Carousel.prototype.correctItemsPosition=function(itemWidth,isAnimationAllowed,setToDomDirectly){isAnimationAllowed&&(this.isAnimationAllowed=!0),!isAnimationAllowed&&this.isAnimationAllowed&&(this.isAnimationAllowed=!1);var nextTransform=this.state.totalItems<this.state.slidesToShow?0:-itemWidth*this.state.currentSlide;setToDomDirectly&&this.setTransformDirectly(nextTransform,!0),this.setState({transform:nextTransform})},Carousel.prototype.onResize=function(value){var shouldCorrectItemPosition;shouldCorrectItemPosition=!!this.props.infinite&&(\"boolean\"!=typeof value||!value),this.setItemsToShow(shouldCorrectItemPosition)},Carousel.prototype.componentDidUpdate=function(_a,_b){var _this=this,keyBoardControl=_a.keyBoardControl,autoPlay=_a.autoPlay,children=_a.children,containerWidth=_b.containerWidth,domLoaded=_b.domLoaded,currentSlide=_b.currentSlide;if(this.containerRef&&this.containerRef.current&&this.containerRef.current.offsetWidth!==containerWidth&&(this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),this.itemsToShowTimeout=setTimeout(function(){_this.setItemsToShow(!0)},this.props.transitionDuration||defaultTransitionDuration)),keyBoardControl&&!this.props.keyBoardControl&&window.removeEventListener(\"keyup\",this.onKeyUp),!keyBoardControl&&this.props.keyBoardControl&&window.addEventListener(\"keyup\",this.onKeyUp),autoPlay&&!this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),autoPlay||!this.props.autoPlay||this.autoPlay||(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed)),children.length!==this.props.children.length?Carousel.clonesTimeout=setTimeout(function(){_this.props.infinite?_this.setClones(_this.state.slidesToShow,_this.state.itemWidth,!0,!0):_this.resetTotalItems()},this.props.transitionDuration||defaultTransitionDuration):this.props.infinite&&this.state.currentSlide!==currentSlide&&this.correctClonesPosition({domLoaded:domLoaded}),this.transformPlaceHolder!==this.state.transform&&(this.transformPlaceHolder=this.state.transform),this.props.autoPlay&&this.props.rewind&&!this.props.infinite&&utils_1.isInRightEnd(this.state)){var rewindBuffer=this.props.transitionDuration||defaultTransitionDuration;Carousel.isInThrottleTimeout=setTimeout(function(){_this.setIsInThrottle(!1),_this.resetAutoplayInterval(),_this.goToSlide(0,void 0,!!_this.props.rewindWithAnimation)},rewindBuffer+this.props.autoPlaySpeed)}},Carousel.prototype.correctClonesPosition=function(_a){var _this=this,domLoaded=_a.domLoaded,childrenArr=React.Children.toArray(this.props.children),_b=utils_1.checkClonesPosition(this.state,childrenArr,this.props),isReachingTheEnd=_b.isReachingTheEnd,isReachingTheStart=_b.isReachingTheStart,nextSlide=_b.nextSlide,nextPosition=_b.nextPosition;this.state.domLoaded&&domLoaded&&(isReachingTheEnd||isReachingTheStart)&&(this.isAnimationAllowed=!1,Carousel.transformTimeout=setTimeout(function(){_this.setState({transform:nextPosition,currentSlide:nextSlide})},this.props.transitionDuration||defaultTransitionDuration))},Carousel.prototype.next=function(slidesHavePassed){var _this=this;void 0===slidesHavePassed&&(slidesHavePassed=0);var _a=this.props,afterChange=_a.afterChange,beforeChange=_a.beforeChange;if(!utils_1.notEnoughChildren(this.state)){var _b=utils_1.populateNextSlides(this.state,this.props,slidesHavePassed),nextSlides=_b.nextSlides,nextPosition=_b.nextPosition,previousSlide=this.state.currentSlide;void 0!==nextSlides&&void 0!==nextPosition&&(\"function\"==typeof beforeChange&&beforeChange(nextSlides,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:nextPosition,currentSlide:nextSlides},function(){\"function\"==typeof afterChange&&(Carousel.afterChangeTimeout=setTimeout(function(){afterChange(previousSlide,_this.getState())},_this.props.transitionDuration||defaultTransitionDuration))}))}},Carousel.prototype.previous=function(slidesHavePassed){var _this=this;void 0===slidesHavePassed&&(slidesHavePassed=0);var _a=this.props,afterChange=_a.afterChange,beforeChange=_a.beforeChange;if(!utils_1.notEnoughChildren(this.state)){var _b=utils_1.populatePreviousSlides(this.state,this.props,slidesHavePassed),nextSlides=_b.nextSlides,nextPosition=_b.nextPosition;if(void 0!==nextSlides&&void 0!==nextPosition){var previousSlide=this.state.currentSlide;\"function\"==typeof beforeChange&&beforeChange(nextSlides,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:nextPosition,currentSlide:nextSlides},function(){\"function\"==typeof afterChange&&(Carousel.afterChangeTimeout2=setTimeout(function(){afterChange(previousSlide,_this.getState())},_this.props.transitionDuration||defaultTransitionDuration))})}}},Carousel.prototype.resetAutoplayInterval=function(){this.props.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},Carousel.prototype.componentWillUnmount=function(){window.removeEventListener(\"resize\",this.onResize),this.props.keyBoardControl&&window.removeEventListener(\"keyup\",this.onKeyUp),this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),Carousel.clonesTimeout&&clearTimeout(Carousel.clonesTimeout),Carousel.isInThrottleTimeout&&clearTimeout(Carousel.isInThrottleTimeout),Carousel.transformTimeout&&clearTimeout(Carousel.transformTimeout),Carousel.afterChangeTimeout&&clearTimeout(Carousel.afterChangeTimeout),Carousel.afterChangeTimeout2&&clearTimeout(Carousel.afterChangeTimeout2),Carousel.afterChangeTimeout3&&clearTimeout(Carousel.afterChangeTimeout3)},Carousel.prototype.resetMoveStatus=function(){this.onMove=!1,this.initialX=0,this.lastX=0,this.direction=\"\",this.initialY=0},Carousel.prototype.getCords=function(_a){var clientX=_a.clientX,clientY=_a.clientY;return{clientX:common_1.parsePosition(this.props,clientX),clientY:common_1.parsePosition(this.props,clientY)}},Carousel.prototype.handleDown=function(e){if(!(!types_1.isMouseMoveEvent(e)&&!this.props.swipeable||types_1.isMouseMoveEvent(e)&&!this.props.draggable||this.isInThrottle)){var _a=this.getCords(types_1.isMouseMoveEvent(e)?e:e.touches[0]),clientX=_a.clientX,clientY=_a.clientY;this.onMove=!0,this.initialX=clientX,this.initialY=clientY,this.lastX=clientX,this.isAnimationAllowed=!1}},Carousel.prototype.handleMove=function(e){if(!(!types_1.isMouseMoveEvent(e)&&!this.props.swipeable||types_1.isMouseMoveEvent(e)&&!this.props.draggable||utils_1.notEnoughChildren(this.state))){var _a=this.getCords(types_1.isMouseMoveEvent(e)?e:e.touches[0]),clientX=_a.clientX,clientY=_a.clientY,diffX=this.initialX-clientX,diffY=this.initialY-clientY;if(this.onMove){if(!(Math.abs(diffX)>Math.abs(diffY)))return;var _b=utils_1.populateSlidesOnMouseTouchMove(this.state,this.props,this.initialX,this.lastX,clientX,this.transformPlaceHolder),direction=_b.direction,nextPosition=_b.nextPosition,canContinue=_b.canContinue;direction&&(this.direction=direction,canContinue&&void 0!==nextPosition&&this.setTransformDirectly(nextPosition)),this.lastX=clientX}}},Carousel.prototype.handleOut=function(e){this.props.autoPlay&&!this.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed));var shouldDisableOnMobile=\"touchend\"===e.type&&!this.props.swipeable,shouldDisableOnDesktop=(\"mouseleave\"===e.type||\"mouseup\"===e.type)&&!this.props.draggable;if(!shouldDisableOnMobile&&!shouldDisableOnDesktop&&this.onMove){if(this.setAnimationDirectly(!0),\"right\"===this.direction)if(this.initialX-this.lastX>=this.props.minimumTouchDrag){var slidesHavePassed=Math.round((this.initialX-this.lastX)/this.state.itemWidth);this.next(slidesHavePassed)}else this.correctItemsPosition(this.state.itemWidth,!0,!0);if(\"left\"===this.direction)if(this.lastX-this.initialX>this.props.minimumTouchDrag){slidesHavePassed=Math.round((this.lastX-this.initialX)/this.state.itemWidth);this.previous(slidesHavePassed)}else this.correctItemsPosition(this.state.itemWidth,!0,!0);this.resetMoveStatus()}},Carousel.prototype.isInViewport=function(el){var _a=el.getBoundingClientRect(),_b=_a.top,top=void 0===_b?0:_b,_c=_a.left,left=void 0===_c?0:_c,_d=_a.bottom,bottom=void 0===_d?0:_d,_e=_a.right,right=void 0===_e?0:_e;return 0<=top&&0<=left&&bottom<=(window.innerHeight||document.documentElement.clientHeight)&&right<=(window.innerWidth||document.documentElement.clientWidth)},Carousel.prototype.isChildOfCarousel=function(el){return!!(el instanceof Element&&this.listRef&&this.listRef.current)&&this.listRef.current.contains(el)},Carousel.prototype.onKeyUp=function(e){var target=e.target;switch(e.keyCode){case 37:if(this.isChildOfCarousel(target))return this.previous();break;case 39:if(this.isChildOfCarousel(target))return this.next();break;case 9:if(this.isChildOfCarousel(target)&&target instanceof HTMLInputElement&&this.isInViewport(target))return this.next()}},Carousel.prototype.handleEnter=function(e){types_1.isMouseMoveEvent(e)&&this.autoPlay&&this.props.autoPlay&&this.props.pauseOnHover&&(clearInterval(this.autoPlay),this.autoPlay=void 0)},Carousel.prototype.goToSlide=function(slide,skipCallbacks,animationAllowed){var _this=this;if(void 0===animationAllowed&&(animationAllowed=!0),!this.isInThrottle){var itemWidth=this.state.itemWidth,_a=this.props,afterChange=_a.afterChange,beforeChange=_a.beforeChange,previousSlide=this.state.currentSlide;\"function\"!=typeof beforeChange||skipCallbacks&&(\"object\"!=typeof skipCallbacks||skipCallbacks.skipBeforeChange)||beforeChange(slide,this.getState()),this.isAnimationAllowed=animationAllowed,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({currentSlide:slide,transform:-itemWidth*slide},function(){_this.props.infinite&&_this.correctClonesPosition({domLoaded:!0}),\"function\"!=typeof afterChange||skipCallbacks&&(\"object\"!=typeof skipCallbacks||skipCallbacks.skipAfterChange)||(Carousel.afterChangeTimeout3=setTimeout(function(){afterChange(previousSlide,_this.getState())},_this.props.transitionDuration||defaultTransitionDuration))})}},Carousel.prototype.getState=function(){return this.state},Carousel.prototype.renderLeftArrow=function(disbaled){var _this=this,_a=this.props,customLeftArrow=_a.customLeftArrow,rtl=_a.rtl;return React.createElement(Arrows_1.LeftArrow,{customLeftArrow:customLeftArrow,getState:function(){return _this.getState()},previous:this.previous,disabled:disbaled,rtl:rtl})},Carousel.prototype.renderRightArrow=function(disbaled){var _this=this,_a=this.props,customRightArrow=_a.customRightArrow,rtl=_a.rtl;return React.createElement(Arrows_1.RightArrow,{customRightArrow:customRightArrow,getState:function(){return _this.getState()},next:this.next,disabled:disbaled,rtl:rtl})},Carousel.prototype.renderButtonGroups=function(){var _this=this,customButtonGroup=this.props.customButtonGroup;return customButtonGroup?React.cloneElement(customButtonGroup,{previous:function(){return _this.previous()},next:function(){return _this.next()},goToSlide:function(slideIndex,skipCallbacks){return _this.goToSlide(slideIndex,skipCallbacks)},carouselState:this.getState()}):null},Carousel.prototype.renderDotsList=function(){var _this=this;return React.createElement(Dots_1.default,{state:this.state,props:this.props,goToSlide:this.goToSlide,getState:function(){return _this.getState()}})},Carousel.prototype.renderCarouselItems=function(){var clones=[];if(this.props.infinite){var childrenArr=React.Children.toArray(this.props.children);clones=utils_1.getClones(this.state.slidesToShow,childrenArr)}return React.createElement(CarouselItems_1.default,{clones:clones,goToSlide:this.goToSlide,state:this.state,notEnoughChildren:utils_1.notEnoughChildren(this.state),props:this.props})},Carousel.prototype.render=function(){var _a=this.props,deviceType=_a.deviceType,arrows=_a.arrows,renderArrowsWhenDisabled=_a.renderArrowsWhenDisabled,removeArrowOnDeviceType=_a.removeArrowOnDeviceType,infinite=_a.infinite,containerClass=_a.containerClass,sliderClass=_a.sliderClass,customTransition=_a.customTransition,additionalTransfrom=_a.additionalTransfrom,renderDotsOutside=_a.renderDotsOutside,renderButtonGroupOutside=_a.renderButtonGroupOutside,className=_a.className,rtl=_a.rtl;\"production\"!==process.env.NODE_ENV&&utils_1.throwError(this.state,this.props);var _b=utils_1.getInitialState(this.state,this.props),shouldRenderOnSSR=_b.shouldRenderOnSSR,shouldRenderAtAll=_b.shouldRenderAtAll,isLeftEndReach=utils_1.isInLeftEnd(this.state),isRightEndReach=utils_1.isInRightEnd(this.state),shouldShowArrows=arrows&&!(removeArrowOnDeviceType&&(deviceType&&-1<removeArrowOnDeviceType.indexOf(deviceType)||this.state.deviceType&&-1<removeArrowOnDeviceType.indexOf(this.state.deviceType)))&&!utils_1.notEnoughChildren(this.state)&&shouldRenderAtAll,disableLeftArrow=!infinite&&isLeftEndReach,disableRightArrow=!infinite&&isRightEndReach,currentTransform=common_1.getTransform(this.state,this.props);return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"react-multi-carousel-list \"+containerClass+\" \"+className,dir:rtl?\"rtl\":\"ltr\",ref:this.containerRef},React.createElement(\"ul\",{ref:this.listRef,className:\"react-multi-carousel-track \"+sliderClass,style:{transition:this.isAnimationAllowed?customTransition||defaultTransition:\"none\",overflow:shouldRenderOnSSR?\"hidden\":\"unset\",transform:\"translate3d(\"+(currentTransform+additionalTransfrom)+\"px,0,0)\"},onMouseMove:this.handleMove,onMouseDown:this.handleDown,onMouseUp:this.handleOut,onMouseEnter:this.handleEnter,onMouseLeave:this.handleOut,onTouchStart:this.handleDown,onTouchMove:this.handleMove,onTouchEnd:this.handleOut},this.renderCarouselItems()),shouldShowArrows&&(!disableLeftArrow||renderArrowsWhenDisabled)&&this.renderLeftArrow(disableLeftArrow),shouldShowArrows&&(!disableRightArrow||renderArrowsWhenDisabled)&&this.renderRightArrow(disableRightArrow),shouldRenderAtAll&&!renderButtonGroupOutside&&this.renderButtonGroups(),shouldRenderAtAll&&!renderDotsOutside&&this.renderDotsList()),shouldRenderAtAll&&renderDotsOutside&&this.renderDotsList(),shouldRenderAtAll&&renderButtonGroupOutside&&this.renderButtonGroups())},Carousel.defaultProps={slidesToSlide:1,infinite:!1,draggable:!0,swipeable:!0,arrows:!0,renderArrowsWhenDisabled:!1,containerClass:\"\",sliderClass:\"\",itemClass:\"\",keyBoardControl:!0,autoPlaySpeed:3e3,showDots:!1,renderDotsOutside:!1,renderButtonGroupOutside:!1,minimumTouchDrag:80,className:\"\",dotListClass:\"\",focusOnSelect:!1,centerMode:!1,additionalTransfrom:0,pauseOnHover:!0,shouldResetAutoplay:!0,rewind:!1,rtl:!1,rewindWithAnimation:!1},Carousel}(React.Component);exports.default=Carousel;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=require(\"react\"),utils_1=require(\"./utils\"),CarouselItems=function(_a){var props=_a.props,state=_a.state,goToSlide=_a.goToSlide,clones=_a.clones,notEnoughChildren=_a.notEnoughChildren,itemWidth=state.itemWidth,children=props.children,infinite=props.infinite,itemClass=props.itemClass,itemAriaLabel=props.itemAriaLabel,partialVisbile=props.partialVisbile,partialVisible=props.partialVisible,_b=utils_1.getInitialState(state,props),flexBisis=_b.flexBisis,shouldRenderOnSSR=_b.shouldRenderOnSSR,domFullyLoaded=_b.domFullyLoaded,partialVisibilityGutter=_b.partialVisibilityGutter;return _b.shouldRenderAtAll?(partialVisbile&&console.warn('WARNING: Please correct props name: \"partialVisible\" as old typo will be removed in future versions!'),React.createElement(React.Fragment,null,(infinite?clones:React.Children.toArray(children)).map(function(child,index){return React.createElement(\"li\",{key:index,\"data-index\":index,onClick:function(){props.focusOnSelect&&goToSlide(index)},\"aria-hidden\":utils_1.getIfSlideIsVisbile(index,state)?\"false\":\"true\",\"aria-label\":itemAriaLabel||(child.props.ariaLabel?child.props.ariaLabel:null),style:{flex:shouldRenderOnSSR?\"1 0 \"+flexBisis+\"%\":\"auto\",position:\"relative\",width:domFullyLoaded?((partialVisbile||partialVisible)&&partialVisibilityGutter&&!notEnoughChildren?itemWidth-partialVisibilityGutter:itemWidth)+\"px\":\"auto\"},className:\"react-multi-carousel-item \"+(utils_1.getIfSlideIsVisbile(index,state)?\"react-multi-carousel-item--active\":\"\")+\" \"+itemClass},child)}))):null};exports.default=CarouselItems;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=require(\"react\"),clones_1=require(\"./utils/clones\"),dots_1=require(\"./utils/dots\"),common_1=require(\"./utils/common\"),Dots=function(_a){var props=_a.props,state=_a.state,goToSlide=_a.goToSlide,getState=_a.getState,showDots=props.showDots,customDot=props.customDot,dotListClass=props.dotListClass,infinite=props.infinite,children=props.children;if(!showDots||common_1.notEnoughChildren(state))return null;var numberOfDotsToShow,currentSlide=state.currentSlide,slidesToShow=state.slidesToShow,slidesToSlide=common_1.getSlidesToSlide(state,props),childrenArr=React.Children.toArray(children);numberOfDotsToShow=infinite?Math.ceil(childrenArr.length/slidesToSlide):Math.ceil((childrenArr.length-slidesToShow)/slidesToSlide)+1;var nextSlidesTable=dots_1.getLookupTableForNextSlides(numberOfDotsToShow,state,props,childrenArr),lookupTable=clones_1.getOriginalIndexLookupTableByClones(slidesToShow,childrenArr),currentSlides=lookupTable[currentSlide];return React.createElement(\"ul\",{className:\"react-multi-carousel-dot-list \"+dotListClass},Array(numberOfDotsToShow).fill(0).map(function(_,index){var isActive,nextSlide;if(infinite){nextSlide=nextSlidesTable[index];var cloneIndex=lookupTable[nextSlide];isActive=currentSlides===cloneIndex||cloneIndex<=currentSlides&&currentSlides<cloneIndex+slidesToSlide}else{var maximumNextSlide=childrenArr.length-slidesToShow,possibileNextSlides=index*slidesToSlide;isActive=(nextSlide=maximumNextSlide<possibileNextSlides?maximumNextSlide:possibileNextSlides)===currentSlide||nextSlide<currentSlide&&currentSlide<nextSlide+slidesToSlide&&currentSlide<childrenArr.length-slidesToShow}return customDot?React.cloneElement(customDot,{index:index,active:isActive,key:index,onClick:function(){return goToSlide(nextSlide)},carouselState:getState()}):React.createElement(\"li\",{\"data-index\":index,key:index,className:\"react-multi-carousel-dot \"+(isActive?\"react-multi-carousel-dot--active\":\"\")},React.createElement(\"button\",{\"aria-label\":\"Go to slide \"+(index+1),onClick:function(){return goToSlide(nextSlide)}}))}))};exports.default=Dots;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Carousel_1=require(\"./Carousel\");exports.default=Carousel_1.default;","\"use strict\";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,\"__esModule\",{value:!0});var React=require(\"react\");function isMouseMoveEvent(e){return\"clientY\"in e}exports.isMouseMoveEvent=isMouseMoveEvent;var Carousel=function(_super){function Carousel(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Carousel,_super),Carousel}(React.Component);exports.default=Carousel;","\"use strict\";function getOriginalCounterPart(index,_a,childrenArr){var slidesToShow=_a.slidesToShow,currentSlide=_a.currentSlide;return childrenArr.length>2*slidesToShow?index+2*slidesToShow:currentSlide>=childrenArr.length?childrenArr.length+index:index}function getOriginalIndexLookupTableByClones(slidesToShow,childrenArr){if(childrenArr.length>2*slidesToShow){for(var table={},firstBeginningOfClones=childrenArr.length-2*slidesToShow,firstEndOfClones=childrenArr.length-firstBeginningOfClones,firstCount=firstBeginningOfClones,i=0;i<firstEndOfClones;i++)table[i]=firstCount,firstCount++;var secondBeginningOfClones=childrenArr.length+firstEndOfClones,secondEndOfClones=secondBeginningOfClones+childrenArr.slice(0,2*slidesToShow).length,secondCount=0;for(i=secondBeginningOfClones;i<=secondEndOfClones;i++)table[i]=secondCount,secondCount++;var originalEnd=secondBeginningOfClones,originalCounter=0;for(i=firstEndOfClones;i<originalEnd;i++)table[i]=originalCounter,originalCounter++;return table}table={};var totalSlides=3*childrenArr.length,count=0;for(i=0;i<totalSlides;i++)table[i]=count,++count===childrenArr.length&&(count=0);return table}function getClones(slidesToShow,childrenArr){return childrenArr.length<slidesToShow?childrenArr:childrenArr.length>2*slidesToShow?childrenArr.slice(childrenArr.length-2*slidesToShow,childrenArr.length).concat(childrenArr,childrenArr.slice(0,2*slidesToShow)):childrenArr.concat(childrenArr,childrenArr)}function getInitialSlideInInfiniteMode(slidesToShow,childrenArr){return childrenArr.length>2*slidesToShow?2*slidesToShow:childrenArr.length}function checkClonesPosition(_a,childrenArr,props){var isReachingTheEnd,currentSlide=_a.currentSlide,slidesToShow=_a.slidesToShow,itemWidth=_a.itemWidth,totalItems=_a.totalItems,nextSlide=0,nextPosition=0,isReachingTheStart=0===currentSlide,originalFirstSlide=childrenArr.length-(childrenArr.length-2*slidesToShow);return childrenArr.length<slidesToShow?(nextPosition=nextSlide=0,isReachingTheStart=isReachingTheEnd=!1):childrenArr.length>2*slidesToShow?((isReachingTheEnd=currentSlide>=originalFirstSlide+childrenArr.length)&&(nextPosition=-itemWidth*(nextSlide=currentSlide-childrenArr.length)),isReachingTheStart&&(nextPosition=-itemWidth*(nextSlide=originalFirstSlide+(childrenArr.length-2*slidesToShow)))):((isReachingTheEnd=currentSlide>=2*childrenArr.length)&&(nextPosition=-itemWidth*(nextSlide=currentSlide-childrenArr.length)),isReachingTheStart&&(nextPosition=props.showDots?-itemWidth*(nextSlide=childrenArr.length):-itemWidth*(nextSlide=totalItems/3))),{isReachingTheEnd:isReachingTheEnd,isReachingTheStart:isReachingTheStart,nextSlide:nextSlide,nextPosition:nextPosition}}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getOriginalCounterPart=getOriginalCounterPart,exports.getOriginalIndexLookupTableByClones=getOriginalIndexLookupTableByClones,exports.getClones=getClones,exports.getInitialSlideInInfiniteMode=getInitialSlideInInfiniteMode,exports.checkClonesPosition=checkClonesPosition;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var elementWidth_1=require(\"./elementWidth\");function notEnoughChildren(state){var slidesToShow=state.slidesToShow;return state.totalItems<slidesToShow}function getInitialState(state,props){var flexBisis,domLoaded=state.domLoaded,slidesToShow=state.slidesToShow,containerWidth=state.containerWidth,itemWidth=state.itemWidth,deviceType=props.deviceType,responsive=props.responsive,ssr=props.ssr,partialVisbile=props.partialVisbile,partialVisible=props.partialVisible,domFullyLoaded=Boolean(domLoaded&&slidesToShow&&containerWidth&&itemWidth);ssr&&deviceType&&!domFullyLoaded&&(flexBisis=elementWidth_1.getWidthFromDeviceType(deviceType,responsive));var shouldRenderOnSSR=Boolean(ssr&&deviceType&&!domFullyLoaded&&flexBisis);return{shouldRenderOnSSR:shouldRenderOnSSR,flexBisis:flexBisis,domFullyLoaded:domFullyLoaded,partialVisibilityGutter:elementWidth_1.getPartialVisibilityGutter(responsive,partialVisbile||partialVisible,deviceType,state.deviceType),shouldRenderAtAll:shouldRenderOnSSR||domFullyLoaded}}function getIfSlideIsVisbile(index,state){var currentSlide=state.currentSlide,slidesToShow=state.slidesToShow;return currentSlide<=index&&index<currentSlide+slidesToShow}function getTransformForCenterMode(state,props,transformPlaceHolder){var transform=transformPlaceHolder||state.transform;return!props.infinite&&0===state.currentSlide||notEnoughChildren(state)?transform:transform+state.itemWidth/2}function isInLeftEnd(_a){return!(0<_a.currentSlide)}function isInRightEnd(_a){var currentSlide=_a.currentSlide,totalItems=_a.totalItems;return!(currentSlide+_a.slidesToShow<totalItems)}function getTransformForPartialVsibile(state,partialVisibilityGutter,props,transformPlaceHolder){void 0===partialVisibilityGutter&&(partialVisibilityGutter=0);var currentSlide=state.currentSlide,slidesToShow=state.slidesToShow,isRightEndReach=isInRightEnd(state),shouldRemoveRightGutter=!props.infinite&&isRightEndReach,baseTransform=transformPlaceHolder||state.transform;if(notEnoughChildren(state))return baseTransform;var transform=baseTransform+currentSlide*partialVisibilityGutter;return shouldRemoveRightGutter?transform+(state.containerWidth-(state.itemWidth-partialVisibilityGutter)*slidesToShow):transform}function parsePosition(props,position){return props.rtl?-1*position:position}function getTransform(state,props,transformPlaceHolder){var partialVisbile=props.partialVisbile,partialVisible=props.partialVisible,responsive=props.responsive,deviceType=props.deviceType,centerMode=props.centerMode,transform=transformPlaceHolder||state.transform,partialVisibilityGutter=elementWidth_1.getPartialVisibilityGutter(responsive,partialVisbile||partialVisible,deviceType,state.deviceType);return parsePosition(props,partialVisible||partialVisbile?getTransformForPartialVsibile(state,partialVisibilityGutter,props,transformPlaceHolder):centerMode?getTransformForCenterMode(state,props,transformPlaceHolder):transform)}function getSlidesToSlide(state,props){var domLoaded=state.domLoaded,slidesToShow=state.slidesToShow,containerWidth=state.containerWidth,itemWidth=state.itemWidth,deviceType=props.deviceType,responsive=props.responsive,slidesToScroll=props.slidesToSlide||1,domFullyLoaded=Boolean(domLoaded&&slidesToShow&&containerWidth&&itemWidth);return props.ssr&&props.deviceType&&!domFullyLoaded&&Object.keys(responsive).forEach(function(device){var slidesToSlide=responsive[device].slidesToSlide;deviceType===device&&slidesToSlide&&(slidesToScroll=slidesToSlide)}),domFullyLoaded&&Object.keys(responsive).forEach(function(item){var _a=responsive[item],breakpoint=_a.breakpoint,slidesToSlide=_a.slidesToSlide,max=breakpoint.max,min=breakpoint.min;slidesToSlide&&window.innerWidth>=min&&window.innerWidth<=max&&(slidesToScroll=slidesToSlide)}),slidesToScroll}exports.notEnoughChildren=notEnoughChildren,exports.getInitialState=getInitialState,exports.getIfSlideIsVisbile=getIfSlideIsVisbile,exports.getTransformForCenterMode=getTransformForCenterMode,exports.isInLeftEnd=isInLeftEnd,exports.isInRightEnd=isInRightEnd,exports.getTransformForPartialVsibile=getTransformForPartialVsibile,exports.parsePosition=parsePosition,exports.getTransform=getTransform,exports.getSlidesToSlide=getSlidesToSlide;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var clones_1=require(\"./clones\"),common_1=require(\"./common\");function getLookupTableForNextSlides(numberOfDotsToShow,state,props,childrenArr){var table={},slidesToSlide=common_1.getSlidesToSlide(state,props);return Array(numberOfDotsToShow).fill(0).forEach(function(_,i){var nextSlide=clones_1.getOriginalCounterPart(i,state,childrenArr);if(0===i)table[0]=nextSlide;else{var now=table[i-1]+slidesToSlide;table[i]=now}}),table}exports.getLookupTableForNextSlides=getLookupTableForNextSlides;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var hasWarnAboutTypo=!1;function getPartialVisibilityGutter(responsive,partialVisible,serverSideDeviceType,clientSideDeviceType){var gutter=0,deviceType=clientSideDeviceType||serverSideDeviceType;return partialVisible&&deviceType&&(!hasWarnAboutTypo&&\"production\"!==process.env.NODE_ENV&&responsive[deviceType].paritialVisibilityGutter&&(hasWarnAboutTypo=!0,console.warn(\"You appear to be using paritialVisibilityGutter instead of partialVisibilityGutter which will be moved to partialVisibilityGutter in the future completely\")),gutter=responsive[deviceType].partialVisibilityGutter||responsive[deviceType].paritialVisibilityGutter),gutter}function getWidthFromDeviceType(deviceType,responsive){var itemWidth;responsive[deviceType]&&(itemWidth=(100/responsive[deviceType].items).toFixed(1));return itemWidth}function getItemClientSideWidth(props,slidesToShow,containerWidth){return Math.round(containerWidth/(slidesToShow+(props.centerMode?1:0)))}exports.getPartialVisibilityGutter=getPartialVisibilityGutter,exports.getWidthFromDeviceType=getWidthFromDeviceType,exports.getItemClientSideWidth=getItemClientSideWidth;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var clones_1=require(\"./clones\");exports.getOriginalCounterPart=clones_1.getOriginalCounterPart,exports.getClones=clones_1.getClones,exports.checkClonesPosition=clones_1.checkClonesPosition,exports.getInitialSlideInInfiniteMode=clones_1.getInitialSlideInInfiniteMode;var elementWidth_1=require(\"./elementWidth\");exports.getWidthFromDeviceType=elementWidth_1.getWidthFromDeviceType,exports.getPartialVisibilityGutter=elementWidth_1.getPartialVisibilityGutter,exports.getItemClientSideWidth=elementWidth_1.getItemClientSideWidth;var common_1=require(\"./common\");exports.getInitialState=common_1.getInitialState,exports.getIfSlideIsVisbile=common_1.getIfSlideIsVisbile,exports.getTransformForCenterMode=common_1.getTransformForCenterMode,exports.getTransformForPartialVsibile=common_1.getTransformForPartialVsibile,exports.isInLeftEnd=common_1.isInLeftEnd,exports.isInRightEnd=common_1.isInRightEnd,exports.notEnoughChildren=common_1.notEnoughChildren,exports.getSlidesToSlide=common_1.getSlidesToSlide;var throttle_1=require(\"./throttle\");exports.throttle=throttle_1.default;var throwError_1=require(\"./throwError\");exports.throwError=throwError_1.default;var next_1=require(\"./next\");exports.populateNextSlides=next_1.populateNextSlides;var previous_1=require(\"./previous\");exports.populatePreviousSlides=previous_1.populatePreviousSlides;var mouseOrTouchMove_1=require(\"./mouseOrTouchMove\");exports.populateSlidesOnMouseTouchMove=mouseOrTouchMove_1.populateSlidesOnMouseTouchMove;","\"use strict\";function populateSlidesOnMouseTouchMove(state,props,initialX,lastX,clientX,transformPlaceHolder){var direction,nextPosition,itemWidth=state.itemWidth,slidesToShow=state.slidesToShow,totalItems=state.totalItems,currentSlide=state.currentSlide,infinite=props.infinite,canContinue=!1,slidesHavePassedRight=Math.round((initialX-lastX)/itemWidth),slidesHavePassedLeft=Math.round((lastX-initialX)/itemWidth),isMovingLeft=initialX<clientX;if(clientX<initialX&&!!(slidesHavePassedRight<=slidesToShow)){direction=\"right\";var translateXLimit=Math.abs(-itemWidth*(totalItems-slidesToShow)),nextTranslate=transformPlaceHolder-(lastX-clientX),isLastSlide=currentSlide===totalItems-slidesToShow;(Math.abs(nextTranslate)<=translateXLimit||isLastSlide&&infinite)&&(nextPosition=nextTranslate,canContinue=!0)}isMovingLeft&&slidesHavePassedLeft<=slidesToShow&&(direction=\"left\",((nextTranslate=transformPlaceHolder+(clientX-lastX))<=0||0===currentSlide&&infinite)&&(canContinue=!0,nextPosition=nextTranslate));return{direction:direction,nextPosition:nextPosition,canContinue:canContinue}}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.populateSlidesOnMouseTouchMove=populateSlidesOnMouseTouchMove;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var common_1=require(\"./common\");function populateNextSlides(state,props,slidesHavePassed){void 0===slidesHavePassed&&(slidesHavePassed=0);var nextSlides,nextPosition,slidesToShow=state.slidesToShow,currentSlide=state.currentSlide,itemWidth=state.itemWidth,totalItems=state.totalItems,slidesToSlide=common_1.getSlidesToSlide(state,props),nextMaximumSlides=currentSlide+1+slidesHavePassed+slidesToShow+(0<slidesHavePassed?0:slidesToSlide);return nextPosition=nextMaximumSlides<=totalItems?-itemWidth*(nextSlides=currentSlide+slidesHavePassed+(0<slidesHavePassed?0:slidesToSlide)):totalItems<nextMaximumSlides&&currentSlide!==totalItems-slidesToShow?-itemWidth*(nextSlides=totalItems-slidesToShow):nextSlides=void 0,{nextSlides:nextSlides,nextPosition:nextPosition}}exports.populateNextSlides=populateNextSlides;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var React=require(\"react\"),common_1=require(\"./common\"),common_2=require(\"./common\");function populatePreviousSlides(state,props,slidesHavePassed){void 0===slidesHavePassed&&(slidesHavePassed=0);var nextSlides,nextPosition,currentSlide=state.currentSlide,itemWidth=state.itemWidth,slidesToShow=state.slidesToShow,children=props.children,showDots=props.showDots,infinite=props.infinite,slidesToSlide=common_1.getSlidesToSlide(state,props),nextMaximumSlides=currentSlide-slidesHavePassed-(0<slidesHavePassed?0:slidesToSlide),additionalSlides=(React.Children.toArray(children).length-slidesToShow)%slidesToSlide;return nextPosition=0<=nextMaximumSlides?(nextSlides=nextMaximumSlides,showDots&&!infinite&&0<additionalSlides&&common_2.isInRightEnd(state)&&(nextSlides=currentSlide-additionalSlides),-itemWidth*nextSlides):nextSlides=nextMaximumSlides<0&&0!==currentSlide?0:void 0,{nextSlides:nextSlides,nextPosition:nextPosition}}exports.populatePreviousSlides=populatePreviousSlides;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var throttle=function(func,limit,setIsInThrottle){var inThrottle;return function(){var args=arguments;inThrottle||(func.apply(this,args),inThrottle=!0,\"function\"==typeof setIsInThrottle&&setIsInThrottle(!0),setTimeout(function(){inThrottle=!1,\"function\"==typeof setIsInThrottle&&setIsInThrottle(!1)},limit))}};exports.default=throttle;","\"use strict\";function throwError(state,props){var partialVisbile=props.partialVisbile,partialVisible=props.partialVisible,centerMode=props.centerMode,ssr=props.ssr,responsive=props.responsive;if((partialVisbile||partialVisible)&&centerMode)throw new Error(\"center mode can not be used at the same time with partialVisible\");if(!responsive)throw ssr?new Error(\"ssr mode need to be used in conjunction with responsive prop\"):new Error(\"Responsive prop is needed for deciding the amount of items to show on the screen\");if(responsive&&\"object\"!=typeof responsive)throw new Error(\"responsive prop must be an object\")}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=throwError;","/*!\n * Glide.js v3.7.1\n * (c) 2013-2024 Jdrzej Chaubek (https://github.com/jedrzejchalubek/)\n * Released under the MIT License.\n */\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}\n\nvar defaults = {\n  /**\n   * Type of the movement.\n   *\n   * Available types:\n   * `slider` - Rewinds slider to the start/end when it reaches the first or last slide.\n   * `carousel` - Changes slides without starting over when it reaches the first or last slide.\n   *\n   * @type {String}\n   */\n  type: 'slider',\n\n  /**\n   * Start at specific slide number defined with zero-based index.\n   *\n   * @type {Number}\n   */\n  startAt: 0,\n\n  /**\n   * A number of slides visible on the single viewport.\n   *\n   * @type {Number}\n   */\n  perView: 1,\n\n  /**\n   * Focus currently active slide at a specified position in the track.\n   *\n   * Available inputs:\n   * `center` - Current slide will be always focused at the center of a track.\n   * `0,1,2,3...` - Current slide will be focused on the specified zero-based index.\n   *\n   * @type {String|Number}\n   */\n  focusAt: 0,\n\n  /**\n   * A size of the gap added between slides.\n   *\n   * @type {Number}\n   */\n  gap: 10,\n\n  /**\n   * Change slides after a specified interval. Use `false` for turning off autoplay.\n   *\n   * @type {Number|Boolean}\n   */\n  autoplay: false,\n\n  /**\n   * Stop autoplay on mouseover event.\n   *\n   * @type {Boolean}\n   */\n  hoverpause: true,\n\n  /**\n   * Allow for changing slides with left and right keyboard arrows.\n   *\n   * @type {Boolean}\n   */\n  keyboard: true,\n\n  /**\n   * Stop running `perView` number of slides from the end. Use this\n   * option if you don't want to have an empty space after\n   * a slider. Works only with `slider` type and a\n   * non-centered `focusAt` setting.\n   *\n   * @type {Boolean}\n   */\n  bound: false,\n\n  /**\n   * Minimal swipe distance needed to change the slide. Use `false` for turning off a swiping.\n   *\n   * @type {Number|Boolean}\n   */\n  swipeThreshold: 80,\n\n  /**\n   * Minimal mouse drag distance needed to change the slide. Use `false` for turning off a dragging.\n   *\n   * @type {Number|Boolean}\n   */\n  dragThreshold: 120,\n\n  /**\n   * A number of slides moved on single swipe.\n   *\n   * Available types:\n   * `` - Moves slider by one slide per swipe\n   * `|` - Moves slider between views per swipe (number of slides defined in `perView` options)\n   *\n   * @type {String}\n   */\n  perSwipe: '',\n\n  /**\n   * Moving distance ratio of the slides on a swiping and dragging.\n   *\n   * @type {Number}\n   */\n  touchRatio: 0.5,\n\n  /**\n   * Angle required to activate slides moving on swiping or dragging.\n   *\n   * @type {Number}\n   */\n  touchAngle: 45,\n\n  /**\n   * Duration of the animation in milliseconds.\n   *\n   * @type {Number}\n   */\n  animationDuration: 400,\n\n  /**\n   * Allows looping the `slider` type. Slider will rewind to the first/last slide when it's at the start/end.\n   *\n   * @type {Boolean}\n   */\n  rewind: true,\n\n  /**\n   * Duration of the rewinding animation of the `slider` type in milliseconds.\n   *\n   * @type {Number}\n   */\n  rewindDuration: 800,\n\n  /**\n   * Easing function for the animation.\n   *\n   * @type {String}\n   */\n  animationTimingFunc: 'cubic-bezier(.165, .840, .440, 1)',\n\n  /**\n   * Wait for the animation to finish until the next user input can be processed\n   *\n   * @type {boolean}\n   */\n  waitForTransition: true,\n\n  /**\n   * Throttle costly events at most once per every wait milliseconds.\n   *\n   * @type {Number}\n   */\n  throttle: 10,\n\n  /**\n   * Moving direction mode.\n   *\n   * Available inputs:\n   * - 'ltr' - left to right movement,\n   * - 'rtl' - right to left movement.\n   *\n   * @type {String}\n   */\n  direction: 'ltr',\n\n  /**\n   * The distance value of the next and previous viewports which\n   * have to peek in the current view. Accepts number and\n   * pixels as a string. Left and right peeking can be\n   * set up separately with a directions object.\n   *\n   * For example:\n   * `100` - Peek 100px on the both sides.\n   * { before: 100, after: 50 }` - Peek 100px on the left side and 50px on the right side.\n   *\n   * @type {Number|String|Object}\n   */\n  peek: 0,\n\n  /**\n   * Defines how many clones of current viewport will be generated.\n   *\n   * @type {Number}\n   */\n  cloningRatio: 1,\n\n  /**\n   * Collection of options applied at specified media breakpoints.\n   * For example: display two slides per view under 800px.\n   * `{\n   *   '800px': {\n   *     perView: 2\n   *   }\n   * }`\n   */\n  breakpoints: {},\n\n  /**\n   * Collection of internally used HTML classes.\n   *\n   * @todo Refactor `slider` and `carousel` properties to single `type: { slider: '', carousel: '' }` object\n   * @type {Object}\n   */\n  classes: {\n    swipeable: 'glide--swipeable',\n    dragging: 'glide--dragging',\n    direction: {\n      ltr: 'glide--ltr',\n      rtl: 'glide--rtl'\n    },\n    type: {\n      slider: 'glide--slider',\n      carousel: 'glide--carousel'\n    },\n    slide: {\n      clone: 'glide__slide--clone',\n      active: 'glide__slide--active'\n    },\n    arrow: {\n      disabled: 'glide__arrow--disabled'\n    },\n    nav: {\n      active: 'glide__bullet--active'\n    }\n  }\n};\n\n/**\n * Outputs warning message to the bowser console.\n *\n * @param  {String} msg\n * @return {Void}\n */\nfunction warn(msg) {\n  console.error(\"[Glide warn]: \".concat(msg));\n}\n\n/**\n * Converts value entered as number\n * or string to integer value.\n *\n * @param {String} value\n * @returns {Number}\n */\nfunction toInt(value) {\n  return parseInt(value);\n}\n/**\n * Converts value entered as number\n * or string to flat value.\n *\n * @param {String} value\n * @returns {Number}\n */\n\nfunction toFloat(value) {\n  return parseFloat(value);\n}\n/**\n * Indicates whether the specified value is a string.\n *\n * @param  {*}   value\n * @return {Boolean}\n */\n\nfunction isString(value) {\n  return typeof value === 'string';\n}\n/**\n * Indicates whether the specified value is an object.\n *\n * @param  {*} value\n * @return {Boolean}\n *\n * @see https://github.com/jashkenas/underscore\n */\n\nfunction isObject(value) {\n  var type = _typeof(value);\n\n  return type === 'function' || type === 'object' && !!value; // eslint-disable-line no-mixed-operators\n}\n/**\n * Indicates whether the specified value is a function.\n *\n * @param  {*} value\n * @return {Boolean}\n */\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n/**\n * Indicates whether the specified value is undefined.\n *\n * @param  {*} value\n * @return {Boolean}\n */\n\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n/**\n * Indicates whether the specified value is an array.\n *\n * @param  {*} value\n * @return {Boolean}\n */\n\nfunction isArray(value) {\n  return value.constructor === Array;\n}\n\n/**\n * Creates and initializes specified collection of extensions.\n * Each extension receives access to instance of glide and rest of components.\n *\n * @param {Object} glide\n * @param {Object} extensions\n *\n * @returns {Object}\n */\n\nfunction mount(glide, extensions, events) {\n  var components = {};\n\n  for (var name in extensions) {\n    if (isFunction(extensions[name])) {\n      components[name] = extensions[name](glide, components, events);\n    } else {\n      warn('Extension must be a function');\n    }\n  }\n\n  for (var _name in components) {\n    if (isFunction(components[_name].mount)) {\n      components[_name].mount();\n    }\n  }\n\n  return components;\n}\n\n/**\n * Defines getter and setter property on the specified object.\n *\n * @param  {Object} obj         Object where property has to be defined.\n * @param  {String} prop        Name of the defined property.\n * @param  {Object} definition  Get and set definitions for the property.\n * @return {Void}\n */\nfunction define(obj, prop, definition) {\n  Object.defineProperty(obj, prop, definition);\n}\n/**\n * Sorts aphabetically object keys.\n *\n * @param  {Object} obj\n * @return {Object}\n */\n\nfunction sortKeys(obj) {\n  return Object.keys(obj).sort().reduce(function (r, k) {\n    r[k] = obj[k];\n    return r[k], r;\n  }, {});\n}\n/**\n * Merges passed settings object with default options.\n *\n * @param  {Object} defaults\n * @param  {Object} settings\n * @return {Object}\n */\n\nfunction mergeOptions(defaults, settings) {\n  var options = Object.assign({}, defaults, settings); // `Object.assign` do not deeply merge objects, so we\n  // have to do it manually for every nested object\n  // in options. Although it does not look smart,\n  // it's smaller and faster than some fancy\n  // merging deep-merge algorithm script.\n\n  if (settings.hasOwnProperty('classes')) {\n    options.classes = Object.assign({}, defaults.classes, settings.classes);\n    var properties = ['direction', 'type', 'slide', 'arrow', 'nav'];\n    properties.forEach(function (property) {\n      if (settings.classes.hasOwnProperty(property)) {\n        options.classes[property] = _objectSpread2(_objectSpread2({}, defaults.classes[property]), settings.classes[property]);\n      }\n    });\n  }\n\n  if (settings.hasOwnProperty('breakpoints')) {\n    options.breakpoints = Object.assign({}, defaults.breakpoints, settings.breakpoints);\n  }\n\n  return options;\n}\n\nvar EventsBus = /*#__PURE__*/function () {\n  /**\n   * Construct a EventBus instance.\n   *\n   * @param {Object} events\n   */\n  function EventsBus() {\n    var events = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, EventsBus);\n\n    this.events = events;\n    this.hop = events.hasOwnProperty;\n  }\n  /**\n   * Adds listener to the specifed event.\n   *\n   * @param {String|Array} event\n   * @param {Function} handler\n   */\n\n\n  _createClass(EventsBus, [{\n    key: \"on\",\n    value: function on(event, handler) {\n      if (isArray(event)) {\n        for (var i = 0; i < event.length; i++) {\n          this.on(event[i], handler);\n        }\n\n        return;\n      } // Create the event's object if not yet created\n\n\n      if (!this.hop.call(this.events, event)) {\n        this.events[event] = [];\n      } // Add the handler to queue\n\n\n      var index = this.events[event].push(handler) - 1; // Provide handle back for removal of event\n\n      return {\n        remove: function remove() {\n          delete this.events[event][index];\n        }\n      };\n    }\n    /**\n     * Runs registered handlers for specified event.\n     *\n     * @param {String|Array} event\n     * @param {Object=} context\n     */\n\n  }, {\n    key: \"emit\",\n    value: function emit(event, context) {\n      if (isArray(event)) {\n        for (var i = 0; i < event.length; i++) {\n          this.emit(event[i], context);\n        }\n\n        return;\n      } // If the event doesn't exist, or there's no handlers in queue, just leave\n\n\n      if (!this.hop.call(this.events, event)) {\n        return;\n      } // Cycle through events queue, fire!\n\n\n      this.events[event].forEach(function (item) {\n        item(context || {});\n      });\n    }\n  }]);\n\n  return EventsBus;\n}();\n\nvar Glide$1 = /*#__PURE__*/function () {\n  /**\r\n   * Construct glide.\r\n   *\r\n   * @param  {String} selector\r\n   * @param  {Object} options\r\n   */\n  function Glide(selector) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Glide);\n\n    this._c = {};\n    this._t = [];\n    this._e = new EventsBus();\n    this.disabled = false;\n    this.selector = selector;\n    this.settings = mergeOptions(defaults, options);\n    this.index = this.settings.startAt;\n  }\n  /**\r\n   * Initializes glide.\r\n   *\r\n   * @param {Object} extensions Collection of extensions to initialize.\r\n   * @return {Glide}\r\n   */\n\n\n  _createClass(Glide, [{\n    key: \"mount\",\n    value: function mount$1() {\n      var extensions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._e.emit('mount.before');\n\n      if (isObject(extensions)) {\n        this._c = mount(this, extensions, this._e);\n      } else {\n        warn('You need to provide a object on `mount()`');\n      }\n\n      this._e.emit('mount.after');\n\n      return this;\n    }\n    /**\r\n     * Collects an instance `translate` transformers.\r\n     *\r\n     * @param  {Array} transformers Collection of transformers.\r\n     * @return {Void}\r\n     */\n\n  }, {\n    key: \"mutate\",\n    value: function mutate() {\n      var transformers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      if (isArray(transformers)) {\n        this._t = transformers;\n      } else {\n        warn('You need to provide a array on `mutate()`');\n      }\n\n      return this;\n    }\n    /**\r\n     * Updates glide with specified settings.\r\n     *\r\n     * @param {Object} settings\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: \"update\",\n    value: function update() {\n      var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.settings = mergeOptions(this.settings, settings);\n\n      if (settings.hasOwnProperty('startAt')) {\n        this.index = settings.startAt;\n      }\n\n      this._e.emit('update');\n\n      return this;\n    }\n    /**\r\n     * Change slide with specified pattern. A pattern must be in the special format:\r\n     * `>` - Move one forward\r\n     * `<` - Move one backward\r\n     * `={i}` - Go to {i} zero-based slide (eq. '=1', will go to second slide)\r\n     * `>>` - Rewinds to end (last slide)\r\n     * `<<` - Rewinds to start (first slide)\r\n     * `|>` - Move one viewport forward\r\n     * `|<` - Move one viewport backward\r\n     *\r\n     * @param {String} pattern\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: \"go\",\n    value: function go(pattern) {\n      this._c.Run.make(pattern);\n\n      return this;\n    }\n    /**\r\n     * Move track by specified distance.\r\n     *\r\n     * @param {String} distance\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: \"move\",\n    value: function move(distance) {\n      this._c.Transition.disable();\n\n      this._c.Move.make(distance);\n\n      return this;\n    }\n    /**\r\n     * Destroy instance and revert all changes done by this._c.\r\n     *\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._e.emit('destroy');\n\n      return this;\n    }\n    /**\r\n     * Start instance autoplaying.\r\n     *\r\n     * @param {Boolean|Number} interval Run autoplaying with passed interval regardless of `autoplay` settings\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      var interval = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (interval) {\n        this.settings.autoplay = interval;\n      }\n\n      this._e.emit('play');\n\n      return this;\n    }\n    /**\r\n     * Stop instance autoplaying.\r\n     *\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this._e.emit('pause');\n\n      return this;\n    }\n    /**\r\n     * Sets glide into a idle status.\r\n     *\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.disabled = true;\n      return this;\n    }\n    /**\r\n     * Sets glide into a active status.\r\n     *\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.disabled = false;\n      return this;\n    }\n    /**\r\n     * Adds cuutom event listener with handler.\r\n     *\r\n     * @param  {String|Array} event\r\n     * @param  {Function} handler\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, handler) {\n      this._e.on(event, handler);\n\n      return this;\n    }\n    /**\r\n     * Checks if glide is a precised type.\r\n     *\r\n     * @param  {String} name\r\n     * @return {Boolean}\r\n     */\n\n  }, {\n    key: \"isType\",\n    value: function isType(name) {\n      return this.settings.type === name;\n    }\n    /**\r\n     * Gets value of the core options.\r\n     *\r\n     * @return {Object}\r\n     */\n\n  }, {\n    key: \"settings\",\n    get: function get() {\n      return this._o;\n    }\n    /**\r\n     * Sets value of the core options.\r\n     *\r\n     * @param  {Object} o\r\n     * @return {Void}\r\n     */\n    ,\n    set: function set(o) {\n      if (isObject(o)) {\n        this._o = o;\n      } else {\n        warn('Options must be an `object` instance.');\n      }\n    }\n    /**\r\n     * Gets current index of the slider.\r\n     *\r\n     * @return {Object}\r\n     */\n\n  }, {\n    key: \"index\",\n    get: function get() {\n      return this._i;\n    }\n    /**\r\n     * Sets current index a slider.\r\n     *\r\n     * @return {Object}\r\n     */\n    ,\n    set: function set(i) {\n      this._i = toInt(i);\n    }\n    /**\r\n     * Gets type name of the slider.\r\n     *\r\n     * @return {String}\r\n     */\n\n  }, {\n    key: \"type\",\n    get: function get() {\n      return this.settings.type;\n    }\n    /**\r\n     * Gets value of the idle status.\r\n     *\r\n     * @return {Boolean}\r\n     */\n\n  }, {\n    key: \"disabled\",\n    get: function get() {\n      return this._d;\n    }\n    /**\r\n     * Sets value of the idle status.\r\n     *\r\n     * @return {Boolean}\r\n     */\n    ,\n    set: function set(status) {\n      this._d = !!status;\n    }\n  }]);\n\n  return Glide;\n}();\n\nfunction Run (Glide, Components, Events) {\n  var Run = {\n    /**\n     * Initializes autorunning of the glide.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this._o = false;\n    },\n\n    /**\n     * Makes glides running based on the passed moving schema.\n     *\n     * @param {String} move\n     */\n    make: function make(move) {\n      var _this = this;\n\n      if (!Glide.disabled) {\n        !Glide.settings.waitForTransition || Glide.disable();\n        this.move = move;\n        Events.emit('run.before', this.move);\n        this.calculate();\n        Events.emit('run', this.move);\n        Components.Transition.after(function () {\n          if (_this.isStart()) {\n            Events.emit('run.start', _this.move);\n          }\n\n          if (_this.isEnd()) {\n            Events.emit('run.end', _this.move);\n          }\n\n          if (_this.isOffset()) {\n            _this._o = false;\n            Events.emit('run.offset', _this.move);\n          }\n\n          Events.emit('run.after', _this.move);\n          Glide.enable();\n        });\n      }\n    },\n\n    /**\n     * Calculates current index based on defined move.\n     *\n     * @return {Number|Undefined}\n     */\n    calculate: function calculate() {\n      var move = this.move,\n          length = this.length;\n      var steps = move.steps,\n          direction = move.direction; // By default assume that size of view is equal to one slide\n\n      var viewSize = 1; // While direction is `=` we want jump to\n      // a specified index described in steps.\n\n      if (direction === '=') {\n        // Check if bound is true, \n        // as we want to avoid whitespaces.\n        if (Glide.settings.bound && toInt(steps) > length) {\n          Glide.index = length;\n          return;\n        }\n\n        Glide.index = steps;\n        return;\n      } // When pattern is equal to `>>` we want\n      // fast forward to the last slide.\n\n\n      if (direction === '>' && steps === '>') {\n        Glide.index = length;\n        return;\n      } // When pattern is equal to `<<` we want\n      // fast forward to the first slide.\n\n\n      if (direction === '<' && steps === '<') {\n        Glide.index = 0;\n        return;\n      } // pagination movement\n\n\n      if (direction === '|') {\n        viewSize = Glide.settings.perView || 1;\n      } // we are moving forward\n\n\n      if (direction === '>' || direction === '|' && steps === '>') {\n        var index = calculateForwardIndex(viewSize);\n\n        if (index > length) {\n          this._o = true;\n        }\n\n        Glide.index = normalizeForwardIndex(index, viewSize);\n        return;\n      } // we are moving backward\n\n\n      if (direction === '<' || direction === '|' && steps === '<') {\n        var _index = calculateBackwardIndex(viewSize);\n\n        if (_index < 0) {\n          this._o = true;\n        }\n\n        Glide.index = normalizeBackwardIndex(_index, viewSize);\n        return;\n      }\n\n      warn(\"Invalid direction pattern [\".concat(direction).concat(steps, \"] has been used\"));\n    },\n\n    /**\n     * Checks if we are on the first slide.\n     *\n     * @return {Boolean}\n     */\n    isStart: function isStart() {\n      return Glide.index <= 0;\n    },\n\n    /**\n     * Checks if we are on the last slide.\n     *\n     * @return {Boolean}\n     */\n    isEnd: function isEnd() {\n      return Glide.index >= this.length;\n    },\n\n    /**\n     * Checks if we are making a offset run.\n     *\n     * @param {String} direction\n     * @return {Boolean}\n     */\n    isOffset: function isOffset() {\n      var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n      if (!direction) {\n        return this._o;\n      }\n\n      if (!this._o) {\n        return false;\n      } // did we view to the right?\n\n\n      if (direction === '|>') {\n        return this.move.direction === '|' && this.move.steps === '>';\n      } // did we view to the left?\n\n\n      if (direction === '|<') {\n        return this.move.direction === '|' && this.move.steps === '<';\n      }\n\n      return this.move.direction === direction;\n    },\n\n    /**\n     * Checks if bound mode is active\n     *\n     * @return {Boolean}\n     */\n    isBound: function isBound() {\n      return Glide.isType('slider') && Glide.settings.focusAt !== 'center' && Glide.settings.bound;\n    }\n  };\n  /**\n   * Returns index value to move forward/to the right\n   *\n   * @param viewSize\n   * @returns {Number}\n   */\n\n  function calculateForwardIndex(viewSize) {\n    var index = Glide.index;\n\n    if (Glide.isType('carousel')) {\n      return index + viewSize;\n    }\n\n    return index + (viewSize - index % viewSize);\n  }\n  /**\n   * Normalizes the given forward index based on glide settings, preventing it to exceed certain boundaries\n   *\n   * @param index\n   * @param length\n   * @param viewSize\n   * @returns {Number}\n   */\n\n\n  function normalizeForwardIndex(index, viewSize) {\n    var length = Run.length;\n\n    if (index <= length) {\n      return index;\n    }\n\n    if (Glide.isType('carousel')) {\n      return index - (length + 1);\n    }\n\n    if (Glide.settings.rewind) {\n      // bound does funny things with the length, therefor we have to be certain\n      // that we are on the last possible index value given by bound\n      if (Run.isBound() && !Run.isEnd()) {\n        return length;\n      }\n\n      return 0;\n    }\n\n    if (Run.isBound()) {\n      return length;\n    }\n\n    return Math.floor(length / viewSize) * viewSize;\n  }\n  /**\n   * Calculates index value to move backward/to the left\n   *\n   * @param viewSize\n   * @returns {Number}\n   */\n\n\n  function calculateBackwardIndex(viewSize) {\n    var index = Glide.index;\n\n    if (Glide.isType('carousel')) {\n      return index - viewSize;\n    } // ensure our back navigation results in the same index as a forward navigation\n    // to experience a homogeneous paging\n\n\n    var view = Math.ceil(index / viewSize);\n    return (view - 1) * viewSize;\n  }\n  /**\n   * Normalizes the given backward index based on glide settings, preventing it to exceed certain boundaries\n   *\n   * @param index\n   * @param length\n   * @param viewSize\n   * @returns {*}\n   */\n\n\n  function normalizeBackwardIndex(index, viewSize) {\n    var length = Run.length;\n\n    if (index >= 0) {\n      return index;\n    }\n\n    if (Glide.isType('carousel')) {\n      return index + (length + 1);\n    }\n\n    if (Glide.settings.rewind) {\n      // bound does funny things with the length, therefor we have to be certain\n      // that we are on first possible index value before we to rewind to the length given by bound\n      if (Run.isBound() && Run.isStart()) {\n        return length;\n      }\n\n      return Math.floor(length / viewSize) * viewSize;\n    }\n\n    return 0;\n  }\n\n  define(Run, 'move', {\n    /**\n     * Gets value of the move schema.\n     *\n     * @returns {Object}\n     */\n    get: function get() {\n      return this._m;\n    },\n\n    /**\n     * Sets value of the move schema.\n     *\n     * @returns {Object}\n     */\n    set: function set(value) {\n      var step = value.substr(1);\n      this._m = {\n        direction: value.substr(0, 1),\n        steps: step ? toInt(step) ? toInt(step) : step : 0\n      };\n    }\n  });\n  define(Run, 'length', {\n    /**\n     * Gets value of the running distance based\n     * on zero-indexing number of slides.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      var settings = Glide.settings;\n      var length = Components.Html.slides.length; // If the `bound` option is active, a maximum running distance should be\n      // reduced by `perView` and `focusAt` settings. Running distance\n      // should end before creating an empty space after instance.\n\n      if (this.isBound()) {\n        return length - 1 - (toInt(settings.perView) - 1) + toInt(settings.focusAt);\n      }\n\n      return length - 1;\n    }\n  });\n  define(Run, 'offset', {\n    /**\n     * Gets status of the offsetting flag.\n     *\n     * @return {Boolean}\n     */\n    get: function get() {\n      return this._o;\n    }\n  });\n  return Run;\n}\n\n/**\n * Returns a current time.\n *\n * @return {Number}\n */\nfunction now() {\n  return new Date().getTime();\n}\n\n/**\n * Returns a function, that, when invoked, will only be triggered\n * at most once during a given window of time.\n *\n * @param {Function} func\n * @param {Number} wait\n * @param {Object=} options\n * @return {Function}\n *\n * @see https://github.com/jashkenas/underscore\n */\n\nfunction throttle(func, wait) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var timeout, context, args, result;\n  var previous = 0;\n\n  var later = function later() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function throttled() {\n    var at = now();\n    if (!previous && options.leading === false) previous = at;\n    var remaining = wait - (at - previous);\n    context = this;\n    args = arguments;\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n\n      previous = at;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n\n  throttled.cancel = function () {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n\nvar MARGIN_TYPE = {\n  ltr: ['marginLeft', 'marginRight'],\n  rtl: ['marginRight', 'marginLeft']\n};\nfunction Gaps (Glide, Components, Events) {\n  var Gaps = {\n    /**\n     * Applies gaps between slides. First and last\n     * slides do not receive it's edge margins.\n     *\n     * @param {HTMLCollection} slides\n     * @return {Void}\n     */\n    apply: function apply(slides) {\n      for (var i = 0, len = slides.length; i < len; i++) {\n        var style = slides[i].style;\n        var direction = Components.Direction.value;\n\n        if (i !== 0) {\n          style[MARGIN_TYPE[direction][0]] = \"\".concat(this.value / 2, \"px\");\n        } else {\n          style[MARGIN_TYPE[direction][0]] = '';\n        }\n\n        if (i !== slides.length - 1) {\n          style[MARGIN_TYPE[direction][1]] = \"\".concat(this.value / 2, \"px\");\n        } else {\n          style[MARGIN_TYPE[direction][1]] = '';\n        }\n      }\n    },\n\n    /**\n     * Removes gaps from the slides.\n     *\n     * @param {HTMLCollection} slides\n     * @returns {Void}\n    */\n    remove: function remove(slides) {\n      for (var i = 0, len = slides.length; i < len; i++) {\n        var style = slides[i].style;\n        style.marginLeft = '';\n        style.marginRight = '';\n      }\n    }\n  };\n  define(Gaps, 'value', {\n    /**\n     * Gets value of the gap.\n     *\n     * @returns {Number}\n     */\n    get: function get() {\n      return toInt(Glide.settings.gap);\n    }\n  });\n  define(Gaps, 'grow', {\n    /**\n     * Gets additional dimensions value caused by gaps.\n     * Used to increase width of the slides wrapper.\n     *\n     * @returns {Number}\n     */\n    get: function get() {\n      return Gaps.value * Components.Sizes.length;\n    }\n  });\n  define(Gaps, 'reductor', {\n    /**\n     * Gets reduction value caused by gaps.\n     * Used to subtract width of the slides.\n     *\n     * @returns {Number}\n     */\n    get: function get() {\n      var perView = Glide.settings.perView;\n      return Gaps.value * (perView - 1) / perView;\n    }\n  });\n  /**\n   * Apply calculated gaps:\n   * - after building, so slides (including clones) will receive proper margins\n   * - on updating via API, to recalculate gaps with new options\n   */\n\n  Events.on(['build.after', 'update'], throttle(function () {\n    Gaps.apply(Components.Html.wrapper.children);\n  }, 30));\n  /**\n   * Remove gaps:\n   * - on destroying to bring markup to its inital state\n   */\n\n  Events.on('destroy', function () {\n    Gaps.remove(Components.Html.wrapper.children);\n  });\n  return Gaps;\n}\n\n/**\n * Finds siblings nodes of the passed node.\n *\n * @param  {Element} node\n * @return {Array}\n */\nfunction siblings(node) {\n  if (node && node.parentNode) {\n    var n = node.parentNode.firstChild;\n    var matched = [];\n\n    for (; n; n = n.nextSibling) {\n      if (n.nodeType === 1 && n !== node) {\n        matched.push(n);\n      }\n    }\n\n    return matched;\n  }\n\n  return [];\n}\n/**\n * Coerces a NodeList to an Array.\n *\n * @param  {NodeList} nodeList\n * @return {Array}\n */\n\nfunction toArray(nodeList) {\n  return Array.prototype.slice.call(nodeList);\n}\n\nvar TRACK_SELECTOR = '[data-glide-el=\"track\"]';\nfunction Html (Glide, Components, Events) {\n  var Html = {\n    /**\n     * Setup slider HTML nodes.\n     *\n     * @param {Glide} glide\n     */\n    mount: function mount() {\n      this.root = Glide.selector;\n      this.track = this.root.querySelector(TRACK_SELECTOR);\n      this.collectSlides();\n    },\n\n    /**\n     * Collect slides\n     */\n    collectSlides: function collectSlides() {\n      this.slides = toArray(this.wrapper.children).filter(function (slide) {\n        return !slide.classList.contains(Glide.settings.classes.slide.clone);\n      });\n    }\n  };\n  define(Html, 'root', {\n    /**\n     * Gets node of the glide main element.\n     *\n     * @return {Object}\n     */\n    get: function get() {\n      return Html._r;\n    },\n\n    /**\n     * Sets node of the glide main element.\n     *\n     * @return {Object}\n     */\n    set: function set(r) {\n      if (isString(r)) {\n        r = document.querySelector(r);\n      }\n\n      if (r !== null) {\n        Html._r = r;\n      } else {\n        warn('Root element must be a existing Html node');\n      }\n    }\n  });\n  define(Html, 'track', {\n    /**\n     * Gets node of the glide track with slides.\n     *\n     * @return {Object}\n     */\n    get: function get() {\n      return Html._t;\n    },\n\n    /**\n     * Sets node of the glide track with slides.\n     *\n     * @return {Object}\n     */\n    set: function set(t) {\n      Html._t = t;\n    }\n  });\n  define(Html, 'wrapper', {\n    /**\n     * Gets node of the slides wrapper.\n     *\n     * @return {Object}\n     */\n    get: function get() {\n      return Html.track.children[0];\n    }\n  });\n  /**\n   * Add/remove/reorder dynamic slides\n   */\n\n  Events.on('update', function () {\n    Html.collectSlides();\n  });\n  return Html;\n}\n\nfunction Peek (Glide, Components, Events) {\n  var Peek = {\n    /**\n     * Setups how much to peek based on settings.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this.value = Glide.settings.peek;\n    }\n  };\n  define(Peek, 'value', {\n    /**\n     * Gets value of the peek.\n     *\n     * @returns {Number|Object}\n     */\n    get: function get() {\n      return Peek._v;\n    },\n\n    /**\n     * Sets value of the peek.\n     *\n     * @param {Number|Object} value\n     * @return {Void}\n     */\n    set: function set(value) {\n      if (isObject(value)) {\n        value.before = toInt(value.before);\n        value.after = toInt(value.after);\n      } else {\n        value = toInt(value);\n      }\n\n      Peek._v = value;\n    }\n  });\n  define(Peek, 'reductor', {\n    /**\n     * Gets reduction value caused by peek.\n     *\n     * @returns {Number}\n     */\n    get: function get() {\n      var value = Peek.value;\n      var perView = Glide.settings.perView;\n\n      if (isObject(value)) {\n        return value.before / perView + value.after / perView;\n      }\n\n      return value * 2 / perView;\n    }\n  });\n  /**\n   * Recalculate peeking sizes on:\n   * - when resizing window to update to proper percents\n   */\n\n  Events.on(['resize', 'update'], function () {\n    Peek.mount();\n  });\n  return Peek;\n}\n\nfunction Move (Glide, Components, Events) {\n  var Move = {\n    /**\n     * Constructs move component.\n     *\n     * @returns {Void}\n     */\n    mount: function mount() {\n      this._o = 0;\n    },\n\n    /**\n     * Calculates a movement value based on passed offset and currently active index.\n     *\n     * @param  {Number} offset\n     * @return {Void}\n     */\n    make: function make() {\n      var _this = this;\n\n      var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      this.offset = offset;\n      Events.emit('move', {\n        movement: this.value\n      });\n      Components.Transition.after(function () {\n        Events.emit('move.after', {\n          movement: _this.value\n        });\n      });\n    }\n  };\n  define(Move, 'offset', {\n    /**\n     * Gets an offset value used to modify current translate.\n     *\n     * @return {Object}\n     */\n    get: function get() {\n      return Move._o;\n    },\n\n    /**\n     * Sets an offset value used to modify current translate.\n     *\n     * @return {Object}\n     */\n    set: function set(value) {\n      Move._o = !isUndefined(value) ? toInt(value) : 0;\n    }\n  });\n  define(Move, 'translate', {\n    /**\n     * Gets a raw movement value.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return Components.Sizes.slideWidth * Glide.index;\n    }\n  });\n  define(Move, 'value', {\n    /**\n     * Gets an actual movement value corrected by offset.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      var offset = this.offset;\n      var translate = this.translate;\n\n      if (Components.Direction.is('rtl')) {\n        return translate + offset;\n      }\n\n      return translate - offset;\n    }\n  });\n  /**\n   * Make movement to proper slide on:\n   * - before build, so glide will start at `startAt` index\n   * - on each standard run to move to newly calculated index\n   */\n\n  Events.on(['build.before', 'run'], function () {\n    Move.make();\n  });\n  return Move;\n}\n\nfunction Sizes (Glide, Components, Events) {\n  var Sizes = {\n    /**\n     * Setups dimensions of slides.\n     *\n     * @return {Void}\n     */\n    setupSlides: function setupSlides() {\n      var width = \"\".concat(this.slideWidth, \"px\");\n      var slides = Components.Html.slides;\n\n      for (var i = 0; i < slides.length; i++) {\n        slides[i].style.width = width;\n      }\n    },\n\n    /**\n     * Setups dimensions of slides wrapper.\n     *\n     * @return {Void}\n     */\n    setupWrapper: function setupWrapper() {\n      Components.Html.wrapper.style.width = \"\".concat(this.wrapperSize, \"px\");\n    },\n\n    /**\n     * Removes applied styles from HTML elements.\n     *\n     * @returns {Void}\n     */\n    remove: function remove() {\n      var slides = Components.Html.slides;\n\n      for (var i = 0; i < slides.length; i++) {\n        slides[i].style.width = '';\n      }\n\n      Components.Html.wrapper.style.width = '';\n    }\n  };\n  define(Sizes, 'length', {\n    /**\n     * Gets count number of the slides.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return Components.Html.slides.length;\n    }\n  });\n  define(Sizes, 'width', {\n    /**\n     * Gets width value of the slider (visible area).\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return Components.Html.track.offsetWidth;\n    }\n  });\n  define(Sizes, 'wrapperSize', {\n    /**\n     * Gets size of the slides wrapper.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return Sizes.slideWidth * Sizes.length + Components.Gaps.grow + Components.Clones.grow;\n    }\n  });\n  define(Sizes, 'slideWidth', {\n    /**\n     * Gets width value of a single slide.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return Sizes.width / Glide.settings.perView - Components.Peek.reductor - Components.Gaps.reductor;\n    }\n  });\n  /**\n   * Apply calculated glide's dimensions:\n   * - before building, so other dimensions (e.g. translate) will be calculated propertly\n   * - when resizing window to recalculate sildes dimensions\n   * - on updating via API, to calculate dimensions based on new options\n   */\n\n  Events.on(['build.before', 'resize', 'update'], function () {\n    Sizes.setupSlides();\n    Sizes.setupWrapper();\n  });\n  /**\n   * Remove calculated glide's dimensions:\n   * - on destoting to bring markup to its inital state\n   */\n\n  Events.on('destroy', function () {\n    Sizes.remove();\n  });\n  return Sizes;\n}\n\nfunction Build (Glide, Components, Events) {\n  var Build = {\n    /**\n     * Init glide building. Adds classes, sets\n     * dimensions and setups initial state.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      Events.emit('build.before');\n      this.typeClass();\n      this.activeClass();\n      Events.emit('build.after');\n    },\n\n    /**\n     * Adds `type` class to the glide element.\n     *\n     * @return {Void}\n     */\n    typeClass: function typeClass() {\n      Components.Html.root.classList.add(Glide.settings.classes.type[Glide.settings.type]);\n    },\n\n    /**\n     * Sets active class to current slide.\n     *\n     * @return {Void}\n     */\n    activeClass: function activeClass() {\n      var classes = Glide.settings.classes;\n      var slide = Components.Html.slides[Glide.index];\n\n      if (slide) {\n        slide.classList.add(classes.slide.active);\n        siblings(slide).forEach(function (sibling) {\n          sibling.classList.remove(classes.slide.active);\n        });\n      }\n    },\n\n    /**\n     * Removes HTML classes applied at building.\n     *\n     * @return {Void}\n     */\n    removeClasses: function removeClasses() {\n      var _Glide$settings$class = Glide.settings.classes,\n          type = _Glide$settings$class.type,\n          slide = _Glide$settings$class.slide;\n      Components.Html.root.classList.remove(type[Glide.settings.type]);\n      Components.Html.slides.forEach(function (sibling) {\n        sibling.classList.remove(slide.active);\n      });\n    }\n  };\n  /**\n   * Clear building classes:\n   * - on destroying to bring HTML to its initial state\n   * - on updating to remove classes before remounting component\n   */\n\n  Events.on(['destroy', 'update'], function () {\n    Build.removeClasses();\n  });\n  /**\n   * Remount component:\n   * - on resizing of the window to calculate new dimensions\n   * - on updating settings via API\n   */\n\n  Events.on(['resize', 'update'], function () {\n    Build.mount();\n  });\n  /**\n   * Swap active class of current slide:\n   * - after each move to the new index\n   */\n\n  Events.on('move.after', function () {\n    Build.activeClass();\n  });\n  return Build;\n}\n\nfunction Clones (Glide, Components, Events) {\n  var Clones = {\n    /**\n     * Create pattern map and collect slides to be cloned.\n     */\n    mount: function mount() {\n      this.items = [];\n\n      if (Glide.isType('carousel')) {\n        this.items = this.collect();\n      }\n    },\n\n    /**\n     * Collect clones with pattern.\n     *\n     * @return {[]}\n     */\n    collect: function collect() {\n      var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var slides = Components.Html.slides;\n      var _Glide$settings = Glide.settings,\n          perView = _Glide$settings.perView,\n          classes = _Glide$settings.classes,\n          cloningRatio = _Glide$settings.cloningRatio;\n\n      if (slides.length > 0) {\n        var peekIncrementer = +!!Glide.settings.peek;\n        var cloneCount = perView + peekIncrementer + Math.round(perView / 2);\n        var append = slides.slice(0, cloneCount).reverse();\n        var prepend = slides.slice(cloneCount * -1);\n\n        for (var r = 0; r < Math.max(cloningRatio, Math.floor(perView / slides.length)); r++) {\n          for (var i = 0; i < append.length; i++) {\n            var clone = append[i].cloneNode(true);\n            clone.classList.add(classes.slide.clone);\n            items.push(clone);\n          }\n\n          for (var _i = 0; _i < prepend.length; _i++) {\n            var _clone = prepend[_i].cloneNode(true);\n\n            _clone.classList.add(classes.slide.clone);\n\n            items.unshift(_clone);\n          }\n        }\n      }\n\n      return items;\n    },\n\n    /**\n     * Append cloned slides with generated pattern.\n     *\n     * @return {Void}\n     */\n    append: function append() {\n      var items = this.items;\n      var _Components$Html = Components.Html,\n          wrapper = _Components$Html.wrapper,\n          slides = _Components$Html.slides;\n      var half = Math.floor(items.length / 2);\n      var prepend = items.slice(0, half).reverse();\n      var append = items.slice(half * -1).reverse();\n      var width = \"\".concat(Components.Sizes.slideWidth, \"px\");\n\n      for (var i = 0; i < append.length; i++) {\n        wrapper.appendChild(append[i]);\n      }\n\n      for (var _i2 = 0; _i2 < prepend.length; _i2++) {\n        wrapper.insertBefore(prepend[_i2], slides[0]);\n      }\n\n      for (var _i3 = 0; _i3 < items.length; _i3++) {\n        items[_i3].style.width = width;\n      }\n    },\n\n    /**\n     * Remove all cloned slides.\n     *\n     * @return {Void}\n     */\n    remove: function remove() {\n      var items = this.items;\n\n      for (var i = 0; i < items.length; i++) {\n        Components.Html.wrapper.removeChild(items[i]);\n      }\n    }\n  };\n  define(Clones, 'grow', {\n    /**\n     * Gets additional dimensions value caused by clones.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return (Components.Sizes.slideWidth + Components.Gaps.value) * Clones.items.length;\n    }\n  });\n  /**\n   * Append additional slide's clones:\n   * - while glide's type is `carousel`\n   */\n\n  Events.on('update', function () {\n    Clones.remove();\n    Clones.mount();\n    Clones.append();\n  });\n  /**\n   * Append additional slide's clones:\n   * - while glide's type is `carousel`\n   */\n\n  Events.on('build.before', function () {\n    if (Glide.isType('carousel')) {\n      Clones.append();\n    }\n  });\n  /**\n   * Remove clones HTMLElements:\n   * - on destroying, to bring HTML to its initial state\n   */\n\n  Events.on('destroy', function () {\n    Clones.remove();\n  });\n  return Clones;\n}\n\nvar EventsBinder = /*#__PURE__*/function () {\n  /**\n   * Construct a EventsBinder instance.\n   */\n  function EventsBinder() {\n    var listeners = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, EventsBinder);\n\n    this.listeners = listeners;\n  }\n  /**\n   * Adds events listeners to arrows HTML elements.\n   *\n   * @param  {String|Array} events\n   * @param  {Element|Window|Document} el\n   * @param  {Function} closure\n   * @param  {Boolean|Object} capture\n   * @return {Void}\n   */\n\n\n  _createClass(EventsBinder, [{\n    key: \"on\",\n    value: function on(events, el, closure) {\n      var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (isString(events)) {\n        events = [events];\n      }\n\n      for (var i = 0; i < events.length; i++) {\n        this.listeners[events[i]] = closure;\n        el.addEventListener(events[i], this.listeners[events[i]], capture);\n      }\n    }\n    /**\n     * Removes event listeners from arrows HTML elements.\n     *\n     * @param  {String|Array} events\n     * @param  {Element|Window|Document} el\n     * @param  {Boolean|Object} capture\n     * @return {Void}\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(events, el) {\n      var capture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (isString(events)) {\n        events = [events];\n      }\n\n      for (var i = 0; i < events.length; i++) {\n        el.removeEventListener(events[i], this.listeners[events[i]], capture);\n      }\n    }\n    /**\n     * Destroy collected listeners.\n     *\n     * @returns {Void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      delete this.listeners;\n    }\n  }]);\n\n  return EventsBinder;\n}();\n\nfunction Resize (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n  var Resize = {\n    /**\n     * Initializes window bindings.\n     */\n    mount: function mount() {\n      this.bind();\n    },\n\n    /**\n     * Binds `rezsize` listener to the window.\n     * It's a costly event, so we are debouncing it.\n     *\n     * @return {Void}\n     */\n    bind: function bind() {\n      Binder.on('resize', window, throttle(function () {\n        Events.emit('resize');\n      }, Glide.settings.throttle));\n    },\n\n    /**\n     * Unbinds listeners from the window.\n     *\n     * @return {Void}\n     */\n    unbind: function unbind() {\n      Binder.off('resize', window);\n    }\n  };\n  /**\n   * Remove bindings from window:\n   * - on destroying, to remove added EventListener\n   */\n\n  Events.on('destroy', function () {\n    Resize.unbind();\n    Binder.destroy();\n  });\n  return Resize;\n}\n\nvar VALID_DIRECTIONS = ['ltr', 'rtl'];\nvar FLIPED_MOVEMENTS = {\n  '>': '<',\n  '<': '>',\n  '=': '='\n};\nfunction Direction (Glide, Components, Events) {\n  var Direction = {\n    /**\n     * Setups gap value based on settings.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this.value = Glide.settings.direction;\n    },\n\n    /**\n     * Resolves pattern based on direction value\n     *\n     * @param {String} pattern\n     * @returns {String}\n     */\n    resolve: function resolve(pattern) {\n      var token = pattern.slice(0, 1);\n\n      if (this.is('rtl')) {\n        return pattern.split(token).join(FLIPED_MOVEMENTS[token]);\n      }\n\n      return pattern;\n    },\n\n    /**\n     * Checks value of direction mode.\n     *\n     * @param {String} direction\n     * @returns {Boolean}\n     */\n    is: function is(direction) {\n      return this.value === direction;\n    },\n\n    /**\n     * Applies direction class to the root HTML element.\n     *\n     * @return {Void}\n     */\n    addClass: function addClass() {\n      Components.Html.root.classList.add(Glide.settings.classes.direction[this.value]);\n    },\n\n    /**\n     * Removes direction class from the root HTML element.\n     *\n     * @return {Void}\n     */\n    removeClass: function removeClass() {\n      Components.Html.root.classList.remove(Glide.settings.classes.direction[this.value]);\n    }\n  };\n  define(Direction, 'value', {\n    /**\n     * Gets value of the direction.\n     *\n     * @returns {Number}\n     */\n    get: function get() {\n      return Direction._v;\n    },\n\n    /**\n     * Sets value of the direction.\n     *\n     * @param {String} value\n     * @return {Void}\n     */\n    set: function set(value) {\n      if (VALID_DIRECTIONS.indexOf(value) > -1) {\n        Direction._v = value;\n      } else {\n        warn('Direction value must be `ltr` or `rtl`');\n      }\n    }\n  });\n  /**\n   * Clear direction class:\n   * - on destroy to bring HTML to its initial state\n   * - on update to remove class before reappling bellow\n   */\n\n  Events.on(['destroy', 'update'], function () {\n    Direction.removeClass();\n  });\n  /**\n   * Remount component:\n   * - on update to reflect changes in direction value\n   */\n\n  Events.on('update', function () {\n    Direction.mount();\n  });\n  /**\n   * Apply direction class:\n   * - before building to apply class for the first time\n   * - on updating to reapply direction class that may changed\n   */\n\n  Events.on(['build.before', 'update'], function () {\n    Direction.addClass();\n  });\n  return Direction;\n}\n\n/**\n * Reflects value of glide movement.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\nfunction Rtl (Glide, Components) {\n  return {\n    /**\n     * Negates the passed translate if glide is in RTL option.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    modify: function modify(translate) {\n      if (Components.Direction.is('rtl')) {\n        return -translate;\n      }\n\n      return translate;\n    }\n  };\n}\n\n/**\n * Updates glide movement with a `gap` settings.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\nfunction Gap (Glide, Components) {\n  return {\n    /**\n     * Modifies passed translate value with number in the `gap` settings.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    modify: function modify(translate) {\n      var multiplier = Math.floor(translate / Components.Sizes.slideWidth);\n      return translate + Components.Gaps.value * multiplier;\n    }\n  };\n}\n\n/**\n * Updates glide movement with width of additional clones width.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\nfunction Grow (Glide, Components) {\n  return {\n    /**\n     * Adds to the passed translate width of the half of clones.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    modify: function modify(translate) {\n      return translate + Components.Clones.grow / 2;\n    }\n  };\n}\n\n/**\n * Updates glide movement with a `peek` settings.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\n\nfunction Peeking (Glide, Components) {\n  return {\n    /**\n     * Modifies passed translate value with a `peek` setting.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    modify: function modify(translate) {\n      if (Glide.settings.focusAt >= 0) {\n        var peek = Components.Peek.value;\n\n        if (isObject(peek)) {\n          return translate - peek.before;\n        }\n\n        return translate - peek;\n      }\n\n      return translate;\n    }\n  };\n}\n\n/**\n * Updates glide movement with a `focusAt` settings.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\nfunction Focusing (Glide, Components) {\n  return {\n    /**\n     * Modifies passed translate value with index in the `focusAt` setting.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    modify: function modify(translate) {\n      var gap = Components.Gaps.value;\n      var width = Components.Sizes.width;\n      var focusAt = Glide.settings.focusAt;\n      var slideWidth = Components.Sizes.slideWidth;\n\n      if (focusAt === 'center') {\n        return translate - (width / 2 - slideWidth / 2);\n      }\n\n      return translate - slideWidth * focusAt - gap * focusAt;\n    }\n  };\n}\n\n/**\n * Applies diffrent transformers on translate value.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\n\nfunction mutator (Glide, Components, Events) {\n  /**\n   * Merge instance transformers with collection of default transformers.\n   * It's important that the Rtl component be last on the list,\n   * so it reflects all previous transformations.\n   *\n   * @type {Array}\n   */\n  var TRANSFORMERS = [Gap, Grow, Peeking, Focusing].concat(Glide._t, [Rtl]);\n  return {\n    /**\n     * Piplines translate value with registered transformers.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    mutate: function mutate(translate) {\n      for (var i = 0; i < TRANSFORMERS.length; i++) {\n        var transformer = TRANSFORMERS[i];\n\n        if (isFunction(transformer) && isFunction(transformer().modify)) {\n          translate = transformer(Glide, Components, Events).modify(translate);\n        } else {\n          warn('Transformer should be a function that returns an object with `modify()` method');\n        }\n      }\n\n      return translate;\n    }\n  };\n}\n\nfunction Translate (Glide, Components, Events) {\n  var Translate = {\n    /**\n     * Sets value of translate on HTML element.\n     *\n     * @param {Number} value\n     * @return {Void}\n     */\n    set: function set(value) {\n      var transform = mutator(Glide, Components).mutate(value);\n      var translate3d = \"translate3d(\".concat(-1 * transform, \"px, 0px, 0px)\");\n      Components.Html.wrapper.style.mozTransform = translate3d; // needed for supported Firefox 10-15\n\n      Components.Html.wrapper.style.webkitTransform = translate3d; // needed for supported Chrome 10-35, Safari 5.1-8, and Opera 15-22\n\n      Components.Html.wrapper.style.transform = translate3d;\n    },\n\n    /**\n     * Removes value of translate from HTML element.\n     *\n     * @return {Void}\n     */\n    remove: function remove() {\n      Components.Html.wrapper.style.transform = '';\n    },\n\n    /**\n     * @return {number}\n     */\n    getStartIndex: function getStartIndex() {\n      var length = Components.Sizes.length;\n      var index = Glide.index;\n      var perView = Glide.settings.perView;\n\n      if (Components.Run.isOffset('>') || Components.Run.isOffset('|>')) {\n        return length + (index - perView);\n      } // \"modulo length\" converts an index that equals length to zero\n\n\n      return (index + perView) % length;\n    },\n\n    /**\n     * @return {number}\n     */\n    getTravelDistance: function getTravelDistance() {\n      var travelDistance = Components.Sizes.slideWidth * Glide.settings.perView;\n\n      if (Components.Run.isOffset('>') || Components.Run.isOffset('|>')) {\n        // reverse travel distance so that we don't have to change subtract operations\n        return travelDistance * -1;\n      }\n\n      return travelDistance;\n    }\n  };\n  /**\n   * Set new translate value:\n   * - on move to reflect index change\n   * - on updating via API to reflect possible changes in options\n   */\n\n  Events.on('move', function (context) {\n    if (!Glide.isType('carousel') || !Components.Run.isOffset()) {\n      return Translate.set(context.movement);\n    }\n\n    Components.Transition.after(function () {\n      Events.emit('translate.jump');\n      Translate.set(Components.Sizes.slideWidth * Glide.index);\n    });\n    var startWidth = Components.Sizes.slideWidth * Components.Translate.getStartIndex();\n    return Translate.set(startWidth - Components.Translate.getTravelDistance());\n  });\n  /**\n   * Remove translate:\n   * - on destroying to bring markup to its inital state\n   */\n\n  Events.on('destroy', function () {\n    Translate.remove();\n  });\n  return Translate;\n}\n\nfunction Transition (Glide, Components, Events) {\n  /**\n   * Holds inactivity status of transition.\n   * When true transition is not applied.\n   *\n   * @type {Boolean}\n   */\n  var disabled = false;\n  var Transition = {\n    /**\n     * Composes string of the CSS transition.\n     *\n     * @param {String} property\n     * @return {String}\n     */\n    compose: function compose(property) {\n      var settings = Glide.settings;\n\n      if (disabled) {\n        return \"\".concat(property, \" 0ms \").concat(settings.animationTimingFunc);\n      }\n\n      return \"\".concat(property, \" \").concat(this.duration, \"ms \").concat(settings.animationTimingFunc);\n    },\n\n    /**\n     * Sets value of transition on HTML element.\n     *\n     * @param {String=} property\n     * @return {Void}\n     */\n    set: function set() {\n      var property = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n      Components.Html.wrapper.style.transition = this.compose(property);\n    },\n\n    /**\n     * Removes value of transition from HTML element.\n     *\n     * @return {Void}\n     */\n    remove: function remove() {\n      Components.Html.wrapper.style.transition = '';\n    },\n\n    /**\n     * Runs callback after animation.\n     *\n     * @param  {Function} callback\n     * @return {Void}\n     */\n    after: function after(callback) {\n      setTimeout(function () {\n        callback();\n      }, this.duration);\n    },\n\n    /**\n     * Enable transition.\n     *\n     * @return {Void}\n     */\n    enable: function enable() {\n      disabled = false;\n      this.set();\n    },\n\n    /**\n     * Disable transition.\n     *\n     * @return {Void}\n     */\n    disable: function disable() {\n      disabled = true;\n      this.set();\n    }\n  };\n  define(Transition, 'duration', {\n    /**\n     * Gets duration of the transition based\n     * on currently running animation type.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      var settings = Glide.settings;\n\n      if (Glide.isType('slider') && Components.Run.offset) {\n        return settings.rewindDuration;\n      }\n\n      return settings.animationDuration;\n    }\n  });\n  /**\n   * Set transition `style` value:\n   * - on each moving, because it may be cleared by offset move\n   */\n\n  Events.on('move', function () {\n    Transition.set();\n  });\n  /**\n   * Disable transition:\n   * - before initial build to avoid transitioning from `0` to `startAt` index\n   * - while resizing window and recalculating dimensions\n   * - on jumping from offset transition at start and end edges in `carousel` type\n   */\n\n  Events.on(['build.before', 'resize', 'translate.jump'], function () {\n    Transition.disable();\n  });\n  /**\n   * Enable transition:\n   * - on each running, because it may be disabled by offset move\n   */\n\n  Events.on('run', function () {\n    Transition.enable();\n  });\n  /**\n   * Remove transition:\n   * - on destroying to bring markup to its inital state\n   */\n\n  Events.on('destroy', function () {\n    Transition.remove();\n  });\n  return Transition;\n}\n\n/**\n * Test via a getter in the options object to see\n * if the passive property is accessed.\n *\n * @see https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n */\nvar supportsPassive = false;\n\ntry {\n  var opts = Object.defineProperty({}, 'passive', {\n    get: function get() {\n      supportsPassive = true;\n    }\n  });\n  window.addEventListener('testPassive', null, opts);\n  window.removeEventListener('testPassive', null, opts);\n} catch (e) {}\n\nvar supportsPassive$1 = supportsPassive;\n\nvar START_EVENTS = ['touchstart', 'mousedown'];\nvar MOVE_EVENTS = ['touchmove', 'mousemove'];\nvar END_EVENTS = ['touchend', 'touchcancel', 'mouseup', 'mouseleave'];\nvar MOUSE_EVENTS = ['mousedown', 'mousemove', 'mouseup', 'mouseleave'];\nfunction Swipe (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n  var swipeSin = 0;\n  var swipeStartX = 0;\n  var swipeStartY = 0;\n  var disabled = false;\n  var capture = supportsPassive$1 ? {\n    passive: true\n  } : false;\n  var Swipe = {\n    /**\n     * Initializes swipe bindings.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this.bindSwipeStart();\n    },\n\n    /**\n     * Handler for `swipestart` event. Calculates entry points of the user's tap.\n     *\n     * @param {Object} event\n     * @return {Void}\n     */\n    start: function start(event) {\n      if (!disabled && !Glide.disabled) {\n        this.disable();\n        var swipe = this.touches(event);\n        swipeSin = null;\n        swipeStartX = toInt(swipe.pageX);\n        swipeStartY = toInt(swipe.pageY);\n        this.bindSwipeMove();\n        this.bindSwipeEnd();\n        Events.emit('swipe.start');\n      }\n    },\n\n    /**\n     * Handler for `swipemove` event. Calculates user's tap angle and distance.\n     *\n     * @param {Object} event\n     */\n    move: function move(event) {\n      if (!Glide.disabled) {\n        var _Glide$settings = Glide.settings,\n            touchAngle = _Glide$settings.touchAngle,\n            touchRatio = _Glide$settings.touchRatio,\n            classes = _Glide$settings.classes;\n        var swipe = this.touches(event);\n        var subExSx = toInt(swipe.pageX) - swipeStartX;\n        var subEySy = toInt(swipe.pageY) - swipeStartY;\n        var powEX = Math.abs(subExSx << 2);\n        var powEY = Math.abs(subEySy << 2);\n        var swipeHypotenuse = Math.sqrt(powEX + powEY);\n        var swipeCathetus = Math.sqrt(powEY);\n        swipeSin = Math.asin(swipeCathetus / swipeHypotenuse);\n\n        if (swipeSin * 180 / Math.PI < touchAngle) {\n          event.stopPropagation();\n          Components.Move.make(subExSx * toFloat(touchRatio));\n          Components.Html.root.classList.add(classes.dragging);\n          Events.emit('swipe.move');\n        } else {\n          return false;\n        }\n      }\n    },\n\n    /**\n     * Handler for `swipeend` event. Finitializes user's tap and decides about glide move.\n     *\n     * @param {Object} event\n     * @return {Void}\n     */\n    end: function end(event) {\n      if (!Glide.disabled) {\n        var _Glide$settings2 = Glide.settings,\n            perSwipe = _Glide$settings2.perSwipe,\n            touchAngle = _Glide$settings2.touchAngle,\n            classes = _Glide$settings2.classes;\n        var swipe = this.touches(event);\n        var threshold = this.threshold(event);\n        var swipeDistance = swipe.pageX - swipeStartX;\n        var swipeDeg = swipeSin * 180 / Math.PI;\n        this.enable();\n\n        if (swipeDistance > threshold && swipeDeg < touchAngle) {\n          Components.Run.make(Components.Direction.resolve(\"\".concat(perSwipe, \"<\")));\n        } else if (swipeDistance < -threshold && swipeDeg < touchAngle) {\n          Components.Run.make(Components.Direction.resolve(\"\".concat(perSwipe, \">\")));\n        } else {\n          // While swipe don't reach distance apply previous transform.\n          Components.Move.make();\n        }\n\n        Components.Html.root.classList.remove(classes.dragging);\n        this.unbindSwipeMove();\n        this.unbindSwipeEnd();\n        Events.emit('swipe.end');\n      }\n    },\n\n    /**\n     * Binds swipe's starting event.\n     *\n     * @return {Void}\n     */\n    bindSwipeStart: function bindSwipeStart() {\n      var _this = this;\n\n      var _Glide$settings3 = Glide.settings,\n          swipeThreshold = _Glide$settings3.swipeThreshold,\n          dragThreshold = _Glide$settings3.dragThreshold;\n\n      if (swipeThreshold) {\n        Binder.on(START_EVENTS[0], Components.Html.wrapper, function (event) {\n          _this.start(event);\n        }, capture);\n      }\n\n      if (dragThreshold) {\n        Binder.on(START_EVENTS[1], Components.Html.wrapper, function (event) {\n          _this.start(event);\n        }, capture);\n      }\n    },\n\n    /**\n     * Unbinds swipe's starting event.\n     *\n     * @return {Void}\n     */\n    unbindSwipeStart: function unbindSwipeStart() {\n      Binder.off(START_EVENTS[0], Components.Html.wrapper, capture);\n      Binder.off(START_EVENTS[1], Components.Html.wrapper, capture);\n    },\n\n    /**\n     * Binds swipe's moving event.\n     *\n     * @return {Void}\n     */\n    bindSwipeMove: function bindSwipeMove() {\n      var _this2 = this;\n\n      Binder.on(MOVE_EVENTS, Components.Html.wrapper, throttle(function (event) {\n        _this2.move(event);\n      }, Glide.settings.throttle), capture);\n    },\n\n    /**\n     * Unbinds swipe's moving event.\n     *\n     * @return {Void}\n     */\n    unbindSwipeMove: function unbindSwipeMove() {\n      Binder.off(MOVE_EVENTS, Components.Html.wrapper, capture);\n    },\n\n    /**\n     * Binds swipe's ending event.\n     *\n     * @return {Void}\n     */\n    bindSwipeEnd: function bindSwipeEnd() {\n      var _this3 = this;\n\n      Binder.on(END_EVENTS, Components.Html.wrapper, function (event) {\n        _this3.end(event);\n      });\n    },\n\n    /**\n     * Unbinds swipe's ending event.\n     *\n     * @return {Void}\n     */\n    unbindSwipeEnd: function unbindSwipeEnd() {\n      Binder.off(END_EVENTS, Components.Html.wrapper);\n    },\n\n    /**\n     * Normalizes event touches points accorting to different types.\n     *\n     * @param {Object} event\n     */\n    touches: function touches(event) {\n      if (MOUSE_EVENTS.indexOf(event.type) > -1) {\n        return event;\n      }\n\n      return event.touches[0] || event.changedTouches[0];\n    },\n\n    /**\n     * Gets value of minimum swipe distance settings based on event type.\n     *\n     * @return {Number}\n     */\n    threshold: function threshold(event) {\n      var settings = Glide.settings;\n\n      if (MOUSE_EVENTS.indexOf(event.type) > -1) {\n        return settings.dragThreshold;\n      }\n\n      return settings.swipeThreshold;\n    },\n\n    /**\n     * Enables swipe event.\n     *\n     * @return {self}\n     */\n    enable: function enable() {\n      disabled = false;\n      Components.Transition.enable();\n      return this;\n    },\n\n    /**\n     * Disables swipe event.\n     *\n     * @return {self}\n     */\n    disable: function disable() {\n      disabled = true;\n      Components.Transition.disable();\n      return this;\n    }\n  };\n  /**\n   * Add component class:\n   * - after initial building\n   */\n\n  Events.on('build.after', function () {\n    Components.Html.root.classList.add(Glide.settings.classes.swipeable);\n  });\n  /**\n   * Remove swiping bindings:\n   * - on destroying, to remove added EventListeners\n   */\n\n  Events.on('destroy', function () {\n    Swipe.unbindSwipeStart();\n    Swipe.unbindSwipeMove();\n    Swipe.unbindSwipeEnd();\n    Binder.destroy();\n  });\n  return Swipe;\n}\n\nfunction Images (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n  var Images = {\n    /**\n     * Binds listener to glide wrapper.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this.bind();\n    },\n\n    /**\n     * Binds `dragstart` event on wrapper to prevent dragging images.\n     *\n     * @return {Void}\n     */\n    bind: function bind() {\n      Binder.on('dragstart', Components.Html.wrapper, this.dragstart);\n    },\n\n    /**\n     * Unbinds `dragstart` event on wrapper.\n     *\n     * @return {Void}\n     */\n    unbind: function unbind() {\n      Binder.off('dragstart', Components.Html.wrapper);\n    },\n\n    /**\n     * Event handler. Prevents dragging.\n     *\n     * @return {Void}\n     */\n    dragstart: function dragstart(event) {\n      event.preventDefault();\n    }\n  };\n  /**\n   * Remove bindings from images:\n   * - on destroying, to remove added EventListeners\n   */\n\n  Events.on('destroy', function () {\n    Images.unbind();\n    Binder.destroy();\n  });\n  return Images;\n}\n\nfunction Anchors (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n  /**\n   * Holds detaching status of anchors.\n   * Prevents detaching of already detached anchors.\n   *\n   * @private\n   * @type {Boolean}\n   */\n\n  var detached = false;\n  /**\n   * Holds preventing status of anchors.\n   * If `true` redirection after click will be disabled.\n   *\n   * @private\n   * @type {Boolean}\n   */\n\n  var prevented = false;\n  var Anchors = {\n    /**\n     * Setups a initial state of anchors component.\n     *\n     * @returns {Void}\n     */\n    mount: function mount() {\n      /**\n       * Holds collection of anchors elements.\n       *\n       * @private\n       * @type {HTMLCollection}\n       */\n      this._a = Components.Html.wrapper.querySelectorAll('a');\n      this.bind();\n    },\n\n    /**\n     * Binds events to anchors inside a track.\n     *\n     * @return {Void}\n     */\n    bind: function bind() {\n      Binder.on('click', Components.Html.wrapper, this.click);\n    },\n\n    /**\n     * Unbinds events attached to anchors inside a track.\n     *\n     * @return {Void}\n     */\n    unbind: function unbind() {\n      Binder.off('click', Components.Html.wrapper);\n    },\n\n    /**\n     * Handler for click event. Prevents clicks when glide is in `prevent` status.\n     *\n     * @param  {Object} event\n     * @return {Void}\n     */\n    click: function click(event) {\n      if (prevented) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    },\n\n    /**\n     * Detaches anchors click event inside glide.\n     *\n     * @return {self}\n     */\n    detach: function detach() {\n      prevented = true;\n\n      if (!detached) {\n        for (var i = 0; i < this.items.length; i++) {\n          this.items[i].draggable = false;\n        }\n\n        detached = true;\n      }\n\n      return this;\n    },\n\n    /**\n     * Attaches anchors click events inside glide.\n     *\n     * @return {self}\n     */\n    attach: function attach() {\n      prevented = false;\n\n      if (detached) {\n        for (var i = 0; i < this.items.length; i++) {\n          this.items[i].draggable = true;\n        }\n\n        detached = false;\n      }\n\n      return this;\n    }\n  };\n  define(Anchors, 'items', {\n    /**\n     * Gets collection of the arrows HTML elements.\n     *\n     * @return {HTMLElement[]}\n     */\n    get: function get() {\n      return Anchors._a;\n    }\n  });\n  /**\n   * Detach anchors inside slides:\n   * - on swiping, so they won't redirect to its `href` attributes\n   */\n\n  Events.on('swipe.move', function () {\n    Anchors.detach();\n  });\n  /**\n   * Attach anchors inside slides:\n   * - after swiping and transitions ends, so they can redirect after click again\n   */\n\n  Events.on('swipe.end', function () {\n    Components.Transition.after(function () {\n      Anchors.attach();\n    });\n  });\n  /**\n   * Unbind anchors inside slides:\n   * - on destroying, to bring anchors to its initial state\n   */\n\n  Events.on('destroy', function () {\n    Anchors.attach();\n    Anchors.unbind();\n    Binder.destroy();\n  });\n  return Anchors;\n}\n\nvar NAV_SELECTOR = '[data-glide-el=\"controls[nav]\"]';\nvar CONTROLS_SELECTOR = '[data-glide-el^=\"controls\"]';\nvar PREVIOUS_CONTROLS_SELECTOR = \"\".concat(CONTROLS_SELECTOR, \" [data-glide-dir*=\\\"<\\\"]\");\nvar NEXT_CONTROLS_SELECTOR = \"\".concat(CONTROLS_SELECTOR, \" [data-glide-dir*=\\\">\\\"]\");\nfunction Controls (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n  var capture = supportsPassive$1 ? {\n    passive: true\n  } : false;\n  var Controls = {\n    /**\n     * Inits arrows. Binds events listeners\n     * to the arrows HTML elements.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      /**\n       * Collection of navigation HTML elements.\n       *\n       * @private\n       * @type {HTMLCollection}\n       */\n      this._n = Components.Html.root.querySelectorAll(NAV_SELECTOR);\n      /**\n       * Collection of controls HTML elements.\n       *\n       * @private\n       * @type {HTMLCollection}\n       */\n\n      this._c = Components.Html.root.querySelectorAll(CONTROLS_SELECTOR);\n      /**\n       * Collection of arrow control HTML elements.\n       *\n       * @private\n       * @type {Object}\n       */\n\n      this._arrowControls = {\n        previous: Components.Html.root.querySelectorAll(PREVIOUS_CONTROLS_SELECTOR),\n        next: Components.Html.root.querySelectorAll(NEXT_CONTROLS_SELECTOR)\n      };\n      this.addBindings();\n    },\n\n    /**\n     * Sets active class to current slide.\n     *\n     * @return {Void}\n     */\n    setActive: function setActive() {\n      for (var i = 0; i < this._n.length; i++) {\n        this.addClass(this._n[i].children);\n      }\n    },\n\n    /**\n     * Removes active class to current slide.\n     *\n     * @return {Void}\n     */\n    removeActive: function removeActive() {\n      for (var i = 0; i < this._n.length; i++) {\n        this.removeClass(this._n[i].children);\n      }\n    },\n\n    /**\n     * Toggles active class on items inside navigation.\n     *\n     * @param  {HTMLElement} controls\n     * @return {Void}\n     */\n    addClass: function addClass(controls) {\n      var settings = Glide.settings;\n      var item = controls[Glide.index];\n\n      if (!item) {\n        return;\n      }\n\n      item.classList.add(settings.classes.nav.active);\n      siblings(item).forEach(function (sibling) {\n        sibling.classList.remove(settings.classes.nav.active);\n      });\n    },\n\n    /**\n     * Removes active class from active control.\n     *\n     * @param  {HTMLElement} controls\n     * @return {Void}\n     */\n    removeClass: function removeClass(controls) {\n      var item = controls[Glide.index];\n      item === null || item === void 0 ? void 0 : item.classList.remove(Glide.settings.classes.nav.active);\n    },\n\n    /**\n     * Calculates, removes or adds `Glide.settings.classes.disabledArrow` class on the control arrows\n     */\n    setArrowState: function setArrowState() {\n      if (Glide.settings.rewind) {\n        return;\n      }\n\n      var next = Controls._arrowControls.next;\n      var previous = Controls._arrowControls.previous;\n      this.resetArrowState(next, previous);\n\n      if (Glide.index === 0) {\n        this.disableArrow(previous);\n      }\n\n      if (Glide.index === Components.Run.length) {\n        this.disableArrow(next);\n      }\n    },\n\n    /**\n     * Removes `Glide.settings.classes.disabledArrow` from given NodeList elements\n     *\n     * @param {NodeList[]} lists\n     */\n    resetArrowState: function resetArrowState() {\n      var settings = Glide.settings;\n\n      for (var _len = arguments.length, lists = new Array(_len), _key = 0; _key < _len; _key++) {\n        lists[_key] = arguments[_key];\n      }\n\n      lists.forEach(function (list) {\n        toArray(list).forEach(function (element) {\n          element.classList.remove(settings.classes.arrow.disabled);\n        });\n      });\n    },\n\n    /**\n     * Adds `Glide.settings.classes.disabledArrow` to given NodeList elements\n     *\n     * @param {NodeList[]} lists\n     */\n    disableArrow: function disableArrow() {\n      var settings = Glide.settings;\n\n      for (var _len2 = arguments.length, lists = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        lists[_key2] = arguments[_key2];\n      }\n\n      lists.forEach(function (list) {\n        toArray(list).forEach(function (element) {\n          element.classList.add(settings.classes.arrow.disabled);\n        });\n      });\n    },\n\n    /**\n     * Adds handles to the each group of controls.\n     *\n     * @return {Void}\n     */\n    addBindings: function addBindings() {\n      for (var i = 0; i < this._c.length; i++) {\n        this.bind(this._c[i].children);\n      }\n    },\n\n    /**\n     * Removes handles from the each group of controls.\n     *\n     * @return {Void}\n     */\n    removeBindings: function removeBindings() {\n      for (var i = 0; i < this._c.length; i++) {\n        this.unbind(this._c[i].children);\n      }\n    },\n\n    /**\n     * Binds events to arrows HTML elements.\n     *\n     * @param {HTMLCollection} elements\n     * @return {Void}\n     */\n    bind: function bind(elements) {\n      for (var i = 0; i < elements.length; i++) {\n        Binder.on('click', elements[i], this.click);\n        Binder.on('touchstart', elements[i], this.click, capture);\n      }\n    },\n\n    /**\n     * Unbinds events binded to the arrows HTML elements.\n     *\n     * @param {HTMLCollection} elements\n     * @return {Void}\n     */\n    unbind: function unbind(elements) {\n      for (var i = 0; i < elements.length; i++) {\n        Binder.off(['click', 'touchstart'], elements[i]);\n      }\n    },\n\n    /**\n     * Handles `click` event on the arrows HTML elements.\n     * Moves slider in direction given via the\n     * `data-glide-dir` attribute.\n     *\n     * @param {Object} event\n     * @return {void}\n     */\n    click: function click(event) {\n      if (!supportsPassive$1 && event.type === 'touchstart') {\n        event.preventDefault();\n      }\n\n      var direction = event.currentTarget.getAttribute('data-glide-dir');\n      Components.Run.make(Components.Direction.resolve(direction));\n    }\n  };\n  define(Controls, 'items', {\n    /**\n     * Gets collection of the controls HTML elements.\n     *\n     * @return {HTMLElement[]}\n     */\n    get: function get() {\n      return Controls._c;\n    }\n  });\n  /**\n   * Swap active class of current navigation item:\n   * - after mounting to set it to initial index\n   * - after each move to the new index\n   */\n\n  Events.on(['mount.after', 'move.after'], function () {\n    Controls.setActive();\n  });\n  /**\n   * Add or remove disabled class of arrow elements\n   */\n\n  Events.on(['mount.after', 'run'], function () {\n    Controls.setArrowState();\n  });\n  /**\n   * Remove bindings and HTML Classes:\n   * - on destroying, to bring markup to its initial state\n   */\n\n  Events.on('destroy', function () {\n    Controls.removeBindings();\n    Controls.removeActive();\n    Binder.destroy();\n  });\n  return Controls;\n}\n\nfunction Keyboard (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n  var Keyboard = {\n    /**\n     * Binds keyboard events on component mount.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      if (Glide.settings.keyboard) {\n        this.bind();\n      }\n    },\n\n    /**\n     * Adds keyboard press events.\n     *\n     * @return {Void}\n     */\n    bind: function bind() {\n      Binder.on('keyup', document, this.press);\n    },\n\n    /**\n     * Removes keyboard press events.\n     *\n     * @return {Void}\n     */\n    unbind: function unbind() {\n      Binder.off('keyup', document);\n    },\n\n    /**\n     * Handles keyboard's arrows press and moving glide foward and backward.\n     *\n     * @param  {Object} event\n     * @return {Void}\n     */\n    press: function press(event) {\n      var perSwipe = Glide.settings.perSwipe;\n      var arrowSymbols = {\n        ArrowRight: '>',\n        ArrowLeft: '<'\n      };\n\n      if (['ArrowRight', 'ArrowLeft'].includes(event.code)) {\n        Components.Run.make(Components.Direction.resolve(\"\".concat(perSwipe).concat(arrowSymbols[event.code])));\n      }\n    }\n  };\n  /**\n   * Remove bindings from keyboard:\n   * - on destroying to remove added events\n   * - on updating to remove events before remounting\n   */\n\n  Events.on(['destroy', 'update'], function () {\n    Keyboard.unbind();\n  });\n  /**\n   * Remount component\n   * - on updating to reflect potential changes in settings\n   */\n\n  Events.on('update', function () {\n    Keyboard.mount();\n  });\n  /**\n   * Destroy binder:\n   * - on destroying to remove listeners\n   */\n\n  Events.on('destroy', function () {\n    Binder.destroy();\n  });\n  return Keyboard;\n}\n\nfunction Autoplay (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n  var Autoplay = {\n    /**\n     * Initializes autoplaying and events.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this.enable();\n      this.start();\n\n      if (Glide.settings.hoverpause) {\n        this.bind();\n      }\n    },\n\n    /**\n     * Enables autoplaying\n     *\n     * @returns {Void}\n     */\n    enable: function enable() {\n      this._e = true;\n    },\n\n    /**\n     * Disables autoplaying.\n     *\n     * @returns {Void}\n     */\n    disable: function disable() {\n      this._e = false;\n    },\n\n    /**\n     * Starts autoplaying in configured interval.\n     *\n     * @param {Boolean|Number} force Run autoplaying with passed interval regardless of `autoplay` settings\n     * @return {Void}\n     */\n    start: function start() {\n      var _this = this;\n\n      if (!this._e) {\n        return;\n      }\n\n      this.enable();\n\n      if (Glide.settings.autoplay) {\n        if (isUndefined(this._i)) {\n          this._i = setInterval(function () {\n            _this.stop();\n\n            Components.Run.make('>');\n\n            _this.start();\n\n            Events.emit('autoplay');\n          }, this.time);\n        }\n      }\n    },\n\n    /**\n     * Stops autorunning of the glide.\n     *\n     * @return {Void}\n     */\n    stop: function stop() {\n      this._i = clearInterval(this._i);\n    },\n\n    /**\n     * Stops autoplaying while mouse is over glide's area.\n     *\n     * @return {Void}\n     */\n    bind: function bind() {\n      var _this2 = this;\n\n      Binder.on('mouseover', Components.Html.root, function () {\n        if (_this2._e) {\n          _this2.stop();\n        }\n      });\n      Binder.on('mouseout', Components.Html.root, function () {\n        if (_this2._e) {\n          _this2.start();\n        }\n      });\n    },\n\n    /**\n     * Unbind mouseover events.\n     *\n     * @returns {Void}\n     */\n    unbind: function unbind() {\n      Binder.off(['mouseover', 'mouseout'], Components.Html.root);\n    }\n  };\n  define(Autoplay, 'time', {\n    /**\n     * Gets time period value for the autoplay interval. Prioritizes\n     * times in `data-glide-autoplay` attrubutes over options.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      var autoplay = Components.Html.slides[Glide.index].getAttribute('data-glide-autoplay');\n\n      if (autoplay) {\n        return toInt(autoplay);\n      }\n\n      return toInt(Glide.settings.autoplay);\n    }\n  });\n  /**\n   * Stop autoplaying and unbind events:\n   * - on destroying, to clear defined interval\n   * - on updating via API to reset interval that may changed\n   */\n\n  Events.on(['destroy', 'update'], function () {\n    Autoplay.unbind();\n  });\n  /**\n   * Stop autoplaying:\n   * - before each run, to restart autoplaying\n   * - on pausing via API\n   * - on destroying, to clear defined interval\n   * - while starting a swipe\n   * - on updating via API to reset interval that may changed\n   */\n\n  Events.on(['run.before', 'swipe.start', 'update'], function () {\n    Autoplay.stop();\n  });\n  Events.on(['pause', 'destroy'], function () {\n    Autoplay.disable();\n    Autoplay.stop();\n  });\n  /**\n   * Start autoplaying:\n   * - after each run, to restart autoplaying\n   * - on playing via API\n   * - while ending a swipe\n   */\n\n  Events.on(['run.after', 'swipe.end'], function () {\n    Autoplay.start();\n  });\n  /**\n   * Start autoplaying:\n   * - after each run, to restart autoplaying\n   * - on playing via API\n   * - while ending a swipe\n   */\n\n  Events.on(['play'], function () {\n    Autoplay.enable();\n    Autoplay.start();\n  });\n  /**\n   * Remount autoplaying:\n   * - on updating via API to reset interval that may changed\n   */\n\n  Events.on('update', function () {\n    Autoplay.mount();\n  });\n  /**\n   * Destroy a binder:\n   * - on destroying glide instance to clearup listeners\n   */\n\n  Events.on('destroy', function () {\n    Binder.destroy();\n  });\n  return Autoplay;\n}\n\n/**\n * Sorts keys of breakpoint object so they will be ordered from lower to bigger.\n *\n * @param {Object} points\n * @returns {Object}\n */\n\nfunction sortBreakpoints(points) {\n  if (isObject(points)) {\n    return sortKeys(points);\n  } else {\n    warn(\"Breakpoints option must be an object\");\n  }\n\n  return {};\n}\n\nfunction Breakpoints (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n  /**\n   * Holds reference to settings.\n   *\n   * @type {Object}\n   */\n\n  var settings = Glide.settings;\n  /**\n   * Holds reference to breakpoints object in settings. Sorts breakpoints\n   * from smaller to larger. It is required in order to proper\n   * matching currently active breakpoint settings.\n   *\n   * @type {Object}\n   */\n\n  var points = sortBreakpoints(settings.breakpoints);\n  /**\n   * Cache initial settings before overwritting.\n   *\n   * @type {Object}\n   */\n\n  var defaults = Object.assign({}, settings);\n  var Breakpoints = {\n    /**\n     * Matches settings for currectly matching media breakpoint.\n     *\n     * @param {Object} points\n     * @returns {Object}\n     */\n    match: function match(points) {\n      if (typeof window.matchMedia !== 'undefined') {\n        for (var point in points) {\n          if (points.hasOwnProperty(point)) {\n            if (window.matchMedia(\"(max-width: \".concat(point, \"px)\")).matches) {\n              return points[point];\n            }\n          }\n        }\n      }\n\n      return defaults;\n    }\n  };\n  /**\n   * Overwrite instance settings with currently matching breakpoint settings.\n   * This happens right after component initialization.\n   */\n\n  Object.assign(settings, Breakpoints.match(points));\n  /**\n   * Update glide with settings of matched brekpoint:\n   * - window resize to update slider\n   */\n\n  Binder.on('resize', window, throttle(function () {\n    Glide.settings = mergeOptions(settings, Breakpoints.match(points));\n  }, Glide.settings.throttle));\n  /**\n   * Resort and update default settings:\n   * - on reinit via API, so breakpoint matching will be performed with options\n   */\n\n  Events.on('update', function () {\n    points = sortBreakpoints(points);\n    defaults = Object.assign({}, settings);\n  });\n  /**\n   * Unbind resize listener:\n   * - on destroying, to bring markup to its initial state\n   */\n\n  Events.on('destroy', function () {\n    Binder.off('resize', window);\n  });\n  return Breakpoints;\n}\n\nvar COMPONENTS = {\n  // Required\n  Html: Html,\n  Translate: Translate,\n  Transition: Transition,\n  Direction: Direction,\n  Peek: Peek,\n  Sizes: Sizes,\n  Gaps: Gaps,\n  Move: Move,\n  Clones: Clones,\n  Resize: Resize,\n  Build: Build,\n  Run: Run,\n  // Optional\n  Swipe: Swipe,\n  Images: Images,\n  Anchors: Anchors,\n  Controls: Controls,\n  Keyboard: Keyboard,\n  Autoplay: Autoplay,\n  Breakpoints: Breakpoints\n};\n\nvar Glide = /*#__PURE__*/function (_Core) {\n  _inherits(Glide, _Core);\n\n  var _super = _createSuper(Glide);\n\n  function Glide() {\n    _classCallCheck(this, Glide);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Glide, [{\n    key: \"mount\",\n    value: function mount() {\n      var extensions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return _get(_getPrototypeOf(Glide.prototype), \"mount\", this).call(this, Object.assign({}, COMPONENTS, extensions));\n    }\n  }]);\n\n  return Glide;\n}(Glide$1);\n\nexport { Glide as default };\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0]\n  }\n\n  return str;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","function _OverloadYield(e, d) {\n  this.v = e, this.k = d;\n}\nexport { _OverloadYield as default };","import OverloadYield from \"./OverloadYield.js\";\nfunction _wrapAsyncGenerator(e) {\n  return function () {\n    return new AsyncGenerator(e.apply(this, arguments));\n  };\n}\nfunction AsyncGenerator(e) {\n  var r, t;\n  function resume(r, t) {\n    try {\n      var n = e[r](t),\n        o = n.value,\n        u = o instanceof OverloadYield;\n      Promise.resolve(u ? o.v : o).then(function (t) {\n        if (u) {\n          var i = \"return\" === r ? \"return\" : \"next\";\n          if (!o.k || t.done) return resume(i, t);\n          t = e[i](t).value;\n        }\n        settle(n.done ? \"return\" : \"normal\", t);\n      }, function (e) {\n        resume(\"throw\", e);\n      });\n    } catch (e) {\n      settle(\"throw\", e);\n    }\n  }\n  function settle(e, n) {\n    switch (e) {\n      case \"return\":\n        r.resolve({\n          value: n,\n          done: !0\n        });\n        break;\n      case \"throw\":\n        r.reject(n);\n        break;\n      default:\n        r.resolve({\n          value: n,\n          done: !1\n        });\n    }\n    (r = r.next) ? resume(r.key, r.arg) : t = null;\n  }\n  this._invoke = function (e, n) {\n    return new Promise(function (o, u) {\n      var i = {\n        key: e,\n        arg: n,\n        resolve: o,\n        reject: u,\n        next: null\n      };\n      t ? t = t.next = i : (r = t = i, resume(e, n));\n    });\n  }, \"function\" != typeof e[\"return\"] && (this[\"return\"] = void 0);\n}\nAsyncGenerator.prototype[\"function\" == typeof Symbol && Symbol.asyncIterator || \"@@asyncIterator\"] = function () {\n  return this;\n}, AsyncGenerator.prototype.next = function (e) {\n  return this._invoke(\"next\", e);\n}, AsyncGenerator.prototype[\"throw\"] = function (e) {\n  return this._invoke(\"throw\", e);\n}, AsyncGenerator.prototype[\"return\"] = function (e) {\n  return this._invoke(\"return\", e);\n};\nexport { _wrapAsyncGenerator as default };","import OverloadYield from \"./OverloadYield.js\";\nfunction _awaitAsyncGenerator(e) {\n  return new OverloadYield(e, 0);\n}\nexport { _awaitAsyncGenerator as default };","import OverloadYield from \"./OverloadYield.js\";\nfunction _asyncGeneratorDelegate(t) {\n  var e = {},\n    n = !1;\n  function pump(e, r) {\n    return n = !0, r = new Promise(function (n) {\n      n(t[e](r));\n    }), {\n      done: !1,\n      value: new OverloadYield(r, 1)\n    };\n  }\n  return e[\"undefined\" != typeof Symbol && Symbol.iterator || \"@@iterator\"] = function () {\n    return this;\n  }, e.next = function (t) {\n    return n ? (n = !1, t) : pump(\"next\", t);\n  }, \"function\" == typeof t[\"throw\"] && (e[\"throw\"] = function (t) {\n    if (n) throw n = !1, t;\n    return pump(\"throw\", t);\n  }), \"function\" == typeof t[\"return\"] && (e[\"return\"] = function (t) {\n    return n ? (n = !1, t) : pump(\"return\", t);\n  }), e;\n}\nexport { _asyncGeneratorDelegate as default };","function _asyncIterator(r) {\n  var n,\n    t,\n    o,\n    e = 2;\n  for (\"undefined\" != typeof Symbol && (t = Symbol.asyncIterator, o = Symbol.iterator); e--;) {\n    if (t && null != (n = r[t])) return n.call(r);\n    if (o && null != (n = r[o])) return new AsyncFromSyncIterator(n.call(r));\n    t = \"@@asyncIterator\", o = \"@@iterator\";\n  }\n  throw new TypeError(\"Object is not async iterable\");\n}\nfunction AsyncFromSyncIterator(r) {\n  function AsyncFromSyncIteratorContinuation(r) {\n    if (Object(r) !== r) return Promise.reject(new TypeError(r + \" is not an object.\"));\n    var n = r.done;\n    return Promise.resolve(r.value).then(function (r) {\n      return {\n        value: r,\n        done: n\n      };\n    });\n  }\n  return AsyncFromSyncIterator = function AsyncFromSyncIterator(r) {\n    this.s = r, this.n = r.next;\n  }, AsyncFromSyncIterator.prototype = {\n    s: null,\n    n: null,\n    next: function next() {\n      return AsyncFromSyncIteratorContinuation(this.n.apply(this.s, arguments));\n    },\n    \"return\": function _return(r) {\n      var n = this.s[\"return\"];\n      return void 0 === n ? Promise.resolve({\n        value: r,\n        done: !0\n      }) : AsyncFromSyncIteratorContinuation(n.apply(this.s, arguments));\n    },\n    \"throw\": function _throw(r) {\n      var n = this.s[\"return\"];\n      return void 0 === n ? Promise.reject(r) : AsyncFromSyncIteratorContinuation(n.apply(this.s, arguments));\n    }\n  }, new AsyncFromSyncIterator(r);\n}\nexport { _asyncIterator as default };","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n}\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n}\n\nexport default isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader)\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      })\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\n\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.7.9\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","/*!\n * @kurkle/color v0.3.4\n * https://github.com/kurkle/color#readme\n * (c) 2024 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names$1 = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","/**\n * @namespace Chart.helpers\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ActiveDataPoint, ChartEvent} from '../types/index.js';\n\n/**\n * An empty function that can be used, for example, for optional callback.\n */\nexport function noop() {\n  /* noop */\n}\n\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */\nexport const uid = (() => {\n  let id = 0;\n  return () => id++;\n})();\n\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isNullOrUndef(value: unknown): value is null | undefined {\n  return value === null || value === undefined;\n}\n\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */\nexport function isArray<T = unknown>(value: unknown): value is T[] {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isObject(value: unknown): value is AnyObject {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */\nfunction isNumberFinite(value: unknown): value is number {\n  return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\nexport {\n  isNumberFinite as isFinite,\n};\n\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */\nexport function finiteOrDefault(value: unknown, defaultValue: number) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\n\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */\nexport function valueOrDefault<T>(value: T | undefined, defaultValue: T) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\n\nexport const toPercentage = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : +value / dimension;\n\nexport const toDimension = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\n\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */\nexport function callback<T extends (this: TA, ...restArgs: unknown[]) => R, TA, R>(\n  fn: T | undefined,\n  args: unknown[],\n  thisArg?: TA\n): R | undefined {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\n\n/**\n * Note(SB) for performance sake, this method should only be used when loopable type\n * is unknown or in none intensive code (not called often and small loopable). Else\n * it's preferable to use a regular for() loop and save extra function calls.\n * @param loopable - The object or array to be iterated.\n * @param fn - The function to call for each item.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n * @param [reverse] - If true, iterates backward on the loopable.\n */\nexport function each<T, TA>(\n  loopable: Record<string, T>,\n  fn: (this: TA, v: T, i: string) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[],\n  fn: (this: TA, v: T, i: number) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[] | Record<string, T>,\n  fn: (this: TA, v: T, i: any) => void,\n  thisArg?: TA,\n  reverse?: boolean\n) {\n  let i: number, len: number, keys: string[];\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\n\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */\nexport function _elementsEqual(a0: ActiveDataPoint[], a1: ActiveDataPoint[]) {\n  let i: number, ilen: number, v0: ActiveDataPoint, v1: ActiveDataPoint;\n\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */\nexport function clone<T>(source: T): T {\n  if (isArray(source)) {\n    return source.map(clone) as unknown as T;\n  }\n\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone(source[keys[k]]);\n    }\n\n    return target;\n  }\n\n  return source;\n}\n\nfunction isValidKey(key: string) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\n\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */\nexport function _merger(key: string, target: AnyObject, source: AnyObject, options: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone(sval);\n  }\n}\n\nexport interface MergeOptions {\n  merger?: (key: string, target: AnyObject, source: AnyObject, options?: AnyObject) => void;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` with the given `options`.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @param [options] - Merging options:\n * @param [options.merger] - The merge method (key, target, source, options)\n * @returns The `target` object.\n */\nexport function merge<T>(target: T, source: [], options?: MergeOptions): T;\nexport function merge<T, S1>(target: T, source: S1, options?: MergeOptions): T & S1;\nexport function merge<T, S1>(target: T, source: [S1], options?: MergeOptions): T & S1;\nexport function merge<T, S1, S2>(target: T, source: [S1, S2], options?: MergeOptions): T & S1 & S2;\nexport function merge<T, S1, S2, S3>(target: T, source: [S1, S2, S3], options?: MergeOptions): T & S1 & S2 & S3;\nexport function merge<T, S1, S2, S3, S4>(\n  target: T,\n  source: [S1, S2, S3, S4],\n  options?: MergeOptions\n): T & S1 & S2 & S3 & S4;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n\n  if (!isObject(target)) {\n    return target as AnyObject;\n  }\n\n  options = options || {};\n  const merger = options.merger || _merger;\n  let current: AnyObject;\n\n  for (let i = 0; i < ilen; ++i) {\n    current = sources[i];\n    if (!isObject(current)) {\n      continue;\n    }\n\n    const keys = Object.keys(current);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, current, options as AnyObject);\n    }\n  }\n\n  return target;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` *only* if not defined in target.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @returns The `target` object.\n */\nexport function mergeIf<T>(target: T, source: []): T;\nexport function mergeIf<T, S1>(target: T, source: S1): T & S1;\nexport function mergeIf<T, S1>(target: T, source: [S1]): T & S1;\nexport function mergeIf<T, S1, S2>(target: T, source: [S1, S2]): T & S1 & S2;\nexport function mergeIf<T, S1, S2, S3>(target: T, source: [S1, S2, S3]): T & S1 & S2 & S3;\nexport function mergeIf<T, S1, S2, S3, S4>(target: T, source: [S1, S2, S3, S4]): T & S1 & S2 & S3 & S4;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return merge<T>(target, source, {merger: _mergerIf});\n}\n\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */\nexport function _mergerIf(key: string, target: AnyObject, source: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone(sval);\n  }\n}\n\n/**\n * @private\n */\nexport function _deprecated(scope: string, value: unknown, previous: string, current: string) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n      '\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\n\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n  // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n  '': v => v,\n  // default resolvers\n  x: o => o.x,\n  y: o => o.y\n};\n\n/**\n * @private\n */\nexport function _splitKey(key: string) {\n  const parts = key.split('.');\n  const keys: string[] = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\n\nfunction _getKeyResolver(key: string) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        // For backward compatibility:\n        // Chart.helpers.core resolveObjectKey should break at empty key\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\n\nexport function resolveObjectKey(obj: AnyObject, key: string): any {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\n\n/**\n * @private\n */\nexport function _capitalize(str: string) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\nexport const defined = (value: unknown) => typeof value !== 'undefined';\n\nexport const isFunction = (value: unknown): value is (...args: any[]) => any => typeof value === 'function';\n\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nexport const setsEqual = <T>(a: Set<T>, b: Set<T>) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @param e - The event\n * @private\n */\nexport function _isClickEvent(e: ChartEvent) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n","import type {Point} from '../types/geometric.js';\nimport {isFinite as isFiniteNumber} from './helpers.core.js';\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */\n\nexport const PI = Math.PI;\nexport const TAU = 2 * PI;\nexport const PITAU = TAU + PI;\nexport const INFINITY = Number.POSITIVE_INFINITY;\nexport const RAD_PER_DEG = PI / 180;\nexport const HALF_PI = PI / 2;\nexport const QUARTER_PI = PI / 4;\nexport const TWO_THIRDS_PI = PI * 2 / 3;\n\nexport const log10 = Math.log10;\nexport const sign = Math.sign;\n\nexport function almostEquals(x: number, y: number, epsilon: number) {\n  return Math.abs(x - y) < epsilon;\n}\n\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */\nexport function niceNum(range: number) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\n\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */\nexport function _factorize(value: number) {\n  const result: number[] = [];\n  const sqrt = Math.sqrt(value);\n  let i: number;\n\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) { // if value is a square number\n    result.push(sqrt);\n  }\n\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\n\nexport function isNumber(n: unknown): n is number {\n  return !isNaN(parseFloat(n as string)) && isFinite(n as number);\n}\n\nexport function almostWhole(x: number, epsilon: number) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\n\n/**\n * @private\n */\nexport function _setMinAndMaxByKey(\n  array: Record<string, number>[],\n  target: { min: number, max: number },\n  property: string\n) {\n  let i: number, ilen: number, value: number;\n\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\n\nexport function toRadians(degrees: number) {\n  return degrees * (PI / 180);\n}\n\nexport function toDegrees(radians: number) {\n  return radians * (180 / PI);\n}\n\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */\nexport function _decimalPlaces(x: number) {\n  if (!isFiniteNumber(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\n\n// Gets the angle from vertical upright to the point about a centre.\nexport function getAngleFromPoint(\n  centrePoint: Point,\n  anglePoint: Point\n) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n  if (angle < (-0.5 * PI)) {\n    angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n  }\n\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\n\nexport function distanceBetweenPoints(pt1: Point, pt2: Point) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */\nexport function _angleDiff(a: number, b: number) {\n  return (a - b + PITAU) % TAU - PI;\n}\n\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */\nexport function _normalizeAngle(a: number) {\n  return (a % TAU + TAU) % TAU;\n}\n\n/**\n * @private\n */\nexport function _angleBetween(angle: number, start: number, end: number, sameAngleIsFullCircle?: boolean) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\n\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */\nexport function _limitValue(value: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * @param {number} value\n * @private\n */\nexport function _int16Range(value: number) {\n  return _limitValue(value, -32768, 32767);\n}\n\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */\nexport function _isBetween(value: number, start: number, end: number, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n","import {_capitalize} from './helpers.core.js';\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param value - value to find\n * @param cmp\n * @private\n */\nexport function _lookup(\n  table: number[],\n  value: number,\n  cmp?: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup<T>(\n  table: T[],\n  value: number,\n  cmp: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup(\n  table: unknown[],\n  value: number,\n  cmp?: (value: number) => boolean\n) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid: number;\n\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return {lo, hi};\n}\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */\nexport const _lookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number,\n  last?: boolean\n) =>\n  _lookup(table, value, last\n    ? index => {\n      const ti = table[index][key];\n      return ti < value || ti === value && table[index + 1][key] === value;\n    }\n    : index => table[index][key] < value);\n\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */\nexport const _rlookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number\n) =>\n  _lookup(table, value, index => table[index][key] >= value);\n\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */\nexport function _filterBetween(values: number[], min: number, max: number) {\n  let start = 0;\n  let end = values.length;\n\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\n\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'] as const;\n\nexport interface ArrayListener<T> {\n  _onDataPush?(...item: T[]): void;\n  _onDataPop?(): void;\n  _onDataShift?(): void;\n  _onDataSplice?(index: number, deleteCount: number, ...items: T[]): void;\n  _onDataUnshift?(...item: T[]): void;\n}\n\n/**\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n * called on the '_onData*' callbacks (e.g. _onDataPush, etc.) with same arguments.\n */\nexport function listenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n\n        return res;\n      }\n    });\n  });\n}\n\n\n/**\n * Removes the given array event listener and cleanup extra attached properties (such as\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n */\nexport function unlistenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n\n  if (listeners.length > 0) {\n    return;\n  }\n\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n\n  delete array._chartjs;\n}\n\n/**\n * @param items\n */\nexport function _arrayUnique<T>(items: T[]) {\n  const set = new Set<T>(items);\n\n  if (set.size === items.length) {\n    return items;\n  }\n\n  return Array.from(set);\n}\n","import type {ChartMeta, PointElement} from '../types/index.js';\n\nimport {_limitValue} from './helpers.math.js';\nimport {_lookupByKey} from './helpers.collection.js';\n\nexport function fontString(pixelSize: number, fontStyle: string, fontFamily: string) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n\n/**\n* Request animation polyfill\n*/\nexport const requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\n\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */\nexport function throttled<TArgs extends Array<any>>(\n  fn: (...args: TArgs) => void,\n  thisArg: any,\n) {\n  let argsToUse = [] as TArgs;\n  let ticking = false;\n\n  return function(...args: TArgs) {\n    // Save the args for use later\n    argsToUse = args;\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, argsToUse);\n      });\n    }\n  };\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n */\nexport function debounce<TArgs extends Array<any>>(fn: (...args: TArgs) => void, delay: number) {\n  let timeout;\n  return function(...args: TArgs) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\n\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */\nexport const _toLeftRightCenter = (align: 'start' | 'end' | 'center') => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */\nexport const _alignStartEnd = (align: 'start' | 'end' | 'center', start: number, end: number) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */\nexport const _textX = (align: 'left' | 'right' | 'center', left: number, right: number, rtl: boolean) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\n/**\n * Return start and count of visible points.\n * @private\n */\nexport function _getStartAndCountOfVisiblePoints(meta: ChartMeta<'line' | 'scatter'>, points: PointElement[], animationsDisabled: boolean) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count = pointCount;\n\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, axis, min).lo,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {start, count};\n}\n\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */\nexport function _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n","import {PI, TAU, HALF_PI} from './helpers.math.js';\n\nconst atEdge = (t: number) => t === 0 || t === 1;\nconst elasticIn = (t: number, s: number, p: number) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t: number, s: number, p: number) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */\nconst effects = {\n  linear: (t: number) => t,\n\n  easeInQuad: (t: number) => t * t,\n\n  easeOutQuad: (t: number) => -t * (t - 2),\n\n  easeInOutQuad: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n\n  easeInCubic: (t: number) => t * t * t,\n\n  easeOutCubic: (t: number) => (t -= 1) * t * t + 1,\n\n  easeInOutCubic: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n\n  easeInQuart: (t: number) => t * t * t * t,\n\n  easeOutQuart: (t: number) => -((t -= 1) * t * t * t - 1),\n\n  easeInOutQuart: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n\n  easeInQuint: (t: number) => t * t * t * t * t,\n\n  easeOutQuint: (t: number) => (t -= 1) * t * t * t * t + 1,\n\n  easeInOutQuint: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n\n  easeInSine: (t: number) => -Math.cos(t * HALF_PI) + 1,\n\n  easeOutSine: (t: number) => Math.sin(t * HALF_PI),\n\n  easeInOutSine: (t: number) => -0.5 * (Math.cos(PI * t) - 1),\n\n  easeInExpo: (t: number) => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n\n  easeOutExpo: (t: number) => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n\n  easeInOutExpo: (t: number) => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n\n  easeInCirc: (t: number) => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n\n  easeOutCirc: (t: number) => Math.sqrt(1 - (t -= 1) * t),\n\n  easeInOutCirc: (t: number) => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n\n  easeInElastic: (t: number) => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n\n  easeOutElastic: (t: number) => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n\n  easeInOutElastic(t: number) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n\n  easeInBack(t: number) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n\n  easeOutBack(t: number) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n\n  easeInOutBack(t: number) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n\n  easeInBounce: (t: number) => 1 - effects.easeOutBounce(1 - t),\n\n  easeOutBounce(t: number) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n\n  easeInOutBounce: (t: number) => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n} as const;\n\nexport type EasingFunction = keyof typeof effects\n\nexport default effects;\n","import {Color} from '@kurkle/color';\n\nexport function isPatternOrGradient(value: unknown): value is CanvasPattern | CanvasGradient {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n\n  return false;\n}\n\nexport function color(value: CanvasGradient): CanvasGradient;\nexport function color(value: CanvasPattern): CanvasPattern;\nexport function color(\n  value:\n  | string\n  | { r: number; g: number; b: number; a: number }\n  | [number, number, number]\n  | [number, number, number, number]\n): Color;\nexport function color(value) {\n  return isPatternOrGradient(value) ? value : new Color(value);\n}\n\nexport function getHoverColor(value: CanvasGradient): CanvasGradient;\nexport function getHoverColor(value: CanvasPattern): CanvasPattern;\nexport function getHoverColor(value: string): string;\nexport function getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n","const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\n\nexport function applyAnimationsDefaults(defaults) {\n  defaults.set('animation', {\n    delay: undefined,\n    duration: 1000,\n    easing: 'easeOutQuart',\n    fn: undefined,\n    from: undefined,\n    loop: undefined,\n    to: undefined,\n    type: undefined,\n  });\n\n  defaults.describe('animation', {\n    _fallback: false,\n    _indexable: false,\n    _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n  });\n\n  defaults.set('animations', {\n    colors: {\n      type: 'color',\n      properties: colors\n    },\n    numbers: {\n      type: 'number',\n      properties: numbers\n    },\n  });\n\n  defaults.describe('animations', {\n    _fallback: 'animation',\n  });\n\n  defaults.set('transitions', {\n    active: {\n      animation: {\n        duration: 400\n      }\n    },\n    resize: {\n      animation: {\n        duration: 0\n      }\n    },\n    show: {\n      animations: {\n        colors: {\n          from: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          duration: 0 // show immediately\n        },\n      }\n    },\n    hide: {\n      animations: {\n        colors: {\n          to: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          easing: 'linear',\n          fn: v => v | 0 // for keeping the dataset visible all the way through the animation\n        },\n      }\n    }\n  });\n}\n","\nconst intlCache = new Map<string, Intl.NumberFormat>();\n\nfunction getNumberFormat(locale: string, options?: Intl.NumberFormatOptions) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\n\nexport function formatNumber(num: number, locale: string, options?: Intl.NumberFormatOptions) {\n  return getNumberFormat(locale, options).format(num);\n}\n","import {isArray} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {log10} from '../helpers/helpers.math.js';\n\n/**\n * Namespace to hold formatters for different types of ticks\n * @namespace Chart.Ticks.formatters\n */\nconst formatters = {\n  /**\n   * Formatter for value labels\n   * @method Chart.Ticks.formatters.values\n   * @param value the value to display\n   * @return {string|string[]} the label to display\n   */\n  values(value) {\n    return isArray(value) ? /** @type {string[]} */ (value) : '' + value;\n  },\n\n  /**\n   * Formatter for numeric ticks\n   * @method Chart.Ticks.formatters.numeric\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0'; // never show decimal places for 0\n    }\n\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue; // This is used when there are less than 2 ticks as the tick interval.\n\n    if (ticks.length > 1) {\n      // all ticks are small or there huge numbers; use scientific notation\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    const logDelta = log10(Math.abs(delta));\n\n    // When datasets have values approaching Number.MAX_VALUE, the tick calculations might result in\n    // infinity and eventually NaN. Passing NaN for minimumFractionDigits or maximumFractionDigits\n    // will make the number formatter throw. So instead we check for isNaN and use a fallback value.\n    //\n    // toFixed has a max of 20 decimal places\n    const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n\n    return formatNumber(tickValue, locale, options);\n  },\n\n\n  /**\n   * Formatter for logarithmic ticks\n   * @method Chart.Ticks.formatters.logarithmic\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = ticks[index].significand || (tickValue / (Math.pow(10, Math.floor(log10(tickValue)))));\n    if ([1, 2, 3, 5, 10, 15].includes(remain) || index > 0.8 * ticks.length) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n\n};\n\n\nfunction calculateDelta(tickValue, ticks) {\n  // Figure out how many digits to show\n  // The space between the first two ticks might be smaller than normal spacing\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  // If we have a number like 2.5 as the delta, figure out how many decimal places we need\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    // not an integer\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\n\n/**\n * Namespace to hold static tick generation functions\n * @namespace Chart.Ticks\n */\nexport default {formatters};\n","import {getHoverColor} from '../helpers/helpers.color.js';\nimport {isObject, merge, valueOrDefault} from '../helpers/helpers.core.js';\nimport {applyAnimationsDefaults} from './core.animations.defaults.js';\nimport {applyLayoutsDefaults} from './core.layouts.defaults.js';\nimport {applyScaleDefaults} from './core.scale.defaults.js';\n\nexport const overrides = Object.create(null);\nexport const descriptors = Object.create(null);\n\n/**\n * @param {object} node\n * @param {string} key\n * @return {object}\n */\nfunction getScope(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\n\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope(root, scope), values);\n  }\n  return merge(getScope(root, ''), scope);\n}\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Defaults {\n  constructor(_descriptors, _appliers) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n\n    this.describe(_descriptors);\n    this.apply(_appliers);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n\n  /**\n\t * @param {string} scope\n\t */\n  get(scope) {\n    return getScope(this, scope);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n\n  /**\n\t * Routes the named defaults to fallback to another scope/name.\n\t * This routing is useful when those target values, like defaults.color, are changed runtime.\n\t * If the values would be copied, the runtime change would not take effect. By routing, the\n\t * fallback is evaluated at each access, so its always up to date.\n\t *\n\t * Example:\n\t *\n\t * \tdefaults.route('elements.arc', 'backgroundColor', '', 'color')\n\t *   - reads the backgroundColor from defaults.color when undefined locally\n\t *\n\t * @param {string} scope Scope this route applies to.\n\t * @param {string} name Property name that should be routed to different namespace when not defined here.\n\t * @param {string} targetScope The namespace where those properties should be routed to.\n\t * Empty string ('') is the root of defaults.\n\t * @param {string} targetName The target name in the target scope the property should be routed to.\n\t */\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope(this, scope);\n    const targetScopeObject = getScope(this, targetScope);\n    const privateName = '_' + name;\n\n    Object.defineProperties(scopeObject, {\n      // A private property is defined to hold the actual value, when this property is set in its scope (set in the setter)\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      // The actual property is defined as getter/setter so we can do the routing when value is not locally set.\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n\n  apply(appliers) {\n    appliers.forEach((apply) => apply(this));\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n}, [applyAnimationsDefaults, applyLayoutsDefaults, applyScaleDefaults]);\n","export function applyLayoutsDefaults(defaults) {\n  defaults.set('layout', {\n    autoPadding: true,\n    padding: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }\n  });\n}\n","import Ticks from './core.ticks.js';\n\nexport function applyScaleDefaults(defaults) {\n  defaults.set('scale', {\n    display: true,\n    offset: false,\n    reverse: false,\n    beginAtZero: false,\n\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 3.0.0\n     */\n    bounds: 'ticks',\n\n    clip: true,\n\n    /**\n     * Addition grace added to max and reduced from min data value.\n     * @since 3.0.0\n     */\n    grace: 0,\n\n    // grid line settings\n    grid: {\n      display: true,\n      lineWidth: 1,\n      drawOnChartArea: true,\n      drawTicks: true,\n      tickLength: 8,\n      tickWidth: (_ctx, options) => options.lineWidth,\n      tickColor: (_ctx, options) => options.color,\n      offset: false,\n    },\n\n    border: {\n      display: true,\n      dash: [],\n      dashOffset: 0.0,\n      width: 1\n    },\n\n    // scale title\n    title: {\n      // display property\n      display: false,\n\n      // actual label\n      text: '',\n\n      // top/bottom padding\n      padding: {\n        top: 4,\n        bottom: 4\n      }\n    },\n\n    // label settings\n    ticks: {\n      minRotation: 0,\n      maxRotation: 50,\n      mirror: false,\n      textStrokeWidth: 0,\n      textStrokeColor: '',\n      padding: 3,\n      display: true,\n      autoSkip: true,\n      autoSkipPadding: 3,\n      labelOffset: 0,\n      // We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n      callback: Ticks.formatters.values,\n      minor: {},\n      major: {},\n      align: 'center',\n      crossAlign: 'near',\n\n      showLabelBackdrop: false,\n      backdropColor: 'rgba(255, 255, 255, 0.75)',\n      backdropPadding: 2,\n    }\n  });\n\n  defaults.route('scale.ticks', 'color', '', 'color');\n  defaults.route('scale.grid', 'color', '', 'borderColor');\n  defaults.route('scale.border', 'color', '', 'borderColor');\n  defaults.route('scale.title', 'color', '', 'color');\n\n  defaults.describe('scale', {\n    _fallback: false,\n    _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n    _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash',\n  });\n\n  defaults.describe('scales', {\n    _fallback: 'scale',\n  });\n\n  defaults.describe('scale.ticks', {\n    _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n    _indexable: (name) => name !== 'backdropPadding',\n  });\n}\n","import type {\n  Chart,\n  Point,\n  FontSpec,\n  CanvasFontSpec,\n  PointStyle,\n  RenderTextOpts,\n  BackdropOptions\n} from '../types/index.js';\nimport type {\n  TRBL,\n  SplinePoint,\n  RoundedRect,\n  TRBLCorners\n} from '../types/geometric.js';\nimport {isArray, isNullOrUndef} from './helpers.core.js';\nimport {PI, TAU, HALF_PI, QUARTER_PI, TWO_THIRDS_PI, RAD_PER_DEG} from './helpers.math.js';\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */\nexport function toFontString(font: FontSpec) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\n\n/**\n * @private\n */\nexport function _measureText(\n  ctx: CanvasRenderingContext2D,\n  data: Record<string, number>,\n  gc: string[],\n  longest: number,\n  string: string\n) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\n\ntype Thing = string | undefined | null\ntype Things = (Thing | Thing[])[]\n\n/**\n * @private\n */\n// eslint-disable-next-line complexity\nexport function _longestText(\n  ctx: CanvasRenderingContext2D,\n  font: string,\n  arrayOfThings: Things,\n  cache?: {data?: Record<string, number>, garbageCollect?: string[], font?: string}\n) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n\n  ctx.save();\n\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i: number, j: number, jlen: number, thing: Thing | Thing[], nestedThing: Thing | Thing[];\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n\n    // Undefined strings and arrays should not be measured\n    if (thing !== undefined && thing !== null && !isArray(thing)) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      // if it is an array lets measure each element\n      // to do maybe simplify this function a bit so we can do this more recursively?\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        // Undefined strings and arrays should not be measured\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n\n  ctx.restore();\n\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\n\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */\nexport function _alignPixel(chart: Chart, pixel: number, width: number) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n\n/**\n * Clears the entire canvas.\n */\nexport function clearCanvas(canvas?: HTMLCanvasElement, ctx?: CanvasRenderingContext2D) {\n  if (!ctx && !canvas) {\n    return;\n  }\n\n  ctx = ctx || canvas.getContext('2d');\n\n  ctx.save();\n  // canvas.width and canvas.height do not consider the canvas transform,\n  // while clearRect does\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\n\nexport interface DrawPointOptions {\n  pointStyle: PointStyle;\n  rotation?: number;\n  radius: number;\n  borderWidth: number;\n}\n\nexport function drawPoint(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number\n) {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  drawPointLegend(ctx, options, x, y, null);\n}\n\n// eslint-disable-next-line complexity\nexport function drawPointLegend(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number,\n  w: number\n) {\n  let type: string, xOffset: number, yOffset: number, size: number, cornerRadius: number, width: number, xOffsetW: number, yOffsetW: number;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n    default:\n      if (w) {\n        ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n      } else {\n        ctx.arc(x, y, radius, 0, TAU);\n      }\n      ctx.closePath();\n      break;\n    case 'triangle':\n      width = w ? w / 2 : radius;\n      ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      ctx.closePath();\n      break;\n    case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n      cornerRadius = radius * 0.516;\n      size = radius - cornerRadius;\n      xOffset = Math.cos(rad + QUARTER_PI) * size;\n      xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      yOffset = Math.sin(rad + QUARTER_PI) * size;\n      yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n      ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n      ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n      ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n      ctx.closePath();\n      break;\n    case 'rect':\n      if (!rotation) {\n        size = Math.SQRT1_2 * radius;\n        width = w ? w / 2 : size;\n        ctx.rect(x - width, y - size, 2 * width, 2 * size);\n        break;\n      }\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'rectRot':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      ctx.closePath();\n      break;\n    case 'crossRot':\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'cross':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'star':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      rad += QUARTER_PI;\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'line':\n      xOffset = w ? w / 2 : Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      break;\n    case 'dash':\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n      break;\n    case false:\n      ctx.closePath();\n      break;\n  }\n\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\n\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */\nexport function _isPointInArea(\n  point: Point,\n  area: TRBL,\n  margin?: number\n) {\n  margin = margin || 0.5; // margin - default is to match rounded decimals\n\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\n\nexport function clipArea(ctx: CanvasRenderingContext2D, area: TRBL) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\n\nexport function unclipArea(ctx: CanvasRenderingContext2D) {\n  ctx.restore();\n}\n\n/**\n * @private\n */\nexport function _steppedLineTo(\n  ctx: CanvasRenderingContext2D,\n  previous: Point,\n  target: Point,\n  flip?: boolean,\n  mode?: string\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @private\n */\nexport function _bezierCurveTo(\n  ctx: CanvasRenderingContext2D,\n  previous: SplinePoint,\n  target: SplinePoint,\n  flip?: boolean\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\n\nfunction setRenderOpts(ctx: CanvasRenderingContext2D, opts: RenderTextOpts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\n\nfunction decorateText(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  line: string,\n  opts: RenderTextOpts\n) {\n  if (opts.strikethrough || opts.underline) {\n    /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\n\nfunction drawBackdrop(ctx: CanvasRenderingContext2D, opts: BackdropOptions) {\n  const oldColor = ctx.fillStyle;\n\n  ctx.fillStyle = opts.color as string;\n  ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n  ctx.fillStyle = oldColor;\n}\n\n/**\n * Render text onto the canvas\n */\nexport function renderText(\n  ctx: CanvasRenderingContext2D,\n  text: string | string[],\n  x: number,\n  y: number,\n  font: CanvasFontSpec,\n  opts: RenderTextOpts = {}\n) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i: number, line: string;\n\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n\n    if (opts.backdrop) {\n      drawBackdrop(ctx, opts.backdrop);\n    }\n\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n\n    y += Number(font.lineHeight);\n  }\n\n  ctx.restore();\n}\n\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */\nexport function addRoundedRectPath(\n  ctx: CanvasRenderingContext2D,\n  rect: RoundedRect & { radius: TRBLCorners }\n) {\n  const {x, y, w, h, radius} = rect;\n\n  // top left arc\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n\n  // line from top left to bottom left\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n\n  // bottom left arc\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n\n  // line from bottom left to bottom right\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n\n  // bottom right arc\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n\n  // line from bottom right to top right\n  ctx.lineTo(x + w, y + radius.topRight);\n\n  // top right arc\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n\n  // line from top right to top left\n  ctx.lineTo(x + radius.topLeft, y);\n}\n","import defaults from '../core/core.defaults.js';\nimport {isArray, isObject, toDimension, valueOrDefault} from './helpers.core.js';\nimport {toFontString} from './helpers.canvas.js';\nimport type {ChartArea, FontSpec, Point} from '../types/index.js';\nimport type {TRBL, TRBLCorners} from '../types/geometric.js';\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n\n/**\n * @alias Chart.helpers.options\n * @namespace\n */\n/**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */\nexport function toLineHeight(value: number | string, size: number): number {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n\n  value = +matches[2];\n\n  switch (matches[3]) {\n    case 'px':\n      return value;\n    case '%':\n      value /= 100;\n      break;\n    default:\n      break;\n  }\n\n  return size * value;\n}\n\nconst numberOrZero = (v: unknown) => +v || 0;\n\n/**\n * @param value\n * @param props\n */\nexport function _readValueToProps<K extends string>(value: number | Record<K, number>, props: K[]): Record<K, number>;\nexport function _readValueToProps<K extends string, T extends string>(value: number | Record<K & T, number>, props: Record<T, K>): Record<T, number>;\nexport function _readValueToProps(value: number | Record<string, number>, props: string[] | Record<string, string>) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\n\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */\nexport function toTRBL(value: number | TRBL | Point) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\n\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */\nexport function toTRBLCorners(value: number | TRBLCorners) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\n\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */\nexport function toPadding(value?: number | TRBL): ChartArea {\n  const obj = toTRBL(value) as ChartArea;\n\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n\n  return obj;\n}\n\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */\n\nexport function toFont(options: Partial<FontSpec>, fallback?: Partial<FontSpec>) {\n  options = options || {};\n  fallback = fallback || defaults.font as FontSpec;\n\n  let size = valueOrDefault(options.size, fallback.size);\n\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = undefined;\n  }\n\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n\n  font.string = toFontString(font);\n  return font;\n}\n\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */\nexport function resolve(inputs: Array<unknown>, context?: object, index?: number, info?: { cacheable: boolean }) {\n  let cacheable = true;\n  let i: number, ilen: number, value: unknown;\n\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\n\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */\nexport function _addGrace(minmax: { min: number; max: number; }, grace: number | string, beginAtZero: boolean) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value: number, add: number) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\n\n/**\n * Create a context inheriting parentContext\n * @param parentContext\n * @param context\n * @returns\n */\nexport function createContext<T extends object>(parentContext: null, context: T): T;\nexport function createContext<T extends object, P extends T>(parentContext: P, context: T): P & T;\nexport function createContext(parentContext: object, context: object) {\n  return Object.assign(Object.create(parentContext), context);\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartMeta} from '../types/index.js';\nimport type {\n  ResolverObjectKey,\n  ResolverCache,\n  ResolverProxy,\n  DescriptorDefaults,\n  Descriptor,\n  ContextCache,\n  ContextProxy\n} from './helpers.config.types.js';\nimport {isArray, isFunction, isObject, resolveObjectKey, _capitalize} from './helpers.core.js';\n\nexport * from './helpers.config.types.js';\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */\nexport function _createResolver<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  scopes: T,\n  prefixes = [''],\n  rootScopes?: R,\n  fallback?: ResolverObjectKey,\n  getTarget = () => scopes[0]\n) {\n  const finalRootScopes = rootScopes || scopes;\n  if (typeof fallback === 'undefined') {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache: ResolverCache<T, R> = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: finalRootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope: AnyObject) => _createResolver([scope, ...scopes], prefixes, finalRootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop: string) {\n      delete target[prop]; // remove from cache\n      delete target._keys; // remove cached keys\n      delete scopes[0][prop]; // remove from top level scope\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop: string) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop: string, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value; // set to top level scope + cache\n      delete target._keys; // remove cached keys\n      return true;\n    }\n  }) as ResolverProxy<T, R>;\n}\n\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */\nexport function _attachContext<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  proxy: ResolverProxy<T, R>,\n  context: AnyObject,\n  subProxy?: ResolverProxy<T, R>,\n  descriptorDefaults?: DescriptorDefaults\n) {\n  const cache: ContextCache<T, R> = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx: AnyObject) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope: AnyObject) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop) {\n      delete target[prop]; // remove from cache\n      delete proxy[prop]; // remove from proxy\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop, value) {\n      proxy[prop] = value; // set to proxy\n      delete target[prop]; // remove from cache\n      return true;\n    }\n  }) as ContextProxy<T, R>;\n}\n\n/**\n * @private\n */\nexport function _descriptors(\n  proxy: ResolverCache,\n  defaults: DescriptorDefaults = {scriptable: true, indexable: true}\n): Descriptor {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\n\nconst readKey = (prefix: string, name: string) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop: string, value: unknown) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\n\nfunction _cached(\n  target: AnyObject,\n  prop: string,\n  resolve: () => unknown\n) {\n  if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n    return target[prop];\n  }\n\n  const value = resolve();\n  // cache the resolved value\n  target[prop] = value;\n  return value;\n}\n\nfunction _resolveWithContext(\n  target: ContextCache,\n  prop: string,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop]; // resolve from proxy\n\n  // resolve with context\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    // if the resolved value is an object, create a sub resolver for it\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\n\nfunction _resolveScriptable(\n  prop: string,\n  getValue: (ctx: AnyObject, sub: AnyObject) => unknown,\n  target: ContextCache,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  let value = getValue(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    // When scriptable option returns an object, create a resolver on that.\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\n\nfunction _resolveArray(\n  prop: string,\n  value: unknown[],\n  target: ContextCache,\n  isIndexable: (key: string) => boolean\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n\n  if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n    return value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    // Array of objects, return array or resolvers\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\n\nfunction resolveFallback(\n  fallback: ResolverObjectKey | ((prop: ResolverObjectKey, value: unknown) => ResolverObjectKey),\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\n\nconst getScope = (key: ResolverObjectKey, parent: AnyObject) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\n\nfunction addScopes(\n  set: Set<AnyObject>,\n  parentScopes: AnyObject[],\n  key: ResolverObjectKey,\n  parentFallback: ResolverObjectKey,\n  value: unknown\n) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n        // When we reach the descriptor that defines a new _fallback, return that.\n        // The fallback will resume to that new scope.\n        return fallback;\n      }\n    } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n      // Fallback to `false` results to `false`, when falling back to different key.\n      // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n      return null;\n    }\n  }\n  return false;\n}\n\nfunction createSubResolver(\n  parentScopes: AnyObject[],\n  resolver: ResolverCache,\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set<AnyObject>();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (typeof fallback !== 'undefined' && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop as string, value));\n}\n\nfunction addScopesFromKey(\n  set: Set<AnyObject>,\n  allScopes: AnyObject[],\n  key: ResolverObjectKey,\n  fallback: ResolverObjectKey,\n  item: unknown\n) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\n\nfunction subGetTarget(\n  resolver: ResolverCache,\n  prop: string,\n  value: unknown\n) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    // For array of objects, the object is used to store updated values\n    return value;\n  }\n  return target || {};\n}\n\nfunction _resolveWithPrefixes(\n  prop: string,\n  prefixes: string[],\n  scopes: AnyObject[],\n  proxy: ResolverProxy\n) {\n  let value: unknown;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (typeof value !== 'undefined') {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\n\nfunction _resolve(key: string, scopes: AnyObject[]) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (typeof value !== 'undefined') {\n      return value;\n    }\n  }\n}\n\nfunction getKeysFromAllScopes(target: ResolverCache) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\n\nfunction resolveKeysFromAllScopes(scopes: AnyObject[]) {\n  const set = new Set<string>();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nexport function _parseObjectDataRadialScale(\n  meta: ChartMeta<'line' | 'scatter'>,\n  data: AnyObject[],\n  start: number,\n  count: number\n) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array<{r: unknown}>(count);\n  let i: number, ilen: number, index: number, item: AnyObject;\n\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n","import {almostEquals, distanceBetweenPoints, sign} from './helpers.math.js';\nimport {_isPointInArea} from './helpers.canvas.js';\nimport type {ChartArea} from '../types/index.js';\nimport type {SplinePoint} from '../types/geometric.js';\n\nconst EPSILON = Number.EPSILON || 1e-14;\n\ntype OptionalSplinePoint = SplinePoint | false\nconst getPoint = (points: SplinePoint[], i: number): OptionalSplinePoint => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis: 'x' | 'y') => indexAxis === 'x' ? 'y' : 'x';\n\nexport function splineCurve(\n  firstPoint: SplinePoint,\n  middlePoint: SplinePoint,\n  afterPoint: SplinePoint,\n  t: number\n): {\n    previous: SplinePoint\n    next: SplinePoint\n  } {\n  // Props to Rob Spencer at scaled innovation for his post on splining between points\n  // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n  // This function must also respect \"skipped\" points\n\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n\n  // If all points are the same, s01 & s02 will be inf\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n\n  const fa = t * s01; // scaling factor for triangle Ta\n  const fb = t * s12;\n\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\n\n/**\n * Adjust tangents to ensure monotonic properties\n */\nfunction monotoneAdjust(points: SplinePoint[], deltaK: number[], mK: number[]) {\n  const pointsLen = points.length;\n\n  let alphaK: number, betaK: number, tauK: number, squaredMagnitude: number, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\n\nfunction monotoneCompute(points: SplinePoint[], mK: number[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta: number, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\n\n/**\n * This function calculates Bzier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */\nexport function splineCurveMonotone(points: SplinePoint[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK: number[] = Array(pointsLen).fill(0);\n  const mK: number[] = Array(pointsLen);\n\n  // Calculate slopes (deltaK) and initialize tangents (mK)\n  let i, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n\n      // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n        : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n          : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n\n  monotoneAdjust(points, deltaK, mK);\n\n  monotoneCompute(points, mK, indexAxis);\n}\n\nfunction capControlPoint(pt: number, min: number, max: number) {\n  return Math.max(Math.min(pt, max), min);\n}\n\nfunction capBezierPoints(points: SplinePoint[], area: ChartArea) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\n\n/**\n * @private\n */\nexport function _updateBezierControlPoints(\n  points: SplinePoint[],\n  options,\n  area: ChartArea,\n  loop: boolean,\n  indexAxis: 'x' | 'y'\n) {\n  let i: number, ilen: number, point: SplinePoint, controlPoints: ReturnType<typeof splineCurve>;\n\n  // Only consider points that are drawn in case the spanGaps option is used\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n","import type {ChartArea, Scale} from '../types/index.js';\nimport type Chart from '../core/core.controller.js';\nimport type {ChartEvent} from '../types.js';\nimport {INFINITY} from './helpers.math.js';\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */\n\n/**\n * @private\n */\nexport function _isDomSupported(): boolean {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\n/**\n * @private\n */\nexport function _getParentNode(domNode: HTMLCanvasElement): HTMLCanvasElement {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = (parent as ShadowRoot).host;\n  }\n  return parent as HTMLCanvasElement;\n}\n\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */\n\nfunction parseMaxStyle(styleValue: string | number, node: HTMLElement, parentProperty: string) {\n  let valueInPixels: number;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n\n    if (styleValue.indexOf('%') !== -1) {\n      // percentage * size in dimension\n      valueInPixels = (valueInPixels / 100) * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n\n  return valueInPixels;\n}\n\nconst getComputedStyle = (element: HTMLElement): CSSStyleDeclaration =>\n  element.ownerDocument.defaultView.getComputedStyle(element, null);\n\nexport function getStyle(el: HTMLElement, property: string): string {\n  return getComputedStyle(el).getPropertyValue(property);\n}\n\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles: CSSStyleDeclaration, style: string, suffix?: string): ChartArea {\n  const result = {} as ChartArea;\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\n\nconst useOffsetPos = (x: number, y: number, target: HTMLElement | EventTarget) =>\n  (x > 0 || y > 0) && (!target || !(target as HTMLElement).shadowRoot);\n\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */\nfunction getCanvasPosition(\n  e: Event | TouchEvent | MouseEvent,\n  canvas: HTMLCanvasElement\n): {\n    x: number;\n    y: number;\n    box: boolean;\n  } {\n  const touches = (e as TouchEvent).touches;\n  const source = (touches && touches.length ? touches[0] : e) as MouseEvent;\n  const {offsetX, offsetY} = source as MouseEvent;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\n\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */\n\nexport function getRelativePosition(\n  event: Event | ChartEvent | TouchEvent | MouseEvent,\n  chart: Chart\n): { x: number; y: number } {\n  if ('native' in event) {\n    return event;\n  }\n\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(event, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\n\nfunction getContainerSize(canvas: HTMLCanvasElement, width: number, height: number): Partial<Scale> {\n  let maxWidth: number, maxHeight: number;\n\n  if (width === undefined || height === undefined) {\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect(); // this is the border box of the container\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\n\nconst round1 = (v: number) => Math.round(v * 10) / 10;\n\n// eslint-disable-next-line complexity\nexport function getMaximumSize(\n  canvas: HTMLCanvasElement,\n  bbWidth?: number,\n  bbHeight?: number,\n  aspectRatio?: number\n): { width: number; height: number } {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    // https://github.com/chartjs/Chart.js/issues/4659\n    // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n    height = round1(width / 2);\n  }\n\n  const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n\n  if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n    height = containerSize.height;\n    width = round1(Math.floor(height * aspectRatio));\n  }\n\n  return {width, height};\n}\n\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */\nexport function retinaScale(\n  chart: Chart,\n  forceRatio: number,\n  forceStyle?: boolean\n): boolean | void {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n\n  chart.height = Math.floor(chart.height);\n  chart.width = Math.floor(chart.width);\n\n  const canvas = chart.canvas;\n\n  // If no style has been set on the canvas, the render size is used as display size,\n  // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n  // See https://github.com/chartjs/Chart.js/issues/3575\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */\nexport const supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() { // This function will be called when the browser attempts to access the passive property.\n        passiveSupported = true;\n        return false;\n      }\n    } as EventListenerOptions;\n\n    if (_isDomSupported()) {\n      window.addEventListener('test', null, options);\n      window.removeEventListener('test', null, options);\n    }\n  } catch (e) {\n    // continue regardless of error\n  }\n  return passiveSupported;\n}());\n\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */\n\nexport function readUsedSize(\n  element: HTMLElement,\n  property: 'width' | 'height'\n): number | undefined {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n","import type {Point, SplinePoint} from '../types/geometric.js';\n\n/**\n * @private\n */\nexport function _pointInLine(p1: Point, p2: Point, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\n\n/**\n * @private\n */\nexport function _steppedInterpolation(\n  p1: Point,\n  p2: Point,\n  t: number, mode: 'middle' | 'after' | unknown\n) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n      : mode === 'after' ? t < 1 ? p1.y : p2.y\n        : t > 0 ? p2.y : p1.y\n  };\n}\n\n/**\n * @private\n */\nexport function _bezierInterpolation(p1: SplinePoint, p2: SplinePoint, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n","export interface RTLAdapter {\n  x(x: number): number;\n  setWidth(w: number): void;\n  textAlign(align: 'center' | 'left' | 'right'): 'center' | 'left' | 'right';\n  xPlus(x: number, value: number): number;\n  leftForLtr(x: number, itemWidth: number): number;\n}\n\nconst getRightToLeftAdapter = function(rectX: number, width: number): RTLAdapter {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\n\nconst getLeftToRightAdapter = function(): RTLAdapter {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) { // eslint-disable-line no-unused-vars\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) { // eslint-disable-line @typescript-eslint/no-unused-vars\n      return x;\n    },\n  };\n};\n\nexport function getRtlAdapter(rtl: boolean, rectX: number, width: number) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\n\nexport function overrideTextDirection(ctx: CanvasRenderingContext2D, direction: 'ltr' | 'rtl') {\n  let style: CSSStyleDeclaration, original: [string, string];\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n\n    style.setProperty('direction', direction, 'important');\n    (ctx as { prevTextDirection?: [string, string] }).prevTextDirection = original;\n  }\n}\n\nexport function restoreTextDirection(ctx: CanvasRenderingContext2D, original?: [string, string]) {\n  if (original !== undefined) {\n    delete (ctx as { prevTextDirection?: [string, string] }).prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n","import {_angleBetween, _angleDiff, _isBetween, _normalizeAngle} from './helpers.math.js';\nimport {createContext} from './helpers.options.js';\nimport {isPatternOrGradient} from './helpers.color.js';\n\n/**\n * @typedef { import('../elements/element.line.js').default } LineElement\n * @typedef { import('../elements/element.point.js').default } PointElement\n * @typedef {{start: number, end: number, loop: boolean, style?: any}} Segment\n */\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\n\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\n\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  // eslint-disable-next-line prefer-const\n  let {start, end, loop} = segment;\n  let i, ilen;\n\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\n\n/**\n * Returns the sub-segment(s) of a line segment that fall in the given bounds\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} [segment.style] - segment style\n * @param {PointElement[]} points - the points that this segment refers to\n * @param {object} [bounds]\n * @param {string} bounds.property - the property of a `PointElement` we are bounding. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the property\n * @param {number} bounds.end - end value of the property\n * @private\n **/\nexport function _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n\n    if (point.skip) {\n      continue;\n    }\n\n    value = normalize(point[property]);\n\n    if (value === prevValue) {\n      continue;\n    }\n\n    inside = between(value, startBound, endBound);\n\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n\n  return result;\n}\n\n\n/**\n * Returns the segments of the line that are inside given bounds\n * @param {LineElement} line\n * @param {object} [bounds]\n * @param {string} bounds.property - the property we are bounding with. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the `property`\n * @param {number} bounds.end - end value of the `property`\n * @private\n */\nexport function _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\n\n/**\n * Find start and end index of a line.\n */\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n\n  if (loop && !spanGaps) {\n    // loop and not spanning gaps, first find a gap to start from\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n\n  // find first non skipped point (after the first gap possibly)\n  while (start < count && points[start].skip) {\n    start++;\n  }\n\n  // if we looped to count, start needs to be 0\n  start %= count;\n\n  if (loop) {\n    // loop will go past count, if start > 0\n    end += start;\n  }\n\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n\n  // end could be more than count, normalize\n  end %= count;\n\n  return {start, end};\n}\n\n/**\n * Compute solid segments from Points, when spanGaps === false\n * @param {PointElement[]} points - the points\n * @param {number} start - start index\n * @param {number} max - max index (can go past count on a loop)\n * @param {boolean} loop - boolean indicating that this would be a loop if no gaps are found\n */\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        // @ts-ignore\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n\n  return result;\n}\n\n/**\n * Compute the continuous segments that define the whole line\n * There can be skipped points within a segment, if spanGaps is true.\n * @param {LineElement} line\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n * @private\n */\nexport function _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n\n  if (!count) {\n    return [];\n  }\n\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n\n/**\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\n\n/**\n * @param {LineElement} line\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    // Style can not start/end on a skipped point, adjust indices accordingly\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n\n  return result;\n}\n\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\n\nfunction styleChanged(style, prevStyle) {\n  if (!prevStyle) {\n    return false;\n  }\n  const cache = [];\n  const replacer = function(key, value) {\n    if (!isPatternOrGradient(value)) {\n      return value;\n    }\n    if (!cache.includes(value)) {\n      cache.push(value);\n    }\n    return cache.indexOf(value);\n  };\n  return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n","import {requestAnimFrame} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('./core.animation.js').default } Animation\n * @typedef { import('./core.controller.js').default } Chart\n */\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is export for typedoc\n */\nexport class Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n\n  /**\n\t * @private\n\t */\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _update(date = Date.now()) {\n    let remaining = 0;\n\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n\n      for (; i >= 0; --i) {\n        item = items[i];\n\n        if (item._active) {\n          if (item._total > anims.duration) {\n            // if the animation has been updated and its duration prolonged,\n            // update to total duration of current animations run (for progress event)\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          // Remove the item by replacing it with last item and removing the last\n          // A lot faster than splice.\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n\n      remaining += items.length;\n    });\n\n    this._lastDate = date;\n\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} event - event name\n\t * @param {Function} cb - callback\n\t */\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n\n  /**\n\t * Add animations\n\t * @param {Chart} chart\n\t * @param {Animation[]} items - animations\n\t */\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n\n  /**\n\t * Counts number of active animations for the chart\n\t * @param {Chart} chart\n\t */\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n\n  /**\n\t * Start animating (all charts)\n\t * @param {Chart} chart\n\t */\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n\t * Stop all animations for the chart\n\t * @param {Chart} chart\n\t */\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n\n  /**\n\t * Remove chart from Animator\n\t * @param {Chart} chart\n\t */\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Animator();\n","import effects from '../helpers/helpers.easing.js';\nimport {resolve} from '../helpers/helpers.options.js';\nimport {color as helpersColor} from '../helpers/helpers.color.js';\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  /**\n   * @param {string} from\n   * @param {string} to\n   * @param {number} factor\n   */\n  color(from, to, factor) {\n    const c0 = helpersColor(from || transparent);\n    const c1 = c0.valid && helpersColor(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nexport default class Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  active() {\n    return this._active;\n  }\n\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n\n  cancel() {\n    if (this._active) {\n      // update current evaluated value, for smoother animations\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n\n    this._active = from !== to && (loop || (elapsed < duration));\n\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n\n    this._target[prop] = this._fn(from, to, factor);\n  }\n\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n","import animator from './core.animator.js';\nimport Animation from './core.animation.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isObject} from '../helpers/helpers.core.js';\n\nexport default class Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n\n    const animationOptions = Object.keys(defaults.animation);\n    const animatedProps = this._properties;\n\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n\n  /**\n\t * Utility to handle animation of `options`.\n\t * @private\n\t */\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      // Going to shared options:\n      // After all animations are done, assign the shared options object to the element\n      // So any new updates to the shared options are observed\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n        // rejected, noop\n      });\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @private\n\t */\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n\n      if (animation) {\n        if (cfg && animation.active()) {\n          // There is an existing active animation, let's update that\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        // not animated, set directly to new value\n        target[prop] = value;\n        continue;\n      }\n\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n\n\n  /**\n\t * Update `target` properties to new values, using configured animations\n\t * @param {object} target - object to update\n\t * @param {object} values - new target properties\n\t * @returns {boolean|undefined} - `true` if animations were started\n\t **/\n  update(target, values) {\n    if (this._properties.size === 0) {\n      // Nothing is animated, just apply the new values.\n      Object.assign(target, values);\n      return;\n    }\n\n    const animations = this._createAnimations(target, values);\n\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\n\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  // @ts-ignore\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    // Going from shared options to distinct one:\n    // Create new options object containing the old shared values and start updating that.\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n","import Animations from './core.animations.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isFinite, isObject, valueOrDefault, resolveObjectKey, defined} from '../helpers/helpers.core.js';\nimport {listenArrayEvents, unlistenArrayEvents} from '../helpers/helpers.collection.js';\nimport {createContext, sign} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('./core.scale.js').default } Scale\n */\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  let t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\n\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  let found = false;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      found = true;\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n\n  if (!found && !options.all) {\n    return 0;\n  }\n\n  return value;\n}\n\nfunction convertObjectDataToArray(data, meta) {\n  const {iScale, vScale} = meta;\n  const iAxisKey = iScale.axis === 'x' ? 'x' : 'y';\n  const vAxisKey = vScale.axis === 'x' ? 'x' : 'y';\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      [iAxisKey]: key,\n      [vAxisKey]: data[key]\n    };\n  }\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\n\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n\n  return null;\n}\n\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {}); // map structure is {stackKey: {datasetIndex: value}}\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n\n    const visualValues = stack._visualValues || (stack._visualValues = {});\n    visualValues[datasetIndex] = value;\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\n\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  // Not using meta.index here, because it might be already updated if the dataset changed location\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n    if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n      delete stacks[axis]._visualValues[datasetIndex];\n    }\n  }\n}\n\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\n\nexport default class DatasetController {\n\n  /**\n   * @type {any}\n   */\n  static defaults = {};\n\n  /**\n   * Element type used to generate a meta dataset (e.g. Chart.element.LineElement).\n   */\n  static datasetElementType = null;\n\n  /**\n   * Element type used to generate a meta data (e.g. Chart.element.PointElement).\n   */\n  static dataElementType = null;\n\n  /**\n\t * @param {Chart} chart\n\t * @param {number} datasetIndex\n\t */\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    /** @type {boolean | object} */\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.datasetElementType = new.target.datasetElementType;\n    this.dataElementType = new.target.dataElementType;\n\n    this.initialize();\n  }\n\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n\n    if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n      console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n    }\n  }\n\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n\n  /**\n\t * @param {string} scaleID\n\t * @return {Scale}\n\t */\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n\n  /**\n\t * @private\n\t */\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n\n  reset() {\n    this._update('reset');\n  }\n\n  /**\n\t * @private\n\t */\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n\n    // In order to correctly handle data addition/deletion animation (and thus simulate\n    // real-time charts), we need to monitor these data modifications and synchronize\n    // the internal metadata accordingly.\n\n    if (isObject(data)) {\n      const meta = this._cachedMeta;\n      this._data = convertObjectDataToArray(data, meta);\n    } else if (_data !== data) {\n      if (_data) {\n        // This case happens when the user replaced the data array instance.\n        unlistenArrayEvents(_data, this);\n        // Discard old parsed data and stacks\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n\n  addElements() {\n    const meta = this._cachedMeta;\n\n    this._dataCheck();\n\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n\n    this._dataCheck();\n\n    // make sure cached _stacked status is current\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n\n    // detect change in stack option\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      // remove values from old stack\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n\n    // Re-sync meta data in case the user replaced the data array or if we missed\n    // any updates and so make sure that we handle number of datapoints changing.\n    this._resyncElements(resetNewElements);\n\n    // if stack changed, update stack values for the whole dataset\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n      meta._stacked = isStacked(meta.vScale, meta);\n    }\n  }\n\n  /**\n\t * Merges user-supplied and default dataset-level options\n\t * @private\n\t */\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n\n  /**\n\t * @param {number} start\n\t * @param {number} count\n\t */\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [1,3,4]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {xScale0: 0, yScale0: 1}\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [[1,2],[3,4]]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {x: 0, y: 1}\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [{x:1, y:5}, {x:2, y:10}]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id. _custom is optional\n\t * Example: {xScale0: 0, yScale0: 1, _custom: {r: 10, foo: 'bar'}}\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]._visualValues\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        // if the data is sorted, we don't need to check further from this end of array\n        break;\n      }\n    }\n    if (sorted) {\n      // in the sorted case, find first non-skipped value from other end of array\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return false;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {} // eslint-disable-line no-unused-vars\n\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n\n  /**\n\t * Returns a set of predefined style properties that should be used to represent the dataset\n\t * or the data if the index is specified\n\t * @param {number} index - data index\n\t * @param {boolean} [active] - true if hover\n\t * @return {object} style object\n\t */\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n\n  /**\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    // context is provided as a function, and is called only if needed,\n    // so we don't create a context for each element if not needed.\n    const context = () => this.getContext(index, active, mode);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n    if (values.$shared) {\n      // `$shared` indicates this set of options can be shared between multiple elements.\n      // Sharing is used to reduce number of properties to change during animation.\n      values.$shared = sharing;\n\n      // We cache options by `mode`, which can be 'active' for example. This enables us\n      // to have the 'active' element options and 'default' options to switch between\n      // when interacting.\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n\n    return values;\n  }\n\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n\n  /**\n\t * Utility for getting the options object shared between elements\n\t * @protected\n\t */\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n\n  /**\n\t * Utility for determining if `options` should be included in the updated properties\n\t * @protected\n\t */\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n\n  /**\n   * @todo v4, rename to getSharedOptions and remove excess functions\n   */\n  _getSharedOptions(start, mode) {\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const previouslySharedOptions = this._sharedOptions;\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    return {sharedOptions, includeOptions};\n  }\n\n  /**\n\t * Utility for updating an element with new properties, using animations when appropriate.\n\t * @protected\n\t */\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n\n  /**\n\t * Utility to animate the shared options, that are potentially affecting multiple elements.\n\t * @protected\n\t */\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      // When going from active to inactive, we need to update to the shared options.\n      // This way the once hovered element will end up with the same original shared options instance, after animation.\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n\n  /**\n\t * @private\n\t */\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n\n    // Apply changes detected through array listeners\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n\n    if (count) {\n      // TODO: It is not optimal to always parse the old data\n      // This is done because we are not detecting direct assignments:\n      // chart.data.datasets[0].data[5] = 10;\n      // chart.data.datasets[0].data[5].y = 10;\n      this.parse(0, count);\n    }\n\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n\n  updateElements(element, start, count, mode) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @private\n\t */\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n\n  /**\n\t * @private\n   */\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {\n  _arrayUnique, isArray, isNullOrUndef,\n  valueOrDefault, resolveObjectKey, sign, defined\n} from '../helpers/index.js';\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\n\n/**\n * Computes the \"optimal\" sample size to maintain bars equally sized while preventing overlap.\n * @private\n */\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      // Ignore truncated pixels\n      return;\n    }\n    if (defined(prev)) {\n      // curr - prev === 0 is ignored\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n\n  return min;\n}\n\n/**\n * Computes an \"ideal\" category based on the absolute bar thickness or, if undefined or null,\n * uses the smallest interval (see computeMinSampleSize) that prevents bar overlapping. This\n * mode currently always generates bars equally sized (until we introduce scriptable options?).\n * @private\n */\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    // When bar thickness is enforced, category and bar percentages are ignored.\n    // Note(SB): we could add support for relative bar thickness (e.g. barThickness: '50%')\n    // and deprecate barPercentage since this value is ignored when thickness is absolute.\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\n\n/**\n * Computes an \"optimal\" category that globally arranges bars side by side (no gap when\n * percentage options are 1), based on the previous and following categories. This mode\n * generates bars with different widths when data are not evenly spaced.\n * @private\n */\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n\n  if (prev === null) {\n    // first data: its size is double based on the next point or,\n    // if it's also the last data, we use the scale size.\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n\n  if (next === null) {\n    // last data: its size is also double based on the previous point.\n    next = curr + curr - prev;\n  }\n\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\n\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n\n  // Store `barEnd` (furthest away from origin) as parsed value,\n  // to make stacking straight forward\n  item[vScale.axis] = barEnd;\n\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\n\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\n\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\n\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\n\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\n\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\n\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n\n  if (edge === true) {\n    properties.borderSkipped = {top: true, right: true, bottom: true, left: true};\n    return;\n  }\n\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\n\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\n\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\n\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\n\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\n\nexport default class BarController extends DatasetController {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'bar',\n\n    categoryPercentage: 0.8,\n    barPercentage: 0.9,\n    grouped: true,\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'base', 'width', 'height']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n        offset: true,\n        grid: {\n          offset: true\n        }\n      },\n      _value_: {\n        type: 'linear',\n        beginAtZero: true,\n      }\n    }\n  };\n\n\n  /**\n\t * Overriding primitive data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding array data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding object data parsing since we support mixed primitive/array\n\t * value-scale data for float bars\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      // float bar: only one end of the bar is considered by `super`\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n\n  initialize() {\n    this.enableOptionSharing = true;\n\n    super.initialize();\n\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n\n  /**\n\t * Returns the stacks based on groups and bar visibility.\n\t * @param {number} [last] - The dataset index\n\t * @param {number} [dataIndex] - The data index of the ruler\n\t * @returns {string[]} The list of stack IDs\n\t * @private\n\t */\n  _getStacks(last, dataIndex) {\n    const {iScale} = this._cachedMeta;\n    const metasets = iScale.getMatchingVisibleMetas(this._type)\n      .filter(meta => meta.controller.options.grouped);\n    const stacked = iScale.options.stacked;\n    const stacks = [];\n    const currentParsed = this._cachedMeta.controller.getParsed(dataIndex);\n    const iScaleValue = currentParsed && currentParsed[iScale.axis];\n\n    const skipNull = (meta) => {\n      const parsed = meta._parsed.find(item => item[iScale.axis] === iScaleValue);\n      const val = parsed && parsed[meta.vScale.axis];\n\n      if (isNullOrUndef(val) || isNaN(val)) {\n        return true;\n      }\n    };\n\n    for (const meta of metasets) {\n      if (dataIndex !== undefined && skipNull(meta)) {\n        continue;\n      }\n\n      // stacked   | meta.stack\n      //           | found | not found | undefined\n      // false     |   x   |     x     |     x\n      // true      |       |     x     |\n      // undefined |       |     x     |     x\n      if (stacked === false || stacks.indexOf(meta.stack) === -1 ||\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\n        stacks.push(meta.stack);\n      }\n      if (meta.index === last) {\n        break;\n      }\n    }\n\n    // No stacks? that means there is no visible data. Let's still initialize an `undefined`\n    // stack where possible invisible bars will be located.\n    // https://github.com/chartjs/Chart.js/issues/6368\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n\n    return stacks;\n  }\n\n  /**\n\t * Returns the effective number of stacks based on groups and bar visibility.\n\t * @private\n\t */\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n\n  /**\n\t * Returns the stack index for the given dataset based on groups and bar visibility.\n\t * @param {number} [datasetIndex] - The dataset index\n\t * @param {string} [name] - The stack name to find\n   * @param {number} [dataIndex]\n\t * @returns {number} The stack index\n\t * @private\n\t */\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1; // indexOf returns -1 if element is not present\n\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      // bar thickness ratio used for non-grouped bars\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n\n  /**\n\t * Note: pixel values are not clamped to the scale area.\n\t * @private\n\t */\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked, index: datasetIndex}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      // bars crossing origin are not stacked\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      // When not visible, no height\n      head = base;\n    }\n\n    size = head - base;\n\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      const startPixel = vScale.getPixelForDecimal(0);\n      const endPixel = vScale.getPixelForDecimal(1);\n      const min = Math.min(startPixel, endPixel);\n      const max = Math.max(startPixel, endPixel);\n      base = Math.max(Math.min(base, max), min);\n      head = base + size;\n\n      if (_stacked && !floating) {\n        // visual data coordinates after applying minBarLength\n        parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n      }\n    }\n\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      // For non-grouped bar charts, exact pixel values are used\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null && !rects[i].hidden) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {valueOrDefault} from '../helpers/helpers.core.js';\n\nexport default class BubbleController extends DatasetController {\n\n  static id = 'bubble';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'borderWidth', 'radius']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n\n  update(mode) {\n    const points = this._cachedMeta.data;\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n\n    // In case values were cached (and thus frozen), we need to clone the values\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n\n    // Custom radius resolution\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n\n    return values;\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isObject, resolveObjectKey, toPercentage, toDimension, valueOrDefault} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {toRadians, PI, TAU, HALF_PI, _angleBetween} from '../helpers/helpers.math.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  // If the chart's circumference isn't a full circle, calculate size as a ratio of the width/height of the arc\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\n\nexport default class DoughnutController extends DatasetController {\n\n  static id = 'doughnut';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'arc',\n    animation: {\n      // Boolean - Whether we animate the rotation of the Doughnut\n      animateRotate: true,\n      // Boolean - Whether we animate scaling the Doughnut from the centre\n      animateScale: false\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n      },\n    },\n    // The percentage of the chart that we cut out of the middle.\n    cutout: '50%',\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%',\n\n    // Spacing between arcs\n    spacing: 0,\n\n    indexAxis: 'r',\n  };\n\n  static descriptors = {\n    _scriptable: (name) => name !== 'spacing',\n    _indexable: (name) => name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash'),\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    // Need to override these to give a nice default\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n\n  linkScales() {}\n\n  /**\n\t * Override data parsing, since we are not using scales\n\t */\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n\n  /**\n\t * @private\n\t */\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n\n  /**\n\t * Get the maximal rotation & circumference extents\n\t * across all visible datasets.\n\t */\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n\n    // Compute the maximal rotation & circumference limits.\n    // If we only consider our dataset, this can cause problems when two datasets\n    // are both less than a circle with different rotations (starting angles)\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n\n    meta.total = this.calculateTotal();\n\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @private\n   */\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    let startAngle = this._getRotation();\n    let i;\n\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n\n    return total;\n  }\n\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n\n    if (!arcs) {\n      // Find the outmost visible dataset\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n\n    if (!arcs) {\n      return 0;\n    }\n\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n\n  getMaxOffset(arcs) {\n    let max = 0;\n\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n\n  /**\n\t * Get radius length offset of the dataset in relation to the visible datasets weights. This allows determining the inner and outer radius correctly\n\t * @private\n\t */\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n\n    return ringWeightOffset;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n\n  /**\n\t * Returns the sum of all visible data set weights.\n\t * @private\n\t */\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class LineController extends DatasetController {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n\n    showLine: true,\n    spanGaps: false,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n      },\n      _value_: {\n        type: 'linear',\n      },\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    // Update Line\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    const end = start + count;\n    const pointsCount = points.length;\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = 0; i < pointsCount; ++i) {\n      const point = points[i];\n      const properties = directUpdate ? point : {};\n\n      if (i < start || i >= end) {\n        properties.skip = true;\n        continue;\n      }\n\n      const parsed = this.getParsed(i);\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {toRadians, PI, formatNumber, _parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class PolarAreaController extends DatasetController {\n\n  static id = 'polarArea';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    dataElementType: 'arc',\n    animation: {\n      animateRotate: true,\n      animateScale: true\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n      },\n    },\n    indexAxis: 'r',\n    startAngle: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    },\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n        angleLines: {\n          display: false\n        },\n        beginAtZero: true,\n        grid: {\n          circular: true\n        },\n        pointLabels: {\n          display: false\n        },\n        startAngle: 0\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @protected\n   */\n  getMinMax() {\n    const meta = this._cachedMeta;\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n\n    meta.data.forEach((element, index) => {\n      const parsed = this.getParsed(index).r;\n\n      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n        if (parsed < range.min) {\n          range.min = parsed;\n        }\n\n        if (parsed > range.max) {\n          range.max = parsed;\n        }\n      }\n    });\n\n    return range;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n\n    const defaultAngle = 360 / this.countVisibleElements();\n\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n      angle = endAngle;\n\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  countVisibleElements() {\n    const meta = this._cachedMeta;\n    let count = 0;\n\n    meta.data.forEach((element, index) => {\n      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\n","import DoughnutController from './controller.doughnut.js';\n\n// Pie charts are Doughnut chart with different defaults\nexport default class PieController extends DoughnutController {\n\n  static id = 'pie';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    // The percentage of the chart that we cut out of the middle.\n    cutout: 0,\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%'\n  };\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {_parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class RadarController extends DatasetController {\n\n  static id = 'radar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n    indexAxis: 'r',\n    showLine: true,\n    elements: {\n      line: {\n        fill: 'start'\n      }\n    },\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n\n    // Update Line\n    line.points = points;\n    // In resize mode only point locations change, so no need to set the points or options.\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n\n      this.updateElement(line, undefined, properties, mode);\n    }\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class ScatterController extends DatasetController {\n\n  static id = 'scatter';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n    showLine: false,\n    fill: false\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n\n    interaction: {\n      mode: 'point'\n    },\n\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + ')'\n    };\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {data: points = []} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    if (this.options.showLine) {\n\n      // https://github.com/chartjs/Chart.js/issues/11333\n      if (!this.datasetElementType) {\n        this.addElements();\n      }\n      const {dataset: line, _dataset} = meta;\n\n      // Update Line\n      line._chart = this.chart;\n      line._datasetIndex = this.index;\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n\n      const options = this.resolveDatasetElementOptions(mode);\n      options.segment = this.options.segment;\n      this.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options\n      }, mode);\n    } else if (this.datasetElementType) {\n      // https://github.com/chartjs/Chart.js/issues/11333\n      delete meta.dataset;\n      this.datasetElementType = false;\n    }\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  addElements() {\n    const {showLine} = this.options;\n\n    if (!this.datasetElementType && showLine) {\n      this.datasetElementType = this.chart.registry.getElement('line');\n    }\n\n    super.addElements();\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const data = meta.data || [];\n\n    if (!this.options.showLine) {\n      let max = 0;\n      for (let i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n      }\n      return max > 0 && max;\n    }\n\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n\n    if (!data.length) {\n      return border;\n    }\n\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n}\n","/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartOptions} from '../types/index.js';\n\nexport type TimeUnit = 'millisecond' | 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'quarter' | 'year';\n\nexport interface DateAdapter<T extends AnyObject = AnyObject> {\n  readonly options: T;\n  /**\n   * Will called with chart options after adapter creation.\n   */\n  init(this: DateAdapter<T>, chartOptions: ChartOptions): void;\n  /**\n   * Returns a map of time formats for the supported formatting units defined\n   * in Unit as well as 'datetime' representing a detailed date/time string.\n   */\n  formats(this: DateAdapter<T>): Record<string, string>;\n  /**\n   * Parses the given `value` and return the associated timestamp.\n   * @param value - the value to parse (usually comes from the data)\n   * @param [format] - the expected data format\n   */\n  parse(this: DateAdapter<T>, value: unknown, format?: TimeUnit): number | null;\n  /**\n   * Returns the formatted date in the specified `format` for a given `timestamp`.\n   * @param timestamp - the timestamp to format\n   * @param format - the date/time token\n   */\n  format(this: DateAdapter<T>, timestamp: number, format: TimeUnit): string;\n  /**\n   * Adds the specified `amount` of `unit` to the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param amount - the amount to add\n   * @param unit - the unit as string\n   */\n  add(this: DateAdapter<T>, timestamp: number, amount: number, unit: TimeUnit): number;\n  /**\n   * Returns the number of `unit` between the given timestamps.\n   * @param a - the input timestamp (reference)\n   * @param b - the timestamp to subtract\n   * @param unit - the unit as string\n   */\n  diff(this: DateAdapter<T>, a: number, b: number, unit: TimeUnit): number;\n  /**\n   * Returns start of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   * @param [weekday] - the ISO day of the week with 1 being Monday\n   * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\n   */\n  startOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek', weekday?: number): number;\n  /**\n   * Returns end of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   */\n  endOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek'): number;\n}\n\nfunction abstract<T = void>(): T {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */\nclass DateAdapterBase implements DateAdapter {\n\n  /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */\n  static override<T extends AnyObject = AnyObject>(\n    members: Partial<Omit<DateAdapter<T>, 'options'>>\n  ) {\n    Object.assign(DateAdapterBase.prototype, members);\n  }\n\n  readonly options: AnyObject;\n\n  constructor(options: AnyObject) {\n    this.options = options || {};\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  init() {}\n\n  formats(): Record<string, string> {\n    return abstract();\n  }\n\n  parse(): number | null {\n    return abstract();\n  }\n\n  format(): string {\n    return abstract();\n  }\n\n  add(): number {\n    return abstract();\n  }\n\n  diff(): number {\n    return abstract();\n  }\n\n  startOf(): number {\n    return abstract();\n  }\n\n  endOf(): number {\n    return abstract();\n  }\n}\n\nexport default {\n  _date: DateAdapterBase\n};\n","import {_lookupByKey, _rlookupByKey} from '../helpers/helpers.collection.js';\nimport {getRelativePosition} from '../helpers/helpers.dom.js';\nimport {_angleBetween, getAngleFromPoint} from '../helpers/helpers.math.js';\nimport {_isPointInArea} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef {{axis?: string, intersect?: boolean, includeInvisible?: boolean}} InteractionOptions\n * @typedef {{datasetIndex: number, index: number, element: import('./core.element.js').default}} InteractionItem\n * @typedef { import('../types/index.js').Point } Point\n */\n\n/**\n * Helper function to do binary search when possible\n * @param {object} metaset - the dataset meta\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {number} value - the value to find\n * @param {boolean} [intersect] - should the element intersect\n * @returns {{lo:number, hi:number}} indices to search data array between\n */\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      // _sharedOptions indicates that each element has equal options -> equal proportions\n      // So we can do a ranged binary search based on the range of first element and\n      // be confident to get the full range of indices that can intersect with the value.\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  // Default to all elements, when binary search can not be used.\n  return {lo: 0, hi: data.length - 1};\n}\n\n/**\n * Helper function to select candidate elements for interaction\n * @param {Chart} chart - the chart\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {function} handler - the callback to execute for each visible item\n * @param {boolean} [intersect] - consider intersecting items\n */\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\n/**\n * Get a distance metric function for two points based on the\n * axis mode setting\n * @param {string} axis - the axis mode. x|y|xy|r\n */\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\n/**\n * Helper function to get the items that intersect the event position\n * @param {Chart} chart - the chart\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a radial chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a cartesian chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      // Can have multiple items at the same distance in which case we sort by size\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position considering all visible items in the chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n\n/**\n * Helper function to get the items matching along the given X or Y axis\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis to match\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod] && element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n\n  // If we want to trigger on an intersect and we don't have any items\n  // that intersect the position, return nothing\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\n\n/**\n * Contains interaction related functions\n * @namespace Chart.Interaction\n */\nexport default {\n  // Part of the public API to facilitate developers creating their own modes\n  evaluateInteractionItems,\n\n  // Helper function for different modes\n  modes: {\n    /**\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\n\t\t * @function Chart.Interaction.modes.index\n\t\t * @since v2.4.0\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      // Default axis for index mode is 'x' to match old behaviour\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n\n        // don't count items that are skipped (null data)\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n\n      return elements;\n    },\n\n    /**\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\n\t\t * @function Chart.Interaction.modes.dataset\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n\n      return items;\n    },\n\n    /**\n\t\t * Point mode returns all elements that hit test based on the event position\n\t\t * of the event\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * nearest mode returns the element closest to the point\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * x mode returns the elements that hit-test at the current x coordinate\n\t\t * @function Chart.Interaction.modes.x\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n\n    /**\n\t\t * y mode returns the elements that hit-test at the current y coordinate\n\t\t * @function Chart.Interaction.modes.y\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n","import {defined, each, isObject} from '../helpers/helpers.core.js';\nimport {toPadding} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n */\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\n\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\n\n/**\n * store dimensions used instead of available chartArea in fitBoxes\n **/\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\n\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n\n  // dynamically placed boxes size is not considered\n  if (!isObject(pos)) {\n    if (layout.size) {\n      // this layout was already counted for, lets first reduce old size\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n\n  // return booleans on the changes per direction\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\n\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n\n    // Dimensions changed and there were non full width boxes before this\n    // -> we have to refit those\n    refit |= same && refitBoxes.length;\n\n    // Chart area changed in the opposite direction\n    changed = changed || other;\n\n    if (!box.fullSize) { // fullSize boxes don't need to be re-fitted in any case\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\n\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\n\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\n/**\n * @interface LayoutItem\n * @typedef {object} LayoutItem\n * @prop {string} position - The position of the item in the chart layout. Possible values are\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\n * @prop {boolean} fullSize - if true, and the item is horizontal, then push vertical boxes down\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\n * @prop {function} draw - Draws the element\n * @prop {function} [getPadding] -  Returns an object with padding on the edges\n * @prop {number} width - Width of item. Must be valid after update()\n * @prop {number} height - Height of item. Must be valid after update()\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\n */\n\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n// It is this service's responsibility of carrying out that layout.\nexport default {\n\n  /**\n\t * Register a box to a chart.\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\n\t * @param {Chart} chart - the chart to use\n\t * @param {LayoutItem} item - the item to add to be laid out\n\t */\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    // initialize item with default values\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    // @ts-ignore\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n\n  /**\n\t * Remove a layoutItem from a chart\n\t * @param {Chart} chart - the chart to remove the box from\n\t * @param {LayoutItem} layoutItem - the item to remove from the layout\n\t */\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n\n  /**\n\t * Sets (or updates) options on the given `item`.\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\n\t * @param {LayoutItem} item - the item to configure with the given options\n\t * @param {object} options - the new item options.\n\t */\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n\n  /**\n\t * Fits boxes of the given chart into the given size by having each box measure itself\n\t * then running a fitting algorithm\n\t * @param {Chart} chart - the chart\n\t * @param {number} width - the width to fit into\n\t * @param {number} height - the height to fit into\n   * @param {number} minPadding - minimum padding required for each side of chart area\n\t */\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n\n    // Before any changes are made, notify boxes that an update is about to being\n    // This is used to clear any cached data (e.g. scale limits)\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n\n    // Essentially we now have any number of boxes on each of the 4 sides.\n    // Our canvas looks like the following.\n    // The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n    // B1 is the bottom axis\n    // There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n    // These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n    // an error will be thrown.\n    //\n    // |----------------------------------------------------|\n    // |                  T1 (Full Width)                   |\n    // |----------------------------------------------------|\n    // |    |    |                 T2                  |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    | C1 |                           | C2 |    |\n    // |    |    |----|                           |----|    |\n    // |    |    |                                     |    |\n    // | L1 | L2 |           ChartArea (C0)            | R1 |\n    // |    |    |                                     |    |\n    // |    |    |----|                           |----|    |\n    // |    |    | C3 |                           | C4 |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    |                 B1                  |    |\n    // |----------------------------------------------------|\n    // |                  B2 (Full Width)                   |\n    // |----------------------------------------------------|\n    //\n\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n\n    // First fit the fullSize boxes, to reduce probability of re-fitting.\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n\n    // Then fit vertical boxes\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n\n    // Then fit horizontal boxes\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      // if the area changed, re-fit vertical boxes\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n\n    handleMaxPadding(chartArea);\n\n    // Finally place the boxes to correct coordinates\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n\n    // Move to opposite side of chart\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n\n    // Finally update boxes in chartArea (radial scale for example)\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n","\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\n/**\n * Abstract class that allows abstracting platform dependencies away from the chart.\n */\nexport default class BasePlatform {\n  /**\n\t * Called at chart construction time, returns a context2d instance implementing\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\n\t * @param {HTMLCanvasElement} canvas - The canvas from which to acquire context (platform specific)\n\t * @param {number} [aspectRatio] - The chart options\n\t */\n  acquireContext(canvas, aspectRatio) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Called at chart destruction time, releases any resources associated to the context\n\t * previously returned by the acquireContext() method.\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\n\t * @returns {boolean} true if the method succeeded, else false\n\t */\n  releaseContext(context) { // eslint-disable-line no-unused-vars\n    return false;\n  }\n\n  /**\n\t * Registers the specified listener on the given chart.\n\t * @param {Chart} chart - Chart from which to listen for event\n\t * @param {string} type - The ({@link ChartEvent}) type to listen for\n\t * @param {function} listener - Receives a notification (an object that implements\n\t * the {@link ChartEvent} interface) when an event of the specified type occurs.\n\t */\n  addEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Removes the specified listener previously registered with addEventListener.\n\t * @param {Chart} chart - Chart from which to remove the listener\n\t * @param {string} type - The ({@link ChartEvent}) type to remove\n\t * @param {function} listener - The listener function to remove from the event target.\n\t */\n  removeEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @returns {number} the current devicePixelRatio of the device this platform is connected to.\n\t */\n  getDevicePixelRatio() {\n    return 1;\n  }\n\n  /**\n\t * Returns the maximum size in pixels of given canvas element.\n\t * @param {HTMLCanvasElement} element\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @returns {boolean} true if the canvas is attached to the platform, false if not.\n\t */\n  isAttached(canvas) { // eslint-disable-line no-unused-vars\n    return true;\n  }\n\n  /**\n   * Updates config with platform specific requirements\n   * @param {import('../core/core.config.js').default} config\n   */\n  updateConfig(config) { // eslint-disable-line no-unused-vars\n    // no-op\n  }\n}\n","/**\n * Platform fallback implementation (minimal).\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\n */\n\nimport BasePlatform from './platform.base.js';\n\n/**\n * Platform class for charts without access to the DOM or to many element properties\n * This platform is used by default for any chart passed an OffscreenCanvas.\n * @extends BasePlatform\n */\nexport default class BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n","/**\n * Chart.Platform implementation for targeting a web browser\n */\n\nimport BasePlatform from './platform.base.js';\nimport {_getParentNode, getRelativePosition, supportsEventListenerOptions, readUsedSize, getMaximumSize} from '../helpers/helpers.dom.js';\nimport {throttled} from '../helpers/helpers.extras.js';\nimport {isNullOrUndef} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nconst EXPANDO_KEY = '$chartjs';\n\n/**\n * DOM event types -> Chart.js event types.\n * Note: only events with different types are mapped.\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\n */\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nconst isNullOrEmpty = value => value === null || value === '';\n/**\n * Initializes the canvas style and render size without modifying the canvas display size,\n * since responsiveness is handled by the controller.resize() method. The config is used\n * to determine the aspect ratio to apply in case no explicit height has been specified.\n * @param {HTMLCanvasElement} canvas\n * @param {number} [aspectRatio]\n */\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n\n  // NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\n  // returns null or '' if no explicit value has been set to the canvas attribute.\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n\n  // Chart.js modifies some canvas values that we want to restore on destroy\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n\n  // Force canvas to display as block to avoid extra space caused by inline\n  // elements, which would interfere with the responsive resize process.\n  // https://github.com/chartjs/Chart.js/issues/2538\n  style.display = style.display || 'block';\n  // Include possible borders in the size\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      // If no explicit render height and style height, let's apply the aspect ratio,\n      // which one can be specified by the user but also by charts as default option\n      // (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n// https://github.com/chartjs/Chart.js/issues/4287\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\n\nfunction addListener(node, type, listener) {\n  if (node) {\n    node.addEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction removeListener(chart, type, listener) {\n  if (chart && chart.canvas) {\n    chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\n\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      // If the container size shrank during chart resize, let's assume\n      // scrollbar appeared. So we resize again with the scrollbar visible -\n      // effectively making chart smaller and the scrollbar hidden again.\n      // Because we are inside `throttled`, and currently `ticking`, scroll\n      // events are ignored during this whole 2 resize process.\n      // If we assumed wrong and something else happened, we are resizing\n      // twice in a frame (potential performance issue)\n      listener();\n    }\n  }, window);\n\n  // @ts-ignore until https://github.com/microsoft/TypeScript/issues/37861 implemented\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    // When its container's display is set to 'none' the callback will be called with a\n    // size of (0, 0), which will cause the chart to lose its original height, so skip\n    // resizing in such case.\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    // This case can occur if the chart is destroyed while waiting\n    // for the throttled function to occur. We prevent crashes by checking\n    // for a destroyed chart\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart);\n\n  addListener(canvas, type, proxy);\n\n  return proxy;\n}\n\n/**\n * Platform class for charts that can access the DOM and global window/document properties\n * @extends BasePlatform\n */\nexport default class DomPlatform extends BasePlatform {\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [aspectRatio]\n\t * @return {CanvasRenderingContext2D|null}\n\t */\n  acquireContext(canvas, aspectRatio) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n\n    // `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the canvas is\n    // inside an iframe or when running in a protected environment. We could guess the\n    // types from their toString() value but let's keep things flexible and assume it's\n    // a sufficient condition if the canvas has a context2D which has canvas as `canvas`.\n    // https://github.com/chartjs/Chart.js/issues/3887\n    // https://github.com/chartjs/Chart.js/issues/4102\n    // https://github.com/chartjs/Chart.js/issues/4152\n    if (context && context.canvas === canvas) {\n      // Load platform resources on first chart creation, to make it possible to\n      // import the library before setting platform options.\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n\n    return null;\n  }\n\n  /**\n\t * @param {CanvasRenderingContext2D} context\n\t */\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n\n    // The canvas render size might have been changed (and thus the state stack discarded),\n    // we can't use save() and restore() to restore the initial state. So make sure that at\n    // least the canvas context is reset to the default state by setting the canvas width.\n    // https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\n    // eslint-disable-next-line no-self-assign\n    canvas.width = canvas.width;\n\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n\n  /**\n\t *\n\t * @param {Chart} chart\n\t * @param {string} type\n\t * @param {function} listener\n\t */\n  addEventListener(chart, type, listener) {\n    // Can have only one listener per type, so make sure previous is removed\n    this.removeEventListener(chart, type);\n\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} type\n\t */\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n\n    if (!proxy) {\n      return;\n    }\n\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t */\n  isAttached(canvas) {\n    const container = canvas && _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n","import type {AnyObject} from '../types/basic.js';\nimport type {Point} from '../types/geometric.js';\nimport type {Animation} from '../types/animation.js';\nimport {isNumber} from '../helpers/helpers.math.js';\n\nexport default class Element<T = AnyObject, O = AnyObject> {\n\n  static defaults = {};\n  static defaultRoutes = undefined;\n\n  x: number;\n  y: number;\n  active = false;\n  options: O;\n  $animations: Record<keyof T, Animation>;\n\n  tooltipPosition(useFinalPosition: boolean): Point {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y} as Point;\n  }\n\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n\n  /**\n   * Gets the current or final value of each prop. Can return extra properties (whole object).\n   * @param props - properties to get\n   * @param [final] - get the final value (animation target)\n   */\n  getProps<P extends (keyof T)[]>(props: P, final?: boolean): Pick<T, P[number]>;\n  getProps<P extends string>(props: P[], final?: boolean): Partial<Record<P, unknown>>;\n  getProps(props: string[], final?: boolean): Partial<Record<string, unknown>> {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      // let's not create an object, if not needed\n      return this as Record<string, unknown>;\n    }\n    const ret: Record<string, unknown> = {};\n    props.forEach((prop) => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop as string];\n    });\n    return ret;\n  }\n}\n","import {isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\nimport {_factorize} from '../helpers/helpers.math.js';\n\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a subset of ticks to be plotted to avoid overlapping labels.\n * @param {import('./core.scale.js').default} scale\n * @param {Tick[]} ticks\n * @return {Tick[]}\n * @private\n */\nexport function autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const determinedMaxTicks = determineMaxTicks(scale);\n  const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n\n  // If there are too many major ticks to display them all\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\n/**\n * @param {number[]} majorIndices\n * @param {Tick[]} ticks\n * @param {number} ticksLimit\n */\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n\n  // If the major ticks are evenly spaced apart, place the minor ticks\n  // so that they divide the major ticks into even chunks\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\n\n/**\n * @param {Tick[]} ticks\n */\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number[]} majorIndices\n * @param {number} spacing\n */\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number} spacing\n * @param {number} [majorStart]\n * @param {number} [majorEnd]\n */\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\n\n/**\n * @param {number[]} arr\n */\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n","import Element from './core.element.js';\nimport {_alignPixel, _measureText, renderText, clipArea, unclipArea} from '../helpers/helpers.canvas.js';\nimport {callback as call, each, finiteOrDefault, isArray, isFinite, isNullOrUndef, isObject, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toDegrees, toRadians, _int16Range, _limitValue, HALF_PI} from '../helpers/helpers.math.js';\nimport {_alignStartEnd, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {createContext, toFont, toPadding, _addGrace} from '../helpers/helpers.options.js';\nimport {autoSkip} from './core.scale.autoskip.js';\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit) => Math.min(maxTicksLimit || ticksLength, ticksLength);\n\n/**\n * @typedef { import('../types/index.js').Chart } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a new array containing numItems from arr\n * @param {any[]} arr\n * @param {number} numItems\n */\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @param {boolean} offsetGridLines\n */\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n\n    // Return undefined if the pixel is out of the range\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\n\n/**\n * @param {object} caches\n * @param {number} length\n */\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\n/**\n * @param {object} options\n */\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\n/**\n * @param {object} options\n */\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n\n  return (lines * font.lineHeight) + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  /** @type {CanvasTextAlign} */\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\n\nexport default class Scale extends Element {\n\n  // eslint-disable-next-line max-statements\n  constructor(cfg) {\n    super();\n\n    /** @type {string} */\n    this.id = cfg.id;\n    /** @type {string} */\n    this.type = cfg.type;\n    /** @type {any} */\n    this.options = undefined;\n    /** @type {CanvasRenderingContext2D} */\n    this.ctx = cfg.ctx;\n    /** @type {Chart} */\n    this.chart = cfg.chart;\n\n    // implements box\n    /** @type {number} */\n    this.top = undefined;\n    /** @type {number} */\n    this.bottom = undefined;\n    /** @type {number} */\n    this.left = undefined;\n    /** @type {number} */\n    this.right = undefined;\n    /** @type {number} */\n    this.width = undefined;\n    /** @type {number} */\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    /** @type {number} */\n    this.maxWidth = undefined;\n    /** @type {number} */\n    this.maxHeight = undefined;\n    /** @type {number} */\n    this.paddingTop = undefined;\n    /** @type {number} */\n    this.paddingBottom = undefined;\n    /** @type {number} */\n    this.paddingLeft = undefined;\n    /** @type {number} */\n    this.paddingRight = undefined;\n\n    // scale-specific properties\n    /** @type {string=} */\n    this.axis = undefined;\n    /** @type {number=} */\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    /** @type {Tick[]} */\n    this.ticks = [];\n    /** @type {object[]|null} */\n    this._gridLineItems = null;\n    /** @type {object[]|null} */\n    this._labelItems = null;\n    /** @type {object|null} */\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    /** @type {number} */\n    this._startPixel = undefined;\n    /** @type {number} */\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @param {any} options\n\t * @since 3.0\n\t */\n  init(options) {\n    this.options = options.setContext(this.getContext());\n\n    this.axis = options.axis;\n\n    // parse min/max value, so we can properly determine min/max for other scales\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n\n  /**\n\t * Parse a supported input value to internal representation.\n\t * @param {*} raw\n\t * @param {number} [index]\n\t * @since 3.0\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    return raw;\n  }\n\n  /**\n\t * @return {{min: number, max: number, minDefined: boolean, maxDefined: boolean}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isFinite(_userMin),\n      maxDefined: isFinite(_userMax)\n    };\n  }\n\n  /**\n\t * @param {boolean} canStack\n\t * @return {{min: number, max: number}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n\n    // Make sure min <= max when only min or max is defined by user and the data is outside that range\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n\n  /**\n\t * Get the padding needed for the scale\n\t * @return {{top: number, left: number, bottom: number, right: number}} the necessary padding\n\t * @private\n\t */\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n\n  /**\n\t * Returns the scale tick objects\n\t * @return {Tick[]}\n\t * @since 2.7\n\t */\n  getTicks() {\n    return this.ticks;\n  }\n\n  /**\n\t * @return {string[]}\n\t */\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n\n  /**\n   * @return {import('../types.js').LabelItem[]}\n   */\n  getLabelItems(chartArea = this.chart.chartArea) {\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    return items;\n  }\n\n  // When a new layout is created, reset the data limits cache\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n\n  // These methods are ordered by lifecycle. Utilities then follow.\n  // Any function defined here is inherited by all scale types.\n  // Any function can be extended by the scale type\n\n  beforeUpdate() {\n    call(this.options.beforeUpdate, [this]);\n  }\n\n  /**\n\t * @param {number} maxWidth - the max width in pixels\n\t * @param {number} maxHeight - the max height in pixels\n\t * @param {{top: number, left: number, bottom: number, right: number}} margins - the space between the edge of the other scales and edge of the chart\n\t *   This space comes from two sources:\n\t *     - padding - space that's required to show the labels at the edges of the scale\n\t *     - thickness of scales or legends in another orientation\n\t */\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n\n    // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n    this.beforeUpdate();\n\n    // Absorb the master measurements\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n\n    // Dimensions\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n\n    // Data min/max\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n\n    this.beforeBuildTicks();\n\n    this.ticks = this.buildTicks() || [];\n\n    // Allow modification of ticks in callback.\n    this.afterBuildTicks();\n\n    // Compute tick rotation and fit using a sampled subset of labels\n    // We generally don't need to compute the size of every single label for determining scale size\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n\n    // configure is called twice, once here, once from core.controller.updateLayout.\n    // Here we haven't been positioned yet, but dimensions are correct.\n    // Variables set in configure are needed for calculateLabelRotation, and\n    // it's ok that coordinates are not correct there, only dimensions matter.\n    this.configure();\n\n    // Tick Rotation\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation(); // Preconditions: number of ticks and sizes of largest labels must be calculated beforehand\n    this.afterCalculateLabelRotation();\n\n    // Auto-skip\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n\n    if (samplingEnabled) {\n      // Generate labels using all non-skipped ticks\n      this._convertTicksToLabels(this.ticks);\n    }\n\n    this.beforeFit();\n    this.fit(); // Preconditions: label rotation and label sizes must be calculated beforehand\n    this.afterFit();\n\n    // IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\n\n    this.afterUpdate();\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      // by default vertical scales are from bottom to top, so pixels are reversed\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n\n  afterUpdate() {\n    call(this.options.afterUpdate, [this]);\n  }\n\n  //\n\n  beforeSetDimensions() {\n    call(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    if (this.isHorizontal()) {\n      // Reset position before calculating rotation\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n\n      // Reset position before calculating rotation\n      this.top = 0;\n      this.bottom = this.height;\n    }\n\n    // Reset padding\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    call(this.options.afterSetDimensions, [this]);\n  }\n\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    call(this.options[name], [this]);\n  }\n\n  // Data limits\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n\n  //\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  /**\n\t * @return {object[]} the ticks\n\t */\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n\n  beforeTickToLabelConversion() {\n    call(this.options.beforeTickToLabelConversion, [this]);\n  }\n  /**\n\t * Convert ticks to label strings\n\t * @param {Tick[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = call(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    call(this.options.afterTickToLabelConversion, [this]);\n  }\n\n  //\n\n  beforeCalculateLabelRotation() {\n    call(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n\n    // Estimate the width of each grid based on the canvas width, the maximum\n    // label width and the number of tick intervals\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n    // Allow 3 pixels x2 padding either side for label readability\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    call(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n\n  //\n\n  beforeFit() {\n    call(this.options.beforeFit, [this]);\n  }\n  fit() {\n    // Reset\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight; // fill all the height\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n\n      // Don't bother fitting the ticks if we are not showing the labels\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n\n        if (isHorizontal) {\n        // A horizontal axis is more constrained by the height.\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n        // A vertical axis is more constrained by the width. Labels are the\n        // dominant factor here, so get that length first and account for padding\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n\n    this._handleMargins();\n\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n\n      // Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\n      // which means that the right padding is dominated by the font height\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n\n      // Adjust padding taking into account changes in offsets\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n\n  /**\n\t * Handle margins and padding interactions\n\t * @private\n\t */\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n\n  afterFit() {\n    call(this.options.afterFit, [this]);\n  }\n\n  // Shared Methods\n  /**\n\t * @return {boolean}\n\t */\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  /**\n\t * @return {boolean}\n\t */\n  isFullSize() {\n    return this.options.fullSize;\n  }\n\n  /**\n\t * @param {Tick[]} ticks\n\t * @private\n\t */\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n\n    this.generateTickLabels(ticks);\n\n    // Ticks should be skipped when callback returns null or undef, so lets remove those.\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n\n    this.afterTickToLabelConversion();\n  }\n\n  /**\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n    }\n\n    return labelSizes;\n  }\n\n  /**\n\t * Returns {width, height, offset} objects for the first, last, widest, highest tick\n\t * labels where offset indicates the anchor point offset from the top in pixels.\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _computeLabelSizes(ticks, length, maxTicksLimit) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n    for (i = 0; i < length; i += increment) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      // Undefined labels and arrays should not be measured\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        // if it is an array let's measure each element\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = /** @type {string} */ (label[j]);\n          // Undefined labels and arrays should not be measured\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n\n  /**\n\t * Used to get the label to display in the tooltip for the given value\n\t * @param {*} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value;\n  }\n\n  /**\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {*} value\n\t * @param {number} [index]\n\t * @return {number}\n\t */\n  getPixelForValue(value, index) { // eslint-disable-line no-unused-vars\n    return NaN;\n  }\n\n  /**\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} pixel\n\t * @return {*}\n\t */\n  getValueForPixel(pixel) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Returns the location of the tick at the given index\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} index\n\t * @return {number}\n\t */\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  /**\n\t * Utility for getting the pixel location of a percentage of scale\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} decimal\n\t * @return {number}\n\t */\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n\n  /**\n\t * Returns the pixel for the minimum chart value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @return {number}\n\t */\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n\n  /**\n\t * @return {number}\n\t */\n  getBaseValue() {\n    const {min, max} = this;\n\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index) {\n    const ticks = this.ticks || [];\n\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n\n  /**\n\t * @return {number}\n\t * @private\n\t */\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n\n    // Calculate space needed by label in axis direction.\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n\n    // Calculate space needed for 1 tick in axis direction.\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n\n  /**\n\t * @return {boolean}\n\t * @private\n\t */\n  _isVisible() {\n    const display = this.options.display;\n\n    if (display !== 'auto') {\n      return !!display;\n    }\n\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position, border} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = borderOpts.display ? borderOpts.width : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const context = this.getContext(i);\n      const optsAtIndex = grid.setContext(context);\n      const optsAtIndexBorder = border.setContext(context);\n\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = optsAtIndexBorder.dash || [];\n      const borderDashOffset = optsAtIndexBorder.dashOffset;\n\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n\n      lineValue = getPixelForGridLine(this, i, offset);\n\n      // Skip if the pixel is out of the range\n      if (lineValue === undefined) {\n        continue;\n      }\n\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n\n    return items;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n\n      if (isHorizontal) {\n        x = pixel;\n\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          // eslint-disable-next-line no-lonely-if\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n        if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n          x += (lineHeight / 2) * Math.sin(rotation);\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n\n      let backdrop;\n\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n\n        let top = textOffset - labelPadding.top;\n        let left = 0 - labelPadding.left;\n\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        default:\n          break;\n        }\n\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        case 'inner':\n          if (i === ilen - 1) {\n            left -= width;\n          } else if (i > 0) {\n            left -= width / 2;\n          }\n          break;\n        default:\n          break;\n        }\n\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n\n          color: optsAtIndex.backdropColor,\n        };\n      }\n\n      items.push({\n        label,\n        font,\n        textOffset,\n        options: {\n          rotation,\n          color,\n          strokeColor,\n          strokeWidth,\n          textAlign: tickTextAlign,\n          textBaseline,\n          translation: [x, y],\n          backdrop,\n        }\n      });\n    }\n\n    return items;\n  }\n\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n\n    let align = 'center';\n\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n\n    return align;\n  }\n\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n\n    let textAlign;\n    let x;\n\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n\n    return {textAlign, x};\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n\n    const chart = this.chart;\n    const position = this.options.position;\n\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n\n  /**\n   * @protected\n   */\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {\n    const {chart, ctx, options: {border, grid}} = this;\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = border.display ? borderOpts.width : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.width;\n    ctx.strokeStyle = borderOpts.color;\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n\n    if (!optionTicks.display) {\n      return;\n    }\n\n    const ctx = this.ctx;\n\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n\n    const items = this.getLabelItems(chartArea);\n    for (const item of items) {\n      const renderTextOptions = item.options;\n      const tickFont = item.font;\n      const label = item.label;\n      const y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n    }\n\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n\n    if (!title.display) {\n      return;\n    }\n\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n\n  /**\n\t * @return {object[]}\n\t * @private\n\t */\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    const bz = valueOrDefault(opts.border && opts.border.z, 0);\n\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      // backward compatibility: draw has been overridden by custom scale\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: bz,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n\n  /**\n\t * Returns visible dataset metas that are attached to this scale\n\t * @param {string} [type] - if specified, also filter by dataset type\n\t * @return {object[]}\n\t */\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n\n  /**\n\t * @param {number} index\n\t * @return {object}\n\t * @protected\n \t */\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n\n  /**\n   * @protected\n   */\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n","import {merge} from '../helpers/index.js';\nimport defaults, {overrides} from './core.defaults.js';\n\n/**\n * @typedef {{id: string, defaults: any, overrides?: any, defaultRoutes: any}} IChartComponent\n */\n\nexport default class TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t * @returns {string} The scope where items defaults were registered to.\n\t */\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n\n    if (isIChartComponent(proto)) {\n      // Make sure the parent is registered and note the scope where its defaults are.\n      parentScope = this.register(proto);\n    }\n\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n\n    if (id in items) {\n      // already registered\n      return scope;\n    }\n\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n\n    return scope;\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object?}\n\t */\n  get(id) {\n    return this.items[id];\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t */\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n\n    if (id in items) {\n      delete items[id];\n    }\n\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\n\nfunction registerDefaults(item, scope, parentScope) {\n  // Inherit the parent's defaults and keep existing defaults\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n","import DatasetController from './core.datasetController.js';\nimport Element from './core.element.js';\nimport Scale from './core.scale.js';\nimport TypedRegistry from './core.typedRegistry.js';\nimport {each, callback as call, _capitalize} from '../helpers/helpers.core.js';\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    // Order is important, Scale has Element in prototype chain,\n    // so Scales must be before Elements. Plugins are a fallback, so not listed here.\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  add(...args) {\n    this._each('register', args);\n  }\n\n  remove(...args) {\n    this._each('unregister', args);\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof DatasetController}\n\t */\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Element}\n\t */\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object}\n\t */\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Scale}\n\t */\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n\n  /**\n\t * @private\n\t */\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        // Handle loopable args\n        // Use case:\n        //  import * as plugins from './plugins.js';\n        //  Chart.register(plugins);\n        each(arg, item => {\n          // If there are mixed types in the loopable, make sure those are\n          // registered in correct registry\n          // Use case: (treemap exporting controller, elements etc)\n          //  import * as treemap from 'chartjs-chart-treemap.js';\n          //  Chart.register(treemap);\n\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    call(component['before' + camelMethod], [], component); // beforeRegister / beforeUnregister\n    registry[method](component);\n    call(component['after' + camelMethod], [], component); // afterRegister / afterUnregister\n  }\n\n  /**\n\t * @private\n\t */\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    // plugins is the fallback registry\n    return this.plugins;\n  }\n\n  /**\n\t * @private\n\t */\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Registry();\n","import registry from './core.registry.js';\nimport {callback as callCallback, isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../plugins/plugin.tooltip.js').default } Tooltip\n */\n\n/**\n * @callback filterCallback\n * @param {{plugin: object, options: object}} value\n * @param {number} [index]\n * @param {array} [array]\n * @param {object} [thisArg]\n * @return {boolean}\n */\n\n\nexport default class PluginService {\n  constructor() {\n    this._init = [];\n  }\n\n  /**\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {object} [args] - Extra arguments to apply to the hook call.\n   * @param {filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callCallback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  invalidate() {\n    // When plugins are registered, there is the possibility of a double\n    // invalidate situation. In this case, we only want to invalidate once.\n    // If we invalidate multiple times, the `_oldCache` is lost and all of the\n    // plugins are restarted without being correctly stopped.\n    // See https://github.com/chartjs/Chart.js/issues/8147\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n\n    const descriptors = this._cache = this._createDescriptors(chart);\n\n    this._notifyStateChanges(chart);\n\n    return descriptors;\n  }\n\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    // options === false => all plugins are disabled\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\n\n/**\n * @param {import('./core.config.js').default} config\n */\nfunction allPlugins(config) {\n  const localIds = {};\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n      localIds[plugin.id] = true;\n    }\n  }\n\n  return {plugins, localIds};\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\n\nfunction createDescriptors(chart, {plugins, localIds}, options, all) {\n  const result = [];\n  const context = chart.getContext();\n\n  for (const plugin of plugins) {\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, {plugin, local}, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  if (local && plugin.defaults) {\n    // make sure plugin defaults are in scopes for local (not registered) plugins\n    scopes.push(plugin.defaults);\n  }\n  return config.createResolver(scopes, context, [''], {\n    // These are just defaults that plugins can override\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n","import defaults, {overrides, descriptors} from './core.defaults.js';\nimport {mergeIf, resolveObjectKey, isArray, isFunction, valueOrDefault, isObject} from '../helpers/helpers.core.js';\nimport {_attachContext, _createResolver, _descriptors} from '../helpers/helpers.config.js';\n\nexport function getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction idMatchesAxis(id) {\n  if (id === 'x' || id === 'y' || id === 'r') {\n    return id;\n  }\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nexport function determineAxis(id, ...scaleOptions) {\n  if (idMatchesAxis(id)) {\n    return id;\n  }\n  for (const opts of scaleOptions) {\n    const axis = opts.axis\n      || axisFromPosition(opts.position)\n      || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n    if (axis) {\n      return axis;\n    }\n  }\n  throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\n\nfunction getAxisFromDataset(id, axis, dataset) {\n  if (dataset[axis + 'AxisID'] === id) {\n    return {axis};\n  }\n}\n\nfunction retrieveAxisFromDatasets(id, config) {\n  if (config.data && config.data.datasets) {\n    const boundDs = config.data.datasets.filter((d) => d.xAxisID === id || d.yAxisID === id);\n    if (boundDs.length) {\n      return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n    }\n  }\n  return {};\n}\n\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const scales = Object.create(null);\n\n  // First figure out first scale id's per axis.\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n\n  // Then merge dataset defaults to scale configs\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n\n  // apply scale defaults, if not overridden by dataset defaults\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n\n  return scales;\n}\n\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n\n  initOptions(config);\n\n  return config;\n}\n\nconst keyCache = new Map();\nconst keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\n\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nexport default class Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  get platform() {\n    return this._config.platform;\n  }\n\n  get type() {\n    return this._config.type;\n  }\n\n  set type(type) {\n    this._config.type = type;\n  }\n\n  get data() {\n    return this._config.data;\n  }\n\n  set data(data) {\n    this._config.data = initData(data);\n  }\n\n  get options() {\n    return this._config.options;\n  }\n\n  set options(options) {\n    this._config.options = options;\n  }\n\n  get plugins() {\n    return this._config.plugins;\n  }\n\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @return {string[][]}\n   */\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset animation options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @param {string} transition\n   * @return {string[][]}\n   */\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        // The following are used for looking up the `animations` and `animation` keys\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving element options that belong\n   * to an dataset. These keys do not include the dataset itself, because it\n   * is not under options.\n   * @param {string} datasetType\n   * @param {string} elementType\n   * @return {string[][]}\n   */\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving plugin options.\n   * @param {{id: string, additionalOptionScopes?: string[]}} plugin\n   * @return {string[][]}\n   */\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n\n  /**\n   * @private\n   */\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n\n  /**\n   * Resolves the objects from options and defaults for option value resolution.\n   * @param {object} mainScope - The main scope object for options\n   * @param {string[][]} keyLists - The arrays of keys in resolution order\n   * @param {boolean} [resetCache] - reset the cache for this mainScope\n   */\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n\n    const scopes = new Set();\n\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n\n  /**\n   * Returns the option scopes for resolving chart options\n   * @return {object[]}\n   */\n  chartOptionScopes() {\n    const {options, type} = this;\n\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {}, // https://github.com/chartjs/Chart.js/issues/8531\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {string[]} names\n   * @param {function|object} context\n   * @param {string[]} [prefixes]\n   * @return {object}\n   */\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      // subResolver is passed to scriptable options. It should not resolve to hover options.\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {object} [context]\n   * @param {string[]} [prefixes]\n   * @param {{scriptable: boolean, indexable: boolean, allKeys?: boolean}} [descriptorDefaults]\n   */\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\n\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).some((key) => isFunction(value[key]));\n\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n","import animator from './core.animator.js';\nimport defaults, {overrides} from './core.defaults.js';\nimport Interaction from './core.interaction.js';\nimport layouts from './core.layouts.js';\nimport {_detectPlatform} from '../platform/index.js';\nimport PluginService from './core.plugins.js';\nimport registry from './core.registry.js';\nimport Config, {determineAxis, getIndexAxis} from './core.config.js';\nimport {retinaScale, _isDomSupported} from '../helpers/helpers.dom.js';\nimport {each, callback as callCallback, uid, valueOrDefault, _elementsEqual, isNullOrUndef, setsEqual, defined, isFunction, _isClickEvent} from '../helpers/helpers.core.js';\nimport {clearCanvas, clipArea, createContext, unclipArea, _isPointInArea} from '../helpers/index.js';\n// @ts-ignore\nimport {version} from '../../package.json';\nimport {debounce} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').Point } Point\n */\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\n\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n\n  chart.notifyPlugins('afterRender');\n  callCallback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callCallback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\n/**\n * Chart.js can take a string id of a canvas element, a 2d context, or a canvas element itself.\n * Attempt to unwrap the item passed into the chart constructor so that it is a canvas element (if possible).\n */\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    // Support for array based queries (such as jQuery)\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    // Support for any object associated to a canvas (including a context2d)\n    item = item.canvas;\n  }\n  return item;\n}\n\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\n\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\n\n/**\n * @param {ChartEvent} e\n * @param {ChartEvent|null} lastEvent\n * @param {boolean} inChartArea\n * @param {boolean} isClick\n * @returns {ChartEvent|null}\n */\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\n\nfunction getSizeForArea(scale, chartArea, field) {\n  return scale.options.clip ? scale[field] : chartArea[field];\n}\n\nfunction getDatasetArea(meta, chartArea) {\n  const {xScale, yScale} = meta;\n  if (xScale && yScale) {\n    return {\n      left: getSizeForArea(xScale, chartArea, 'left'),\n      right: getSizeForArea(xScale, chartArea, 'right'),\n      top: getSizeForArea(yScale, chartArea, 'top'),\n      bottom: getSizeForArea(yScale, chartArea, 'bottom')\n    };\n  }\n  return chartArea;\n}\n\nclass Chart {\n\n  static defaults = defaults;\n  static instances = instances;\n  static overrides = overrides;\n  static registry = registry;\n  static version = version;\n  static getChart = getChart;\n\n  static register(...items) {\n    registry.add(...items);\n    invalidatePlugins();\n  }\n\n  static unregister(...items) {\n    registry.remove(...items);\n    invalidatePlugins();\n  }\n\n  // eslint-disable-next-line max-statements\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.'\n      );\n    }\n\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    // Store the previously used aspect ratio to determine if a resize\n    // is needed during updates. Do this after _options is set since\n    // aspectRatio uses a getter\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    /** @type {?{attach?: function, detach?: function, resize?: function}} */\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n\n    // Add the chart instance to the global namespace\n    instances[this.id] = this;\n\n    if (!context || !canvas) {\n      // The given item is not a compatible context2d element, let's return before finalizing\n      // the chart initialization but after setting basic chart / controller properties that\n      // can help to figure out that the chart is not valid (e.g chart.canvas !== null);\n      // https://github.com/chartjs/Chart.js/issues/2807\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      // If aspectRatio is defined in options, use that.\n      return aspectRatio;\n    }\n\n    if (maintainAspectRatio && _aspectRatio) {\n      // If maintainAspectRatio is truthly and we had previously determined _aspectRatio, use that\n      return _aspectRatio;\n    }\n\n    // Calculate\n    return height ? width / height : null;\n  }\n\n  get data() {\n    return this.config.data;\n  }\n\n  set data(data) {\n    this.config.data = data;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(options) {\n    this.config.options = options;\n  }\n\n  get registry() {\n    return registry;\n  }\n\n  /**\n\t * @private\n\t */\n  _initialize() {\n    // Before init plugin notification\n    this.notifyPlugins('beforeInit');\n\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n\n    this.bindEvents();\n\n    // After init plugin notification\n    this.notifyPlugins('afterInit');\n\n    return this;\n  }\n\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n\n  /**\n\t * Resize the chart to its container or to explicit dimensions.\n\t * @param {number} [width]\n\t * @param {number} [height]\n\t */\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n\n    this.notifyPlugins('resize', {size: newSize});\n\n    callCallback(options.onResize, [this, newSize], this);\n\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        // The resize update is delayed, only draw without updating.\n        this.render();\n      }\n    }\n  }\n\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n\n  /**\n\t * Builds a map of scale ID to scale object for future lookup.\n\t */\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n\n      scale.init(scaleOptions, options);\n    });\n    // clear up discarded scales\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n\n  /**\n\t * @private\n\t */\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n\n    this._removeUnreferencedMetasets();\n\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n\n    this._updateMetasets();\n    return newControllers;\n  }\n\n  /**\n\t * Reset the elements of all datasets\n\t * @private\n\t */\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n\n  /**\n\t* Resets the chart back to its state before the initial animation\n\t*/\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n\n  update(mode) {\n    const config = this.config;\n\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n\n    // plugins options references might have change, let's invalidate the cache\n    // https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\n    this._plugins.invalidate();\n\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    // Make sure dataset controllers are updated and new controllers are reset\n    const newControllers = this.buildOrUpdateControllers();\n\n    this.notifyPlugins('beforeElementsUpdate');\n\n    // Make sure all dataset controllers have correct meta data counts\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      // New controllers will be reset after the layout pass, so we only want to modify\n      // elements added to new datasets\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n\n    // Only reset the controllers if we have animations\n    if (!animsDisabled) {\n      // Can only reset the new controllers after the scales have been updated\n      // Reset is done to get the starting point for the initial animation\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n\n    this._updateDatasets(mode);\n\n    // Do this before render so that any plugins that need final scale updates can use it\n    this.notifyPlugins('afterUpdate', {mode});\n\n    this._layers.sort(compare2Level('z', '_idx'));\n\n    // Replay last event from before update, or set hover styles on active elements\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n\n    this.render();\n  }\n\n  /**\n   * @private\n   */\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n\n  /**\n   * @private\n   */\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      // The configured events have changed. Rebind.\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n\n  /**\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\n\t * hook, in which case, plugins will not be called on `afterLayout`.\n\t * @private\n\t */\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n\n    layouts.update(this, this.width, this.height, minPadding);\n\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        // Skip drawing and configuring chartArea boxes when chartArea is zero or negative\n        return;\n      }\n\n      // configure is called twice, once in core.scale.update and once here.\n      // Here the boxes are fully updated and at their final positions.\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n\n    this.notifyPlugins('afterLayout');\n  }\n\n  /**\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\n\t * @private\n\t */\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n\n  /**\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\n\t * @private\n\t */\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n\n    meta.controller._update(mode);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      // Unset pending resize request now to avoid possible recursion within _resize\n      this._resizeBeforeDraw = null;\n      this._resize(width, height);\n    }\n    this.clear();\n\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    // Because of plugin hooks (before/afterDatasetsDraw), datasets can't\n    // currently be part of layers. Instead, we draw\n    // layers <= 0 before(default, backward compat), and the rest after\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this._drawDatasets();\n\n    // Rest of layers\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this.notifyPlugins('afterDraw');\n  }\n\n  /**\n\t * @private\n\t */\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n\t * Gets the visible dataset metas in drawing order\n\t * @return {object[]}\n\t */\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n\n  /**\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\n\t * @private\n\t */\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n\n  /**\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\n\t * @private\n\t */\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = getDatasetArea(meta, this.chartArea);\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n\n    meta.controller.draw();\n\n    if (useClip) {\n      unclipArea(ctx);\n    }\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n\n  /**\n   * Checks whether the given point is in the chart area.\n   * @param {Point} point - in relative coordinates (see, e.g., getRelativePosition)\n   * @returns {boolean}\n   */\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n\n    return [];\n  }\n\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\t\t\t// See isDatasetVisible() comment\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n\n    return meta;\n  }\n\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n\n    const meta = this.getDatasetMeta(datasetIndex);\n\n    // meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n    // the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n\n  /**\n\t * @private\n\t */\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      // Animate visible state, so hide animation can be seen. This could be handled better if update / updateDataset returned a Promise.\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n\n  /**\n\t * @private\n\t */\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n\n    this._stop();\n    this.config.clearCache();\n\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n\n    delete instances[this.id];\n\n    this.notifyPlugins('afterDestroy');\n  }\n\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n\n  /**\n\t * @private\n\t */\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n\n  /**\n   * @private\n   */\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n\n    each(this.options.events, (type) => _add(type, listener));\n  }\n\n  /**\n   * @private\n   */\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n\n    let detached; // eslint-disable-line prefer-const\n    const attached = () => {\n      _remove('attach', attached);\n\n      this.attached = true;\n      this.resize();\n\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n\n    detached = () => {\n      this.attached = false;\n\n      _remove('resize', listener);\n\n      // Stop animating and remove metasets, so when re-attached, the animations start from beginning.\n      this._stop();\n      this._resize(0, 0);\n\n      _add('attach', attached);\n    };\n\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n\n  /**\n\t * Get active (hovered) elements\n\t * @returns array\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active (hovered) elements\n\t * @param {array} activeElements New active data points\n\t */\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n\n    if (changed) {\n      this._active = active;\n      // Make sure we don't use the previous mouse event to override the active elements in update.\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n\n  /**\n\t * Calls enabled plugins on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {Object} [args] - Extra arguments to apply to the hook call.\n   * @param {import('./core.plugins.js').filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n\n  /**\n   * Check if a plugin with the specific ID is registered and enabled\n   * @param {string} pluginId - The ID of the plugin of which to check if it is enabled\n   * @returns {boolean}\n   */\n  isPluginEnabled(pluginId) {\n    return this._plugins._cache.filter(p => p.plugin.id === pluginId).length === 1;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n\n    if (changed || args.changed) {\n      this.render();\n    }\n\n    return this;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e the event to handle\n\t * @param {boolean} [replay] - true if the event was replayed by `update`\n   * @param {boolean} [inChartArea] - true if the event is inside chartArea\n\t * @return {boolean} true if the chart needs to re-render\n\t * @private\n\t */\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n\n    // If the event is replayed from `update`, we should evaluate with the final positions.\n    //\n    // The `replay`:\n    // It's the last event (excluding click) that has occurred before `update`.\n    // So mouse has not moved. It's also over the chart, because there is a `replay`.\n    //\n    // The why:\n    // If animations are active, the elements haven't moved yet compared to state before update.\n    // But if they will, we are activating the elements that would be active, if this check\n    // was done after the animations have completed. => \"final positions\".\n    // If there is no animations, the \"final\" and \"current\" positions are equal.\n    // This is done so we do not have to evaluate the active elements each animation frame\n    // - it would be expensive.\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n\n    if (inChartArea) {\n      // Set _lastEvent to null while we are processing the event handlers.\n      // This prevents recursion if the handler calls chart.update()\n      this._lastEvent = null;\n\n      // Invoke onHover hook\n      callCallback(options.onHover, [e, active, this], this);\n\n      if (isClick) {\n        callCallback(options.onClick, [e, active, this], this);\n      }\n    }\n\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n\n    this._lastEvent = lastEvent;\n\n    return changed;\n  }\n\n  /**\n   * @param {ChartEvent} e - The event\n   * @param {import('../types/index.js').ActiveElement[]} lastActive - Previously active elements\n   * @param {boolean} inChartArea - Is the event inside chartArea\n   * @param {boolean} useFinalPosition - Should the evaluation be done with current or final (after animation) element positions\n   * @returns {import('../types/index.js').ActiveElement[]} - The active elements\n   * @pravate\n   */\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      return lastActive;\n    }\n\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\n\n// @ts-ignore\nfunction invalidatePlugins() {\n  return each(Chart.instances, (chart) => chart._plugins.invalidate());\n}\n\nexport default Chart;\n","import {_isDomSupported} from '../helpers/index.js';\nimport BasePlatform from './platform.base.js';\nimport BasicPlatform from './platform.basic.js';\nimport DomPlatform from './platform.dom.js';\n\nexport function _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nexport {BasePlatform, BasicPlatform, DomPlatform};\n","import Element from '../core/core.element.js';\nimport {_angleBetween, getAngleFromPoint, TAU, HALF_PI, valueOrDefault} from '../helpers/index.js';\nimport {PI, _isBetween, _limitValue} from '../helpers/helpers.math.js';\nimport {_readValueToProps} from '../helpers/helpers.options.js';\nimport type {ArcOptions, Point} from '../types/index.js';\n\n\nfunction clipArc(ctx: CanvasRenderingContext2D, element: ArcElement, endAngle: number) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n\n  // Draw an inner border by clipping the arc and drawing a double-width border\n  // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\n\n/**\n * Parse border radius from the provided options\n */\nfunction parseBorderRadius(arc: ArcElement, innerRadius: number, outerRadius: number, angleDelta: number) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n\n  // Outer limits are complicated. We want to compute the available angular distance at\n  // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n  // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n  //\n  // If the borderRadius is large, that value can become negative.\n  // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n  // we know that the thickness term will dominate and compute the limits at that point\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\n\n/**\n * Convert (r, ) to (x, y)\n */\nfunction rThetaToXY(r: number, theta: number, x: number, y: number) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\n\n\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */\nfunction pathArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  end: number,\n  circular: boolean,\n) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n\n  let spacingOffset = 0;\n  const alpha = end - start;\n\n  if (spacing) {\n    // When spacing is present, it is the same for all items\n    // So we adjust the start and end angle of the arc such that\n    // the distance is the same as it would be without the spacing\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius(element, innerRadius, outerRadius, endAngle - startAngle);\n\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n\n  ctx.beginPath();\n\n  if (circular) {\n    // The first arc segments from point 1 to point a to point 2\n    const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n    ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n\n    // The corner segment from point 2 to point 3\n    if (outerEnd > 0) {\n      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n    }\n\n    // The line from point 3 to point 4\n    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n    ctx.lineTo(p4.x, p4.y);\n\n    // The corner segment from point 4 to point 5\n    if (innerEnd > 0) {\n      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n    }\n\n    // The inner arc from point 5 to point b to point 6\n    const innerMidAdjustedAngle = ((endAngle - (innerEnd / innerRadius)) + (startAngle + (innerStart / innerRadius))) / 2;\n    ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), innerMidAdjustedAngle, true);\n    ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + (innerStart / innerRadius), true);\n\n    // The corner segment from point 6 to point 7\n    if (innerStart > 0) {\n      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n    }\n\n    // The line from point 7 to point 8\n    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n    ctx.lineTo(p8.x, p8.y);\n\n    // The corner segment from point 8 to point 1\n    if (outerStart > 0) {\n      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n    }\n  } else {\n    ctx.moveTo(x, y);\n\n    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerStartX, outerStartY);\n\n    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerEndX, outerEndY);\n  }\n\n  ctx.closePath();\n}\n\nfunction drawArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.fill();\n  return endAngle;\n}\n\nfunction drawBorder(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference, options} = element;\n  const {borderWidth, borderJoinStyle, borderDash, borderDashOffset} = options;\n  const inner = options.borderAlign === 'inner';\n\n  if (!borderWidth) {\n    return;\n  }\n\n  ctx.setLineDash(borderDash || []);\n  ctx.lineDashOffset = borderDashOffset;\n\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.stroke();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n\n  if (!fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.stroke();\n  }\n}\n\nexport interface ArcProps extends Point {\n  startAngle: number;\n  endAngle: number;\n  innerRadius: number;\n  outerRadius: number;\n  circumference: number;\n}\n\nexport default class ArcElement extends Element<ArcProps, ArcOptions> {\n\n  static id = 'arc';\n\n  static defaults = {\n    borderAlign: 'center',\n    borderColor: '#fff',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: undefined,\n    borderRadius: 0,\n    borderWidth: 2,\n    offset: 0,\n    spacing: 0,\n    angle: undefined,\n    circular: true,\n  };\n\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor'\n  };\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash'\n  };\n\n  circumference: number;\n  endAngle: number;\n  fullCircles: number;\n  innerRadius: number;\n  outerRadius: number;\n  pixelMargin: number;\n  startAngle: number;\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(chartX: number, chartY: number, useFinalPosition: boolean) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const nonZeroBetween = _angleBetween(angle, startAngle, endAngle) && startAngle !== endAngle;\n    const betweenAngles = _circumference >= TAU || nonZeroBetween;\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n\n    return (betweenAngles && withinRadius);\n  }\n\n  getCenterPoint(useFinalPosition: boolean) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius'\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n\n  tooltipPosition(useFinalPosition: boolean) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 4;\n    const spacing = (options.spacing || 0) / 2;\n    const circular = options.circular;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n\n    ctx.save();\n\n    const halfAngle = (this.startAngle + this.endAngle) / 2;\n    ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n    const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n    const radiusOffset = offset * fix;\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n\n    drawArc(ctx, this, radiusOffset, spacing, circular);\n    drawBorder(ctx, this, radiusOffset, spacing, circular);\n\n    ctx.restore();\n  }\n}\n","import Element from '../core/core.element.js';\nimport {_bezierInterpolation, _pointInLine, _steppedInterpolation} from '../helpers/helpers.interpolation.js';\nimport {_computeSegments, _boundSegments} from '../helpers/helpers.segment.js';\nimport {_steppedLineTo, _bezierCurveTo} from '../helpers/helpers.canvas.js';\nimport {_updateBezierControlPoints} from '../helpers/helpers.curve.js';\nimport {valueOrDefault} from '../helpers/index.js';\n\n/**\n * @typedef { import('./element.point.js').default } PointElement\n */\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @returns {any}\n */\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  // eslint-disable-next-line prefer-const\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      // Draw line to maxY and minY, using the average x-coordinate\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      // Line to y-value of last point in group. So the line continues\n      // from correct position. Not using move, to have solid path.\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    }\n\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0; // truncated x-coordinate\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      // Draw line to next x-position, using the first (or only)\n      // y-value in that group\n      ctx.lineTo(x, y);\n\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    // Keep track of the last y-value in group\n    lastY = y;\n  }\n  drawX();\n}\n\n/**\n * @param {LineElement} line - the line\n * @returns {function}\n * @private\n */\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\n/**\n * @private\n */\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\n\nconst usePath2D = typeof Path2D === 'function';\n\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nexport default class LineElement extends Element {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderCapStyle: 'butt',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderWidth: 3,\n    capBezierPoints: true,\n    cubicInterpolationMode: 'default',\n    fill: false,\n    spanGaps: false,\n    stepped: false,\n    tension: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n  };\n\n\n  constructor(cfg) {\n    super();\n\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n\n  get points() {\n    return this._points;\n  }\n\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n\n  /**\n\t * First non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n\n  /**\n\t * Last non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n\n  /**\n\t * Interpolate a point in this line at the same value on `property` as\n\t * the reference `point` provided\n\t * @param {PointElement} point - the reference point\n\t * @param {string} property - the property to match on\n\t * @returns {PointElement|undefined}\n\t */\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n\n    if (!segments.length) {\n      return;\n    }\n\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n\n  /**\n\t * Append a segment of this line to current path.\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} segment\n\t * @param {number} segment.start - start index of the segment, referring the points array\n \t * @param {number} segment.end - end index of the segment, referring the points array\n \t * @param {boolean} segment.loop - indicates that the segment is a loop\n\t * @param {object} params\n\t * @param {boolean} params.move - move to starting point (vs line to it)\n\t * @param {boolean} params.reverse - path the segment from end to start\n\t * @param {number} params.start - limit segment to points starting from `start` index\n\t * @param {number} params.end - limit segment to points ending at `start` + `count` index\n\t * @returns {undefined|boolean} - true if the segment is a full loop (path should be closed)\n\t */\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n\n  /**\n\t * Append all segments of this line to current path.\n\t * @param {CanvasRenderingContext2D|Path2D} ctx\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t * @returns {undefined|boolean} - true if line is a full loop (path should be closed)\n\t */\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n\n    start = start || 0;\n    count = count || (this.points.length - start);\n\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n\n  /**\n\t * Draw\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} chartArea\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t */\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n\n    if (points.length && options.borderWidth) {\n      ctx.save();\n\n      draw(ctx, this, start, count);\n\n      ctx.restore();\n    }\n\n    if (this.animated) {\n      // When line is animated, the control points and path are not cached.\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\n","import Element from '../core/core.element.js';\nimport {drawPoint, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport type {\n  CartesianParsedData,\n  ChartArea,\n  Point,\n  PointHoverOptions,\n  PointOptions,\n} from '../types/index.js';\n\nfunction inRange(el: PointElement, pos: number, axis: 'x' | 'y', useFinalPosition?: boolean) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\n\nexport type PointProps = Point\n\nexport default class PointElement extends Element<PointProps, PointOptions & PointHoverOptions> {\n\n  static id = 'point';\n\n  parsed: CartesianParsedData;\n  skip?: boolean;\n  stop?: boolean;\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderWidth: 1,\n    hitRadius: 1,\n    hoverBorderWidth: 1,\n    hoverRadius: 4,\n    pointStyle: 'circle',\n    radius: 3,\n    rotation: 0\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(mouseX: number, mouseY: number, useFinalPosition?: boolean) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n\n  inXRange(mouseX: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseX, 'x', useFinalPosition);\n  }\n\n  inYRange(mouseY: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseY, 'y', useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition?: boolean) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n\n  size(options?: Partial<PointOptions & PointHoverOptions>) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n\n  draw(ctx: CanvasRenderingContext2D, area: ChartArea) {\n    const options = this.options;\n\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n\n  getRange() {\n    const options = this.options || {};\n    // @ts-expect-error Fallbacks should never be hit in practice\n    return options.radius + options.hitRadius;\n  }\n}\n","import Element from '../core/core.element.js';\nimport {isObject, _isBetween, _limitValue} from '../helpers/index.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {toTRBL, toTRBLCorners} from '../helpers/helpers.options.js';\n\n/** @typedef {{ x: number, y: number, base: number, horizontal: boolean, width: number, height: number }} BarProps */\n\n/**\n * Helper function to get the bounds of the bar regardless of the orientation\n * @param {BarElement} bar the bar\n * @param {boolean} [useFinalPosition]\n * @return {object} bounds of the bar\n * @private\n */\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = /** @type {BarProps} */ (bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition));\n\n  let left, right, top, bottom, half;\n\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n\n  return {left, top, right, bottom};\n}\n\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\n\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\n\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n\n  // If the value is an object, assume the user knows what they are doing\n  // and apply as directed.\n  const enableBorder = enableBorderRadius || isObject(value);\n\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\n\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\n\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\n\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n\n/**\n * Add a path of a rectangle to the current sub-path\n * @param {CanvasRenderingContext2D} ctx Context\n * @param {*} rect Bounding rect\n */\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\n\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\n\nexport default class BarElement extends Element {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderSkipped: 'start',\n    borderWidth: 0,\n    borderRadius: 0,\n    inflateAmount: 'auto',\n    pointStyle: undefined\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n\n    ctx.save();\n\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n\n    ctx.restore();\n  }\n\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = /** @type {BarProps} */ (this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition));\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\n","import {_boundSegment, _boundSegments, _normalizeAngle} from '../../helpers/index.js';\n\nexport function _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = _findSegmentEnd(start, end, points);\n\n    const bounds = _getBounds(property, points[start], points[end], segment.loop);\n\n    if (!target.segments) {\n      // Special case for boundary not supporting `segments` (simpleArc)\n      // Bounds are provided as `target` for partial circle, or undefined for full circle\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n\n    // Get all segments from `target` that intersect the bounds of current segment of `line`\n    const targetSegments = _boundSegments(target, bounds);\n\n    for (const tgt of targetSegments) {\n      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\n\nexport function _getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\n\nexport function _pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = _findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\n\nexport function _findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\n\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n","/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nimport {LineElement} from '../../elements/index.js';\nimport {isArray} from '../../helpers/index.js';\nimport {_pointsFromSegments} from './filler.segment.js';\n\n/**\n * @param {PointElement[] | { x: number; y: number; }} boundary\n * @param {LineElement} line\n * @return {LineElement?}\n */\nexport function _createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n\n  if (isArray(boundary)) {\n    _loop = true;\n    // @ts-ignore\n    points = boundary;\n  } else {\n    points = _pointsFromSegments(boundary, line);\n  }\n\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\n\nexport function _shouldApplyFill(source) {\n  return source && source.fill !== false;\n}\n","import {isObject, isFinite, valueOrDefault} from '../../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.line.js').default } LineElement\n * @typedef { import('../../types/index.js').FillTarget } FillTarget\n * @typedef { import('../../types/index.js').ComplexFillTarget } ComplexFillTarget\n */\n\nexport function _resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n\n  if (!propagate) {\n    return fill;\n  }\n\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isFinite(fill)) {\n      return fill;\n    }\n\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n\n    if (target.visible) {\n      return fill;\n    }\n\n    visited.push(fill);\n    fill = target.fill;\n  }\n\n  return false;\n}\n\n/**\n * @param {LineElement} line\n * @param {number} index\n * @param {number} count\n */\nexport function _decodeFill(line, index, count) {\n  /** @type {string | {value: number}} */\n  const fill = parseFillOption(line);\n\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n\n  let target = parseFloat(fill);\n\n  if (isFinite(target) && Math.floor(target) === target) {\n    return decodeTargetIndex(fill[0], index, target, count);\n  }\n\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\n\nfunction decodeTargetIndex(firstCh, index, target, count) {\n  if (firstCh === '-' || firstCh === '+') {\n    target = index + target;\n  }\n\n  if (target === index || target < 0 || target >= count) {\n    return false;\n  }\n\n  return target;\n}\n\n/**\n * @param {FillTarget | ComplexFillTarget} fill\n * @param {Scale} scale\n * @returns {number | null}\n */\nexport function _getTargetPixel(fill, scale) {\n  let pixel = null;\n  if (fill === 'start') {\n    pixel = scale.bottom;\n  } else if (fill === 'end') {\n    pixel = scale.top;\n  } else if (isObject(fill)) {\n    // @ts-ignore\n    pixel = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    pixel = scale.getBasePixel();\n  }\n  return pixel;\n}\n\n/**\n * @param {FillTarget | ComplexFillTarget} fill\n * @param {Scale} scale\n * @param {number} startValue\n * @returns {number | undefined}\n */\nexport function _getTargetValue(fill, scale, startValue) {\n  let value;\n\n  if (fill === 'start') {\n    value = startValue;\n  } else if (fill === 'end') {\n    value = scale.options.reverse ? scale.min : scale.max;\n  } else if (isObject(fill)) {\n    // @ts-ignore\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  return value;\n}\n\n/**\n * @param {LineElement} line\n */\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n\n  if (fill === false || fill === null) {\n    return false;\n  }\n\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\n","/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nimport {LineElement} from '../../elements/index.js';\nimport {_isBetween} from '../../helpers/index.js';\nimport {_createBoundaryLine} from './filler.helper.js';\n\n/**\n * @param {{ chart: Chart; scale: Scale; index: number; line: LineElement; }} source\n * @return {LineElement}\n */\nexport function _buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line));\n\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @return {LineElement[]}\n */\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\n\n/**\n * @param {PointElement[]} points\n * @param {PointElement} sourcePoint\n * @param {LineElement[]} linesBelow\n */\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      // First point of an segment -> need to add another point before this,\n      // from next line below.\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        // In the middle of an segment, no need to add more points.\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\n\n/**\n * @param {LineElement} line\n * @param {PointElement} sourcePoint\n * @param {string} property\n * @returns {{point?: PointElement, first?: boolean, last?: boolean}}\n */\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\n","import {TAU} from '../../helpers/index.js';\n\n// TODO: use elements.ArcElement instead\nexport class simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\n","import {isFinite} from '../../helpers/index.js';\nimport {_createBoundaryLine} from './filler.helper.js';\nimport {_getTargetPixel, _getTargetValue} from './filler.options.js';\nimport {_buildStackLine} from './filler.target.stack.js';\nimport {simpleArc} from './simpleArc.js';\n\n/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nexport function _getTarget(source) {\n  const {chart, fill, line} = source;\n\n  if (isFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n\n  if (fill === 'stack') {\n    return _buildStackLine(source);\n  }\n\n  if (fill === 'shape') {\n    return true;\n  }\n\n  const boundary = computeBoundary(source);\n\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n\n  return _createBoundaryLine(boundary, line);\n}\n\n/**\n * @param {Chart} chart\n * @param {number} index\n */\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\n\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\n\n\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  const pixel = _getTargetPixel(fill, scale);\n\n  if (isFinite(pixel)) {\n    const horizontal = scale.isHorizontal();\n\n    return {\n      x: horizontal ? pixel : null,\n      y: horizontal ? null : pixel\n    };\n  }\n\n  return null;\n}\n\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const start = options.reverse ? scale.max : scale.min;\n  const value = _getTargetValue(fill, scale, start);\n  const target = [];\n\n  if (options.grid.circular) {\n    const center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n\n  for (let i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\n\n","import {clipArea, unclipArea} from '../../helpers/index.js';\nimport {_findSegmentEnd, _getBounds, _segments} from './filler.segment.js';\nimport {_getTarget} from './filler.target.js';\n\nexport function _drawfill(ctx, source, area) {\n  const target = _getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\n\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n\n  ctx.save();\n\n  if (property === 'x' && below !== above) {\n    clipVertical(ctx, target, area.top);\n    fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    clipVertical(ctx, target, area.bottom);\n  }\n  fill(ctx, {line, target, color: below, scale, property});\n\n  ctx.restore();\n}\n\nfunction clipVertical(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[_findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n\n    clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n\n    ctx.beginPath();\n\n    const lineLoop = !!line.pathSegment(ctx, src);\n\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n\n    ctx.restore();\n  }\n}\n\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\n\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\n","/**\n * Plugin based on discussion from the following Chart.js issues:\n * @see https://github.com/chartjs/Chart.js/issues/2380#issuecomment-279961569\n * @see https://github.com/chartjs/Chart.js/issues/2440#issuecomment-256461897\n */\n\nimport LineElement from '../../elements/element.line.js';\nimport {_drawfill} from './filler.drawing.js';\nimport {_shouldApplyFill} from './filler.helper.js';\nimport {_decodeFill, _resolveTarget} from './filler.options.js';\n\nexport default {\n  id: 'filler',\n\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: _decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n\n      meta.$filler = source;\n      sources.push(source);\n    }\n\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n\n      source.fill = _resolveTarget(sources, i, options.propagate);\n    }\n  },\n\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n\n      source.line.updateControlPoints(area, source.axis);\n      if (draw && source.fill) {\n        _drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n\n      if (_shouldApplyFill(source)) {\n        _drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n\n    if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n\n    _drawfill(chart.ctx, source, chart.chartArea);\n  },\n\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n","import defaults from '../core/core.defaults.js';\nimport Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {addRoundedRectPath, drawPointLegend, renderText} from '../helpers/helpers.canvas.js';\nimport {\n  _isBetween,\n  callback as call,\n  clipArea,\n  getRtlAdapter,\n  overrideTextDirection,\n  restoreTextDirection,\n  toFont,\n  toPadding,\n  unclipArea,\n  valueOrDefault,\n} from '../helpers/index.js';\nimport {_alignStartEnd, _textX, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {toTRBLCorners} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n */\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n\nexport class Legend extends Element {\n\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this._added = false;\n\n    // Contains hit boxes for each dataset (in dataset order)\n    this.legendHitBoxes = [];\n\n    /**\n \t\t * @private\n \t\t */\n    this._hoveredItem = null;\n\n    // Are we in doughnut mode which has a different data type\n    this.doughnutMode = false;\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = call(labelOpts.generateLabels, [this.chart], this) || [];\n\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n\n    this.legendItems = legendItems;\n  }\n\n  fit() {\n    const {options, ctx} = this;\n\n    // The legend may not be displayed for a variety of reasons including\n    // the fact that the defaults got set to `false`.\n    // When the legend is not displayed, there are no guarantees that the options\n    // are correctly formatted so we need to bail out as early as possible.\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    let width, height;\n\n    ctx.font = labelFont.string;\n\n    if (this.isHorizontal()) {\n      width = this.maxWidth; // fill all the width\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight; // fill all the height\n      width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n    }\n\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n\n  /**\n\t * @private\n\t */\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n\n    return totalHeight;\n  }\n\n  _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n\n    let left = 0;\n    let col = 0;\n\n    this.legendItems.forEach((legendItem, i) => {\n      const {itemWidth, itemHeight} = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n\n      // If too tall, go to new column\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n\n      // Store the hitbox width and height here. Final position will be updated in `draw`\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n\n      // Get max width\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n\n    return totalWidth;\n  }\n\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n\n      this._draw();\n\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n\n    this.drawTitle();\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    // current position\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n\n      // Set the ctx for the box\n      ctx.save();\n\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n      if (labelOpts.usePointStyle) {\n        // Recalculate x and y for drawPoint() because its expecting\n        // x and y to be center of figure (instead of top left)\n        const drawOptions = {\n          radius: boxHeight * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n\n        // Draw pointStyle as legend symbol\n        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n      } else {\n        // Draw box as legend symbol\n        // Adjust position when boxHeight < fontSize (want it centered)\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n\n        ctx.beginPath();\n\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n\n      ctx.restore();\n    };\n\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n\n    // Horizontal\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n\n    overrideTextDirection(this.ctx, opts.textDirection);\n\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor; // for strikethrough effect\n      ctx.fillStyle = legendItem.fontColor; // render in correct colour\n\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n\n      rtlHelper.setWidth(this.width);\n\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n\n      const realX = rtlHelper.x(x);\n\n      drawLegendBox(realX, y, legendItem);\n\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n\n      // Fill the actual label\n      fillText(rtlHelper.x(x), y, legendItem);\n\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else if (typeof legendItem.text !== 'string') {\n        const fontLineHeight = labelFont.lineHeight;\n        cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n\n    if (!titleOpts.display) {\n      return;\n    }\n\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n\n    // These defaults are used when the legend is vertical.\n    // When horizontal, they are computed below.\n    let left = this.left;\n    let maxWidth = this.width;\n\n    if (this.isHorizontal()) {\n      // Move left / right so that the title is above the legend lines\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      // Move down so that the title is above the legend stack in every alignment\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n\n    // Now that we know the left edge of the inner legend box, compute the correct\n    // X coordinate from the title alignment\n    const x = _alignStartEnd(position, left, left + maxWidth);\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n\n  /**\n\t * @private\n\t */\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      // See if we are touching one of the dataset boxes\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          // Touching an element\n          return this.legendItems[i];\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t */\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n\n    // Chart event already has relative position in it\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        call(opts.onLeave, [e, previous, this], this);\n      }\n\n      this._hoveredItem = hoveredItem;\n\n      if (hoveredItem && !sameItem) {\n        call(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      call(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\n\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n  const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n  const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n  return {itemWidth, itemHeight};\n}\n\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n  let legendItemText = legendItem.text;\n  if (legendItemText && typeof legendItemText !== 'string') {\n    legendItemText = legendItemText.reduce((a, b) => a.length > b.length ? a : b);\n  }\n  return boxWidth + (labelFont.size / 2) + ctx.measureText(legendItemText).width;\n}\n\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n  let itemHeight = _itemHeight;\n  if (typeof legendItem.text !== 'string') {\n    itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n  }\n  return itemHeight;\n}\n\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n  const labelHeight = legendItem.text ? legendItem.text.length : 0;\n  return fontLineHeight * labelHeight;\n}\n\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\n\nexport default {\n  id: 'legend',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Legend,\n\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n\n  // During the beforeUpdate step, the layout configuration needs to run\n  // This ensures that if the legend position changes (via an option update)\n  // the layout system respects the change. See https://github.com/chartjs/Chart.js/issues/7527\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n\n  // The labels need to be built after datasets are updated to ensure that colors\n  // and other styling are correct. See https://github.com/chartjs/Chart.js/issues/6968\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n\n\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n\n    // a callback that will handle\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n\n    onHover: null,\n    onLeave: null,\n\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      // Generates labels shown in the legend\n      // Valid properties to return:\n      // text : text to display\n      // fillStyle : fill of coloured box\n      // strokeStyle: stroke of coloured box\n      // hidden : if this legend item refers to a hidden item\n      // lineCap : cap style for line\n      // lineDash\n      // lineDashOffset :\n      // lineJoin :\n      // lineWidth :\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color, useBorderRadius, borderRadius}} = chart.legend.options;\n\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n\n            // Below is extra data used for toggling the datasets\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n","import {Title} from './plugin.title.js';\nimport layouts from '../core/core.layouts.js';\n\nconst map = new WeakMap();\n\nexport default {\n  id: 'subtitle',\n\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500         // by default greater than legend (1000) and smaller than title (2000)\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n","import Animations from '../core/core.animations.js';\nimport Element from '../core/core.element.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {each, noop, isNullOrUndef, isArray, _elementsEqual, isObject} from '../helpers/helpers.core.js';\nimport {toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\nimport {getRtlAdapter, overrideTextDirection, restoreTextDirection} from '../helpers/helpers.rtl.js';\nimport {distanceBetweenPoints, _limitValue} from '../helpers/helpers.math.js';\nimport {createContext, drawPoint} from '../helpers/index.js';\n\n/**\n * @typedef { import('../platform/platform.base.js').Chart } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').ActiveElement } ActiveElement\n * @typedef { import('../core/core.interaction.js').InteractionItem } InteractionItem\n */\n\nconst positioners = {\n  /**\n\t * Average mode places the tooltip at the average position of the elements shown\n\t */\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    let i, len;\n    let xSet = new Set();\n    let y = 0;\n    let count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        xSet.add(pos.x);\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    // No visible items where found, return false so we don't have to divide by 0 which reduces in NaN\n    if (count === 0 || xSet.size === 0) {\n      return false;\n    }\n\n    const xAverage = [...xSet].reduce((a, b) => a + b) / xSet.size;\n\n    return {\n      x: xAverage,\n      y: y / count\n    };\n  },\n\n  /**\n\t * Gets the tooltip position nearest of the item nearest to the event position\n\t */\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x,\n      y\n    };\n  }\n};\n\n// Helper to push or concat based on if the 2nd parameter is an array or not\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      // base = base.concat(toPush);\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\n/**\n * Returns array of strings split by newline\n * @param {*} str - The value to split by newline.\n * @returns {string|string[]} value if newline present - Returned from String split() method\n * @function\n */\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\n\n\n/**\n * Private helper to create a tooltip item model\n * @param {Chart} chart\n * @param {ActiveElement} item - {element, index, datasetIndex} to create the tooltip item for\n * @return new tooltip item\n */\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\n\n/**\n * Get the size of the tooltip\n */\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n\n  // Count of all lines in the body\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    // Body lines may include some extra height depending on boxHeight\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  // Title width\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n\n  // Body width\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n\n  // Body lines may include some extra width due to the color box\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n\n  // Reset back to 0\n  widthPadding = 0;\n\n  // Footer width\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n\n  ctx.restore();\n\n  // Add padding\n  width += padding.width;\n\n  return {width, height};\n}\n\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\n/**\n * Helper to get the alignment of a tooltip given the size\n */\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  // eslint-disable-next-line prefer-const\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\n\n/**\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\n */\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\n\n/**\n * Helper to build before and after body lines\n */\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nconst defaultCallbacks = {\n  // Args are: (tooltipItems, data)\n  beforeTitle: noop,\n  title(tooltipItems) {\n    if (tooltipItems.length > 0) {\n      const item = tooltipItems[0];\n      const labels = item.chart.data.labels;\n      const labelCount = labels ? labels.length : 0;\n\n      if (this && this.options && this.options.mode === 'dataset') {\n        return item.dataset.label || '';\n      } else if (item.label) {\n        return item.label;\n      } else if (labelCount > 0 && item.dataIndex < labelCount) {\n        return labels[item.dataIndex];\n      }\n    }\n\n    return '';\n  },\n  afterTitle: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeBody: noop,\n\n  // Args are: (tooltipItem, data)\n  beforeLabel: noop,\n  label(tooltipItem) {\n    if (this && this.options && this.options.mode === 'dataset') {\n      return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n    }\n\n    let label = tooltipItem.dataset.label || '';\n\n    if (label) {\n      label += ': ';\n    }\n    const value = tooltipItem.formattedValue;\n    if (!isNullOrUndef(value)) {\n      label += value;\n    }\n    return label;\n  },\n  labelColor(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      borderColor: options.borderColor,\n      backgroundColor: options.backgroundColor,\n      borderWidth: options.borderWidth,\n      borderDash: options.borderDash,\n      borderDashOffset: options.borderDashOffset,\n      borderRadius: 0,\n    };\n  },\n  labelTextColor() {\n    return this.options.bodyColor;\n  },\n  labelPointStyle(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      pointStyle: options.pointStyle,\n      rotation: options.rotation,\n    };\n  },\n  afterLabel: noop,\n\n  // Args are: (tooltipItems, data)\n  afterBody: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeFooter: noop,\n  footer: noop,\n  afterFooter: noop\n};\n\n/**\n * Invoke callback from object with context and arguments.\n * If callback returns `undefined`, then will be invoked default callback.\n * @param {Record<keyof typeof defaultCallbacks, Function>} callbacks\n * @param {keyof typeof defaultCallbacks} name\n * @param {*} ctx\n * @param {*} arg\n * @returns {any}\n */\nfunction invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n  const result = callbacks[name].call(ctx, arg);\n\n  if (typeof result === 'undefined') {\n    return defaultCallbacks[name].call(ctx, arg);\n  }\n\n  return result;\n}\n\nexport class Tooltip extends Element {\n\n  /**\n   * @namespace Chart.Tooltip.positioners\n   */\n  static positioners = positioners;\n\n  constructor(config) {\n    super();\n\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    // TODO: V4, make this private, rename to `_labelStyles`, and combine with `labelPointStyles`\n    // and `labelTextColors` to create a single variable\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n\n    if (cached) {\n      return cached;\n    }\n\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n\n  getTitle(context, options) {\n    const {callbacks} = options;\n\n    const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n    const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n    const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n\n    return lines;\n  }\n\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems)\n    );\n  }\n\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n      pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n\n      bodyItems.push(bodyItem);\n    });\n\n    return bodyItems;\n  }\n\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems)\n    );\n  }\n\n  // Get the footer and beforeFooter and afterFooter lines\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n\n    const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n    const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n    const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n\n    return lines;\n  }\n\n  /**\n\t * @private\n\t */\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n\n    // If the user provided a filter function, use it to modify the tooltip items\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n\n    // If the user provided a sorting function, use it to modify the tooltip items\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n\n    // Determine colors for boxes\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n      labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n      labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n    });\n\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n\n        // Left draws bottom -> top, this y1 is on the bottom\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n\n        // Right draws top -> bottom, thus y1 is on the top\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n\n        // Top draws left -> right, thus x1 is on the left\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n\n        // Bottom draws right -> left, thus x1 is on the right\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.titleAlign, options);\n\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing; // Line Height and spacing\n\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n        }\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColor = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2, // fit the circle in the box\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      // Recalculate x and y for drawPoint() because its expecting\n      // x and y to be center of figure (instead of top left)\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n\n      // Fill the point with white so that colours merge nicely if the opacity is < 1\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n\n      // Draw the point\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.fillStyle = labelColor.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      // Border\n      ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : (labelColor.borderWidth || 1); // TODO, v4 remove fallback\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.setLineDash(labelColor.borderDash || []);\n      ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n\n      // Fill a white rect so that colours merge nicely if the opacity is < 1\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n      const borderRadius = toTRBLCorners(labelColor.borderRadius);\n\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        // Normal rect\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n\n    // restore fillStyle\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n\n    // Before body lines\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n\n    // Draw body lines now\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n\n      lines = bodyItem.lines;\n      // Draw Legend-like boxes if needed\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        // Reset for any lines that don't include colorbox\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n\n      each(bodyItem.after, fillLineOfText);\n    }\n\n    // Reset back to 0 for after body\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n\n    // After body lines\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing; // Remove last body spacing\n  }\n\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n\n      footerFont = toFont(options.footerFont);\n\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n\n    ctx.fill();\n\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n\n  /**\n\t * Update x/y animation targets when _active elements are animating too\n\t * @private\n\t */\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n\n  /**\n   * Determine if the tooltip will draw anything\n   * @returns {boolean} True if the tooltip will render\n   */\n  _willRender() {\n    return !!this.opacity;\n  }\n\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n\n    if (!opacity) {\n      return;\n    }\n\n    this._updateAnimationTarget(options);\n\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n\n    // IE11/Edge does not like very small opacities, so snap to 0\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n\n    const padding = toPadding(options.padding);\n\n    // Truthy/falsey value for empty tooltip\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n\n      // Draw Background\n      this.drawBackground(pt, ctx, tooltipSize, options);\n\n      overrideTextDirection(ctx, options.textDirection);\n\n      pt.y += padding.top;\n\n      // Titles\n      this.drawTitle(pt, ctx, options);\n\n      // Body\n      this.drawBody(pt, ctx, options);\n\n      // Footer\n      this.drawFooter(pt, ctx, options);\n\n      restoreTextDirection(ctx, options.textDirection);\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * Get active elements in the tooltip\n\t * @returns {Array} Array of elements that are active in the tooltip\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active elements in the tooltip\n\t * @param {array} activeElements Array of active datasetIndex/index pairs.\n\t * @param {object} eventPosition Synthetic event position used in positioning\n\t */\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {boolean} true if the tooltip changed\n\t */\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n\n    // When there are multiple items shown, but the tooltip position is nearest mode\n    // an update may need to be made because our position may have changed even though\n    // the items are the same as before.\n    const positionChanged = this._positionChanged(active, e);\n\n    // Remember Last Actives\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n    // Only handle target event on tooltip change\n    if (changed) {\n      this._active = active;\n\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n\n        this.update(true, replay);\n      }\n    }\n\n    return changed;\n  }\n\n  /**\n\t * Helper for determining the active elements for event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {InteractionItem[]} lastActive - Previously active elements\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {InteractionItem[]} - Active elements\n\t * @private\n\t */\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      // But make sure that active elements are still valid.\n      return lastActive.filter(i =>\n        this.chart.data.datasets[i.datasetIndex] &&\n        this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined\n      );\n    }\n\n    // Find Active Elements for tooltips\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n    if (options.reverse) {\n      active.reverse();\n    }\n\n    return active;\n  }\n\n  /**\n\t * Determine if the active elements + event combination changes the\n\t * tooltip position\n\t * @param {array} active - Active elements\n\t * @param {ChartEvent} e - Event that triggered the position change\n\t * @returns {boolean} True if the position has changed\n\t */\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\n\nexport default {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n\n      if (chart.notifyPlugins('beforeTooltipDraw', {...args, cancelable: true}) === false) {\n        return;\n      }\n\n      tooltip.draw(chart.ctx);\n\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      // If the event is replayed from `update`, we should evaluate with the final positions.\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        // notify chart about the change, so it will render\n        args.changed = true;\n      }\n    }\n  },\n\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: defaultCallbacks\n  },\n\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n\n  // Resolve additionally from `interaction` options and defaults.\n  additionalOptionScopes: ['interaction']\n};\n","import Scale from '../core/core.scale.js';\nimport {isNullOrUndef, valueOrDefault, _limitValue} from '../helpers/index.js';\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\n\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\n\nfunction _getLabelForValue(value) {\n  const labels = this.getLabels();\n\n  if (value >= 0 && value < labels.length) {\n    return labels[value];\n  }\n  return value;\n}\n\nexport default class CategoryScale extends Scale {\n\n  static id = 'category';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: _getLabelForValue\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n\n    // If we are viewing some subset of labels, slice the original array\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n\n  getLabelForValue(value) {\n    return _getLabelForValue.call(this, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    super.configure();\n\n    if (!this.isHorizontal()) {\n      // For backward compatibility, vertical category scale reverse is inverted.\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n\n  // Used to get data value locations. Value can either be an index or a numerical value\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  // Must override base implementation because it calls getPixelForValue\n  // and category scale can have duplicate values\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n\n  getBasePixel() {\n    return this.bottom;\n  }\n}\n","import {isNullOrUndef} from '../helpers/helpers.core.js';\nimport {almostEquals, almostWhole, niceNum, _decimalPlaces, _setMinAndMaxByKey, sign, toRadians} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\n\n/**\n * Generate a set of linear ticks for an axis\n * 1. If generationOptions.min, generationOptions.max, and generationOptions.step are defined:\n *    if (max - min) / step is an integer, ticks are generated as [min, min + step, ..., max]\n *    Note that the generationOptions.maxCount setting is respected in this scenario\n *\n * 2. If generationOptions.min, generationOptions.max, and generationOptions.count is defined\n *    spacing = (max - min) / count\n *    Ticks are generated as [min, min + spacing, ..., max]\n *\n * 3. If generationOptions.count is defined\n *    spacing = (niceMax - niceMin) / count\n *\n * 4. Compute optimal spacing of ticks using niceNum algorithm\n *\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, dataRange) {\n  const ticks = [];\n  // To get a \"nice\" value for the tick spacing, we will use the appropriately named\n  // \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n  // for details.\n\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n\n  // Beyond MIN_SPACING floating point numbers being to lose precision\n  // such that we can't do the math necessary to generate ticks\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    // If the calculated num of spaces exceeds maxNumSpaces, recalculate it\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    // If the user specified a precision, round to that number of decimal places\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    // Case 1: If min, max and stepSize are set and they make an evenly spaced scale use it.\n    // spacing = step;\n    // numSpaces = (max - min) / spacing;\n    // Note that we round here to handle the case where almostWhole translated an FP error\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    // Cases 2 & 3, we have a count specified. Handle optional user defined edges to the range.\n    // Sometimes these are no-ops, but it makes the code a lot clearer\n    // and when a user defined range is specified, we want the correct ticks\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    // Case 4\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    // If very close to our rounded value, use it.\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  // The spacing will have changed in cases 1, 2, and 3 so the factor cannot be computed\n  // until this point\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n\n      if (niceMin < min) {\n        j++; // Skip niceMin\n      }\n      // If the next nice tick is close to min, skip it\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n    if (maxDefined && tickValue > max) {\n      break;\n    }\n    ticks.push({value: tickValue});\n  }\n\n  if (maxDefined && includeBounds && niceMax !== max) {\n    // If the previous tick is too close to max, replace it with max, else add max\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n\n  return ticks;\n}\n\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\n\nexport default class LinearScaleBase extends Scale {\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    /** @type {number} */\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n\n    return +raw;\n  }\n\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n\n    if (min === max) {\n      let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n\n      setMax(max + offset);\n\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    // eslint-disable-next-line prefer-const\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n\n    return maxTicks;\n  }\n\n  /**\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    // Figure out what the max number of ticks we can support it is based on the size of\n    // the axis area. For now, we say that the minimum tick spacing in pixels must be 40\n    // We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n    // the graph. Make sure we always have at least 2 ticks\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks(numericGeneratorOptions, dataRange);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n\n    super.configure();\n\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n","import {isFinite} from '../helpers/helpers.core.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {toRadians} from '../helpers/index.js';\n\nexport default class LinearScale extends LinearScaleBase {\n\n  static id = 'linear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.numeric\n    }\n  };\n\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? min : 0;\n    this.max = isFinite(max) ? max : 1;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n \t */\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n\n  // Utils\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\n","import {finiteOrDefault, isFinite} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {_setMinAndMaxByKey, log10} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\n\nconst log10Floor = v => Math.floor(log10(v));\nconst changeExponent = (v, m) => Math.pow(10, log10Floor(v) + m);\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, log10Floor(tickVal)));\n  return remain === 1;\n}\n\nfunction steps(min, max, rangeExp) {\n  const rangeStep = Math.pow(10, rangeExp);\n  const start = Math.floor(min / rangeStep);\n  const end = Math.ceil(max / rangeStep);\n  return end - start;\n}\n\nfunction startExp(min, max) {\n  const range = max - min;\n  let rangeExp = log10Floor(range);\n  while (steps(min, max, rangeExp) > 10) {\n    rangeExp++;\n  }\n  while (steps(min, max, rangeExp) < 10) {\n    rangeExp--;\n  }\n  return Math.min(rangeExp, log10Floor(min));\n}\n\n\n/**\n * Generate a set of logarithmic ticks\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, {min, max}) {\n  min = finiteOrDefault(generationOptions.min, min);\n  const ticks = [];\n  const minExp = log10Floor(min);\n  let exp = startExp(min, max);\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  const stepSize = Math.pow(10, exp);\n  const base = minExp > exp ? Math.pow(10, minExp) : 0;\n  const start = Math.round((min - base) * precision) / precision;\n  const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n  let significand = Math.floor((start - offset) / Math.pow(10, exp));\n  let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n  while (value < max) {\n    ticks.push({value, major: isMajor(value), significand});\n    if (significand >= 10) {\n      significand = significand < 15 ? 15 : 20;\n    } else {\n      significand++;\n    }\n    if (significand >= 20) {\n      exp++;\n      significand = 2;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n  }\n  const lastTick = finiteOrDefault(generationOptions.max, value);\n  ticks.push({value: lastTick, major: isMajor(lastTick), significand});\n\n  return ticks;\n}\n\nexport default class LogarithmicScale extends Scale {\n\n  static id = 'logarithmic';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.logarithmic,\n      major: {\n        enabled: true\n      }\n    }\n  };\n\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isFinite(value) && value > 0 ? value : null;\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? Math.max(0, min) : null;\n    this.max = isFinite(max) ? Math.max(0, max) : null;\n\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n\n    // if data has `0` in it or `beginAtZero` is true, min (non zero) value is at bottom\n    // of scale, and it does not equal suggestedMin, lower the min bound by one exp.\n    if (this._zero && this.min !== this._suggestedMin && !isFinite(this._userMin)) {\n      this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n    }\n\n    this.handleTickRangeOptions();\n  }\n\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (min === max) {\n      if (min <= 0) { // includes null\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(changeExponent(min, -1));\n        setMax(changeExponent(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(changeExponent(max, -1));\n    }\n    if (max <= 0) {\n\n      setMax(changeExponent(min, +1));\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const start = this.min;\n\n    super.configure();\n\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\n","import defaults from '../core/core.defaults.js';\nimport {_longestText, addRoundedRectPath, renderText, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport {HALF_PI, TAU, toDegrees, toRadians, _normalizeAngle, PI} from '../helpers/helpers.math.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {valueOrDefault, isArray, isFinite, callback as callCallback, isNullOrUndef} from '../helpers/helpers.core.js';\nimport {createContext, toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\n\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\n/**\n * Helper function to fit a radial linear scale with point labels\n */\nfunction fitWithPointLabels(scale) {\n\n  // Right, this is really confusing and there is a lot of maths going on here\n  // The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n  //\n  // Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n  //\n  // Solution:\n  //\n  // We assume the radius of the polygon is half the size of the canvas at first\n  // at each index we check if the text overlaps.\n  //\n  // Where it does, we store that angle and that index.\n  //\n  // After finding the largest index and angle we calculate how much we need to remove\n  // from the shape radius to move the point inwards by that x.\n  //\n  // We average the left and right distances to get the maximum shape radius that can fit in the box\n  // along with labels.\n  //\n  // Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n  // on each side, removing that from the size, halving it and adding the left x protrusion width.\n  //\n  // This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n  // and position it in the most space efficient manner\n  //\n  // https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\n  // Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n  // Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n\n  // Now that text size is determined, compute the full positions\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\n\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\n\nfunction createPointLabelItem(scale, index, itemOpts) {\n  const outerDistance = scale.drawingArea;\n  const {extra, additionalAngle, padding, size} = itemOpts;\n  const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n  const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n  const y = yForAngle(pointLabelPosition.y, size.h, angle);\n  const textAlign = getTextAlignForAngle(angle);\n  const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n  return {\n    // if to draw or overlapped\n    visible: true,\n\n    // Text position\n    x: pointLabelPosition.x,\n    y,\n\n    // Text rendering data\n    textAlign,\n\n    // Bounding box\n    left,\n    top: y,\n    right: left + size.w,\n    bottom: y + size.h\n  };\n}\n\nfunction isNotOverlapped(item, area) {\n  if (!area) {\n    return true;\n  }\n  const {left, top, right, bottom} = item;\n  const apexesInArea = _isPointInArea({x: left, y: top}, area) || _isPointInArea({x: left, y: bottom}, area) ||\n    _isPointInArea({x: right, y: top}, area) || _isPointInArea({x: right, y: bottom}, area);\n  return !apexesInArea;\n}\n\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const {centerPointLabels, display} = opts.pointLabels;\n  const itemOpts = {\n    extra: getTickBackdropHeight(opts) / 2,\n    additionalAngle: centerPointLabels ? PI / valueCount : 0\n  };\n  let area;\n\n  for (let i = 0; i < valueCount; i++) {\n    itemOpts.padding = padding[i];\n    itemOpts.size = labelSizes[i];\n\n    const item = createPointLabelItem(scale, i, itemOpts);\n    items.push(item);\n    if (display === 'auto') {\n      item.visible = isNotOverlapped(item, area);\n      if (item.visible) {\n        area = item;\n      }\n    }\n  }\n  return items;\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\n\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\n\nfunction drawPointLabelBox(ctx, opts, item) {\n  const {left, top, right, bottom} = item;\n  const {backdropColor} = opts;\n\n  if (!isNullOrUndef(backdropColor)) {\n    const borderRadius = toTRBLCorners(opts.borderRadius);\n    const padding = toPadding(opts.backdropPadding);\n    ctx.fillStyle = backdropColor;\n\n    const backdropLeft = left - padding.left;\n    const backdropTop = top - padding.top;\n    const backdropWidth = right - left + padding.width;\n    const backdropHeight = bottom - top + padding.height;\n\n    if (Object.values(borderRadius).some(v => v !== 0)) {\n      ctx.beginPath();\n      addRoundedRectPath(ctx, {\n        x: backdropLeft,\n        y: backdropTop,\n        w: backdropWidth,\n        h: backdropHeight,\n        radius: borderRadius,\n      });\n      ctx.fill();\n    } else {\n      ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n    }\n  }\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const item = scale._pointLabelItems[i];\n    if (!item.visible) {\n      // overlapping\n      continue;\n    }\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    drawPointLabelBox(ctx, optsAtIndex, item);\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign} = item;\n\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    // Draw circular arcs between the points\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    // Draw straight lines connecting each index\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n\n  const {color, lineWidth} = gridLineOpts;\n\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(borderOpts.dash || []);\n  ctx.lineDashOffset = borderOpts.dashOffset;\n\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\n\nexport default class RadialLinearScale extends LinearScaleBase {\n\n  static id = 'radialLinear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    display: true,\n\n    // Boolean - Whether to animate scaling the chart from the centre\n    animate: true,\n    position: 'chartArea',\n\n    angleLines: {\n      display: true,\n      lineWidth: 1,\n      borderDash: [],\n      borderDashOffset: 0.0\n    },\n\n    grid: {\n      circular: false\n    },\n\n    startAngle: 0,\n\n    // label settings\n    ticks: {\n      // Boolean - Show a backdrop to the scale label\n      showLabelBackdrop: true,\n\n      callback: Ticks.formatters.numeric\n    },\n\n    pointLabels: {\n      backdropColor: undefined,\n\n      // Number - The backdrop padding above & below the label in pixels\n      backdropPadding: 2,\n\n      // Boolean - if true, show point labels\n      display: true,\n\n      // Number - Point label font size in pixels\n      font: {\n        size: 10\n      },\n\n      // Function - Used to convert point labels\n      callback(label) {\n        return label;\n      },\n\n      // Number - Additionl padding between scale and pointLabel\n      padding: 5,\n\n      // Boolean - if true, center point labels to slices in polar chart\n      centerPointLabels: false\n    }\n  };\n\n  static defaultRoutes = {\n    'angleLines.color': 'borderColor',\n    'pointLabels.color': 'color',\n    'ticks.color': 'color'\n  };\n\n  static descriptors = {\n    angleLines: {\n      _fallback: 'grid'\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.xCenter = undefined;\n    /** @type {number} */\n    this.yCenter = undefined;\n    /** @type {number} */\n    this.drawingArea = undefined;\n    /** @type {string[]} */\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n\n    this.min = isFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isFinite(max) && !isNaN(max) ? max : 0;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n\n    // Point labels\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callCallback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n\n  fit() {\n    const opts = this.options;\n\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n\n    // Take into account half font size + the yPadding of the top value\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid, border} = opts;\n    const labelCount = this._pointLabels.length;\n\n    let i, offset, position;\n\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0 || (index === 0 && this.min < 0)) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const context = this.getContext(index);\n          const optsAtIndex = grid.setContext(context);\n          const optsAtIndexBorder = border.setContext(context);\n\n          drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n        }\n      });\n    }\n\n    if (angleLines.display) {\n      ctx.save();\n\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n\n        if (!lineWidth || !color) {\n          continue;\n        }\n\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n\n        offset = this.getDistanceFromCenterForValue(opts.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {}\n\n  /**\n\t * @protected\n\t */\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    if (!tickOpts.display) {\n      return;\n    }\n\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    this.ticks.forEach((tick, index) => {\n      if ((index === 0 && this.min >= 0) && !opts.reverse) {\n        return;\n      }\n\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n        strokeColor: optsAtIndex.textStrokeColor,\n        strokeWidth: optsAtIndex.textStrokeWidth,\n      });\n    });\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {}\n}\n","import adapters from '../core/core.adapters.js';\nimport {callback as call, isFinite, isNullOrUndef, mergeIf, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toRadians, isNumber, _limitValue} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {_arrayUnique, _filterBetween, _lookup} from '../helpers/helpers.collection.js';\n\n/**\n * @typedef { import('../core/core.adapters.js').TimeUnit } Unit\n * @typedef {{common: boolean, size: number, steps?: number}} Interval\n * @typedef { import('../core/core.adapters.js').DateAdapter } DateAdapter\n */\n\n/**\n * @type {Object<Unit, Interval>}\n */\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\n\n/**\n * @type {Unit[]}\n */\nconst UNITS = /** @type Unit[] */ /* #__PURE__ */ (Object.keys(INTERVALS));\n\n/**\n * @param {number} a\n * @param {number} b\n */\nfunction sorter(a, b) {\n  return a - b;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {*} input\n * @return {number}\n */\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  // Only parse if it's not a timestamp already\n  if (!isFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, /** @type {Unit} */ (parser))\n      : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\n/**\n * Figures out what unit results in an appropriate number of auto-generated ticks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @param {number} capacity\n * @return {object}\n */\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\n/**\n * Figures out what unit to format a set of ticks with\n * @param {TimeScale} scale\n * @param {number} numTicks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @return {Unit}\n */\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\n/**\n * @param {Unit} unit\n * @return {object}\n */\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\n/**\n * @param {object} ticks\n * @param {number} time\n * @param {number[]} [timestamps] - if defined, snap to these timestamps\n */\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\n/**\n * @param {TimeScale} scale\n * @param {object[]} ticks\n * @param {object} map\n * @param {Unit} majorUnit\n * @return {object[]}\n */\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {number[]} values\n * @param {Unit|undefined} [majorUnit]\n * @return {object[]}\n */\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  /** @type {Object<number,object>} */\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n\n  // We set the major ticks separately from the above loop because calling startOf for every tick\n  // is expensive when there is a large number of ticks\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nexport default class TimeScale extends Scale {\n\n  static id = 'time';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 2.7.0\n     */\n    bounds: 'data',\n\n    adapters: {},\n    time: {\n      parser: false, // false == a pattern string from or a custom callback that converts its argument to a timestamp\n      unit: false, // false == automatic or override with week, month, year, etc.\n      round: false, // none, or override with week, month, year, etc.\n      isoWeekday: false, // override week start day\n      minUnit: 'millisecond',\n      displayFormats: {}\n    },\n    ticks: {\n      /**\n       * Ticks generation input values:\n       * - 'auto': generates \"optimal\" ticks based on scale size and time options.\n       * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\n       * - 'labels': generates ticks from user given `data.labels` values ONLY.\n       * @see https://github.com/chartjs/Chart.js/pull/4507\n       * @since 2.7.0\n       */\n      source: 'auto',\n\n      callback: false,\n\n      major: {\n        enabled: false\n      }\n    }\n  };\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {{data: number[], labels: number[], all: number[]}} */\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n\n    /** @type {Unit} */\n    this._unit = 'day';\n    /** @type {Unit=} */\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n\n  init(scaleOpts, opts = {}) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    /** @type {DateAdapter} */\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n\n    adapter.init(opts);\n\n    // Backward compatibility: before introducing adapter, `displayFormats` was\n    // supposed to contain *all* unit/string pairs but this can't be resolved\n    // when loading the scale (adapters are loaded afterward), so let's populate\n    // missing formats on update\n    mergeIf(time.displayFormats, adapter.formats());\n\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n\n    super.init(scaleOpts);\n\n    this._normalized = opts.normalized;\n  }\n\n  /**\n\t * @param {*} raw\n\t * @param {number?} [index]\n\t * @return {number}\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    // eslint-disable-next-line prefer-const\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n\n    /**\n\t\t * @param {object} bounds\n\t\t */\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n\n    // If we have user provided `min` and `max` labels / data bounds can be ignored\n    if (!minDefined || !maxDefined) {\n      // Labels are always considered, when user did not force bounds\n      _applyBounds(this._getLabelBounds());\n\n      // If `bounds` is `'ticks'` and `ticks.source` is `'labels'`,\n      // data bounds are ignored (and don't need to be determined)\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n\n    min = isFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n\n    // Make sure that max is strictly higher than min (required by the timeseries lookup table)\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n\n  /**\n\t * @private\n\t */\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n\n  /**\n\t * @return {object[]}\n\t */\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n\n    const min = this.min;\n    const max = this.max;\n\n    const ticks = _filterBetween(timestamps, min, max);\n\n    // PRIVATE\n    // determineUnitForFormatting relies on the number of ticks so we don't use it when\n    // autoSkip is enabled because we don't yet know what the final number of ticks will be\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n\n    if (options.reverse) {\n      ticks.reverse();\n    }\n\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n\n  afterAutoSkip() {\n    // Offsets for bar charts need to be handled with the auto skipped\n    // ticks. Once ticks have been skipped, we re-compute the offsets.\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n\n  /**\n\t * Returns the start and end offsets from edges in the form of {start, end}\n\t * where each value is a relative width to the scale and ranges between 0 and 1.\n\t * They add extra margins on the both sides by scaling down the original scale.\n\t * Offsets are added when the `offset` option is true.\n\t * @param {number[]} timestamps\n\t * @protected\n\t */\n  initOffsets(timestamps = []) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n\n  /**\n\t * Generates a maximum of `capacity` timestamps between min and max, rounded to the\n\t * `minor` unit using the given scale time `options`.\n\t * Important: this method can return ticks outside the min and max range, it's the\n\t * responsibility of the calling code to clamp values if needed.\n\t * @protected\n\t */\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    // @ts-ignore\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n\n    // For 'week' unit, handle the first day of week option\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n\n    // Align first ticks on unit\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n    // Prevent browser from freezing in case user options request millions of milliseconds\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n\n    // @ts-ignore\n    return Object.keys(ticks).sort(sorter).map(x => +x);\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n\n  /**\n\t * @param {number} value\n\t * @param {string|undefined} format\n\t * @return {string}\n\t */\n  format(value, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const fmt = format || formats[unit];\n    return this._adapter.format(value, fmt);\n  }\n\n  /**\n\t * Function to format an individual tick mark\n\t * @param {number} time\n\t * @param {number} index\n\t * @param {object[]} ticks\n\t * @param {string|undefined} [format]\n\t * @return {string}\n\t * @private\n\t */\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formatter = options.ticks.callback;\n\n    if (formatter) {\n      return call(formatter, [time, index, ticks], this);\n    }\n\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n\n    return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n  }\n\n  /**\n\t * @param {object[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n\n  /**\n\t * @param {string} label\n\t * @return {{w:number, h:number}}\n\t * @private\n\t */\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n\n  /**\n\t * @param {number} exampleTime\n\t * @return {number}\n\t * @private\n\t */\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n\n    // pick the longest format (milliseconds) for guesstimation\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    // subtract 1 - if offset then there's one less label than tick\n    // if not offset then one half label padding is added to each end leaving room for one less label\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n\n    return (this._cache.data = this.normalize(timestamps));\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n\n  /**\n\t * @param {number[]} values\n\t * @protected\n\t */\n  normalize(values) {\n    // It seems to be somewhat faster to do sorting first\n    return _arrayUnique(values.sort(sorter));\n  }\n}\n","import TimeScale from './scale.time.js';\nimport {_lookupByKey} from '../helpers/helpers.collection.js';\n\n/**\n * Linearly interpolates the given source `val` using the table. If value is out of bounds, values\n * at edges are used for the interpolation.\n * @param {object} table\n * @param {number} val\n * @param {boolean} [reverse] lookup time based on position instead of vice versa\n * @return {object}\n */\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\n\nclass TimeSeriesScale extends TimeScale {\n\n  static id = 'timeseries';\n\n  /**\n   * @type {any}\n   */\n  static defaults = TimeScale.defaults;\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {object[]} */\n    this._table = [];\n    /** @type {number} */\n    this._minPos = undefined;\n    /** @type {number} */\n    this._tableRange = undefined;\n  }\n\n  /**\n\t * @protected\n\t */\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n\n  /**\n\t * Returns an array of {time, pos} objects used to interpolate a specific `time` or position\n\t * (`pos`) on the scale, by searching entries before and after the requested value. `pos` is\n\t * a decimal between 0 and 1: 0 being the start of the scale (left or top) and 1 the other\n\t * extremity (left + width or top + height). Note that it would be more optimized to directly\n\t * store pre-computed pixels, but the scale dimensions are not guaranteed at the time we need\n\t * to create the lookup table. The table ALWAYS contains at least two items: min and max.\n\t * @param {number[]} timestamps\n\t * @return {object[]}\n\t * @protected\n\t */\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n\n    if (items.length < 2) {\n      // In case there is less that 2 timestamps between min and max, the scale is defined by min and max\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n\n      // only add points that breaks the scale linearity\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n\n  /**\n    * Generates all timestamps defined in the data.\n    * Important: this method can return ticks outside the min and max range, it's the\n    * responsibility of the calling code to clamp values if needed.\n    * @protected\n    */\n  _generate() {\n    const min = this.min;\n    const max = this.max;\n    let timestamps = super.getDataTimestamps();\n    if (!timestamps.includes(min) || !timestamps.length) {\n      timestamps.splice(0, 0, min);\n    }\n    if (!timestamps.includes(max) || timestamps.length === 1) {\n      timestamps.push(max);\n    }\n    return timestamps.sort((a, b) => a - b);\n  }\n\n  /**\n\t * Returns all timestamps\n\t * @return {number[]}\n\t * @private\n\t */\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      // If combining labels and data (data might not contain all labels),\n      // we need to recheck uniqueness and sort\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n\n    return timestamps;\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\n\nexport default TimeSeriesScale;\n"],"names":["module","Object","defineProperty","exports","value","React","require","LeftArrow","_a","customLeftArrow","getState","previous","disabled","rtl","cloneElement","onClick","carouselState","rtlClassName","createElement","className","type","RightArrow","customRightArrow","next","__extends","this","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","utils_1","types_1","Dots_1","Arrows_1","CarouselItems_1","common_1","defaultTransitionDuration","defaultTransition","Carousel","_super","props","_this","call","containerRef","createRef","listRef","state","itemWidth","slidesToShow","currentSlide","totalItems","Children","count","children","deviceType","domLoaded","transform","containerWidth","onResize","bind","handleDown","handleMove","handleOut","onKeyUp","handleEnter","setIsInThrottle","throttle","transitionDuration","goToSlide","onMove","initialX","lastX","isAnimationAllowed","direction","initialY","isInThrottle","transformPlaceHolder","resetTotalItems","notEnoughChildren","Math","max","min","setState","setContainerAndItemWidth","setTransformDirectly","position","withAnimation","additionalTransfrom","currentTransform","getTransform","current","setAnimationDirectly","style","animationAllowed","transition","customTransition","componentDidMount","setItemsToShow","window","addEventListener","keyBoardControl","autoPlay","setInterval","autoPlaySpeed","setClones","forResizing","resetCurrentSlide","childrenArr","toArray","initialSlide","getInitialSlideInInfiniteMode","clones","getClones","length","correctItemsPosition","shouldCorrectItemPosition","responsive","keys","forEach","item","breakpoint","items","widths","innerWidth","screen","width","push","screenWidth","apply","offsetWidth","itemWidth_1","getItemClientSideWidth","infinite","setToDomDirectly","nextTransform","componentDidUpdate","_b","itemsToShowTimeout","clearTimeout","setTimeout","removeEventListener","clearInterval","clonesTimeout","correctClonesPosition","rewind","isInRightEnd","rewindBuffer","isInThrottleTimeout","resetAutoplayInterval","rewindWithAnimation","checkClonesPosition","isReachingTheEnd","isReachingTheStart","nextSlide","nextPosition","transformTimeout","slidesHavePassed","afterChange","beforeChange","populateNextSlides","nextSlides","previousSlide","shouldResetAutoplay","afterChangeTimeout","populatePreviousSlides","afterChangeTimeout2","componentWillUnmount","afterChangeTimeout3","resetMoveStatus","getCords","clientX","clientY","parsePosition","e","isMouseMoveEvent","swipeable","draggable","touches","diffX","diffY","abs","populateSlidesOnMouseTouchMove","canContinue","shouldDisableOnMobile","shouldDisableOnDesktop","minimumTouchDrag","round","isInViewport","el","getBoundingClientRect","top","_c","left","_d","bottom","_e","right","innerHeight","document","documentElement","clientHeight","clientWidth","isChildOfCarousel","Element","contains","target","keyCode","HTMLInputElement","pauseOnHover","slide","skipCallbacks","skipBeforeChange","skipAfterChange","renderLeftArrow","disbaled","renderRightArrow","renderButtonGroups","customButtonGroup","slideIndex","renderDotsList","default","renderCarouselItems","render","arrows","renderArrowsWhenDisabled","removeArrowOnDeviceType","containerClass","sliderClass","renderDotsOutside","renderButtonGroupOutside","getInitialState","shouldRenderOnSSR","shouldRenderAtAll","isLeftEndReach","isInLeftEnd","isRightEndReach","shouldShowArrows","indexOf","disableLeftArrow","disableRightArrow","Fragment","dir","ref","overflow","onMouseMove","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","defaultProps","slidesToSlide","itemClass","showDots","dotListClass","focusOnSelect","centerMode","Component","itemAriaLabel","partialVisbile","partialVisible","flexBisis","domFullyLoaded","partialVisibilityGutter","console","warn","map","child","index","key","getIfSlideIsVisbile","ariaLabel","flex","clones_1","dots_1","customDot","numberOfDotsToShow","getSlidesToSlide","ceil","nextSlidesTable","getLookupTableForNextSlides","lookupTable","getOriginalIndexLookupTableByClones","currentSlides","fill","_","isActive","cloneIndex","maximumNextSlide","possibileNextSlides","active","arguments","getOriginalCounterPart","table","firstBeginningOfClones","firstEndOfClones","firstCount","i","secondBeginningOfClones","secondEndOfClones","slice","secondCount","originalEnd","originalCounter","totalSlides","concat","originalFirstSlide","elementWidth_1","getTransformForCenterMode","getTransformForPartialVsibile","shouldRemoveRightGutter","baseTransform","ssr","Boolean","getWidthFromDeviceType","getPartialVisibilityGutter","slidesToScroll","device","now","serverSideDeviceType","clientSideDeviceType","gutter","paritialVisibilityGutter","toFixed","throttle_1","throwError_1","throwError","next_1","previous_1","mouseOrTouchMove_1","slidesHavePassedRight","slidesHavePassedLeft","isMovingLeft","translateXLimit","nextTranslate","isLastSlide","nextMaximumSlides","common_2","additionalSlides","func","limit","inThrottle","args","Error","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","obj","Symbol","iterator","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","_getPrototypeOf","o","getPrototypeOf","_setPrototypeOf","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_isNativeReflectConstruct","result","Super","NewTarget","_get","get","property","receiver","base","_superPropBase","desc","defaults","startAt","perView","focusAt","gap","autoplay","hoverpause","keyboard","bound","swipeThreshold","dragThreshold","perSwipe","touchRatio","touchAngle","animationDuration","rewindDuration","animationTimingFunc","waitForTransition","peek","cloningRatio","breakpoints","classes","dragging","ltr","slider","carousel","clone","arrow","nav","msg","error","toInt","parseInt","isString","isObject","isFunction","isUndefined","isArray","define","prop","definition","mergeOptions","settings","options","assign","EventsBus","events","undefined","hop","event","handler","remove","on","context","emit","Glide$1","Glide","selector","_t","extensions","glide","components","name","_name","mount","transformers","pattern","Run","make","distance","Transition","disable","Move","interval","_o","set","_i","status","Date","getTime","wait","timeout","later","leading","throttled","at","remaining","trailing","cancel","MARGIN_TYPE","siblings","node","parentNode","n","firstChild","matched","nextSibling","nodeType","nodeList","EventsBinder","listeners","closure","capture","VALID_DIRECTIONS","FLIPED_MOVEMENTS","Rtl","Components","modify","translate","Direction","is","Gap","multiplier","floor","Sizes","slideWidth","Gaps","Grow","Clones","grow","Peeking","Peek","before","Focusing","supportsPassive","opts","supportsPassive$1","START_EVENTS","MOVE_EVENTS","END_EVENTS","MOUSE_EVENTS","CONTROLS_SELECTOR","PREVIOUS_CONTROLS_SELECTOR","NEXT_CONTROLS_SELECTOR","sortBreakpoints","points","sort","reduce","r","k","COMPONENTS","Html","Events","root","track","querySelector","collectSlides","slides","wrapper","classList","_r","t","Translate","TRANSFORMERS","mutate","transformer","mutator","translate3d","mozTransform","webkitTransform","getStartIndex","isOffset","getTravelDistance","travelDistance","isType","movement","after","startWidth","compose","duration","callback","enable","offset","resolve","token","split","join","addClass","add","removeClass","_v","setupSlides","setupWrapper","wrapperSize","reductor","len","marginLeft","marginRight","collect","_Glide$settings","cloneCount","append","reverse","prepend","cloneNode","_clone","unshift","_Components$Html","half","appendChild","_i2","insertBefore","_i3","removeChild","Resize","Binder","unbind","off","destroy","Build","typeClass","activeClass","sibling","removeClasses","_Glide$settings$class","move","calculate","isStart","isEnd","steps","viewSize","calculateForwardIndex","isBound","normalizeForwardIndex","_index","view","calculateBackwardIndex","normalizeBackwardIndex","_m","step","substr","Swipe","swipeSin","swipeStartX","swipeStartY","passive","bindSwipeStart","start","swipe","pageX","pageY","bindSwipeMove","bindSwipeEnd","subExSx","subEySy","powEX","powEY","swipeHypotenuse","sqrt","swipeCathetus","asin","PI","stopPropagation","parseFloat","end","_Glide$settings2","threshold","swipeDistance","swipeDeg","unbindSwipeMove","unbindSwipeEnd","_Glide$settings3","unbindSwipeStart","_this2","_this3","changedTouches","Images","dragstart","preventDefault","Anchors","detached","prevented","querySelectorAll","click","detach","attach","Controls","_n","_arrowControls","addBindings","setActive","removeActive","controls","setArrowState","resetArrowState","disableArrow","_len","lists","_key","list","element","_len2","_key2","removeBindings","elements","currentTarget","getAttribute","Keyboard","press","includes","code","ArrowRight","ArrowLeft","Autoplay","stop","time","Breakpoints","match","matchMedia","point","matches","_Core","subClass","superClass","_inherits","fn","thisArg","toString","kindOf","cache","thing","str","toLowerCase","kindOfTest","typeOfTest","isArrayBuffer","isNumber","isPlainObject","val","toStringTag","isDate","isFile","isBlob","isFileList","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","l","allOwnKeys","getOwnPropertyNames","findKey","_global","globalThis","global","isContextDefined","isTypedArray","TypedArray","Uint8Array","isHTMLForm","_ref","isRegExp","reduceDescriptors","reducer","descriptors","reducedDescriptors","ret","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","toUpperCase","isAsyncFn","_setImmediate","setImmediateSupported","postMessageSupported","setImmediate","random","callbacks","_ref2","data","shift","cb","postMessage","asap","queueMicrotask","process","nextTick","isBuffer","isFormData","kind","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isBoolean","isStream","pipe","merge","caseless","assignValue","targetKey","extend","a","trim","replace","stripBOM","content","charCodeAt","inherits","superConstructor","toFlatObject","sourceObj","destObj","propFilter","merged","endsWith","searchString","String","lastIndex","arr","forEachEntry","done","pair","matchAll","regExp","exec","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","delimiter","toCamelCase","m","p1","p2","noop","toFiniteNumber","defaultValue","Number","isFinite","generateString","size","alphabet","isSpecCompliantForm","toJSONObject","stack","visit","reducedValue","isThenable","then","catch","AxiosError","message","config","request","response","captureStackTrace","utils","toJSON","description","number","fileName","lineNumber","columnNumber","from","customProps","axiosError","cause","isVisitable","removeBrackets","renderKey","path","dots","predicates","test","formData","metaTokens","indexes","option","visitor","defaultVisitor","useBlob","Blob","convertValue","toISOString","Buffer","JSON","stringify","some","isFlatArray","exposedHelpers","build","pop","encode","charMap","encodeURIComponent","AxiosURLSearchParams","params","_pairs","toFormData","encoder","_encode","buildURL","url","serialize","serializeFn","serializedParams","hashmarkIndex","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","id","clear","h","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","isBrowser","URLSearchParams","protocols","hasBrowserEnv","_navigator","navigator","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","origin","location","href","_objectSpread","platform","buildPath","isNumericKey","isLast","arrayToObject","entries","parsePropPath","transitional","transitionalDefaults","adapter","transformRequest","headers","contentType","getContentType","hasJSONContentType","isObjectPayload","formDataToJSON","setContentType","helpers","isNode","toURLEncodedForm","formSerializer","_FormData","env","rawValue","parser","parse","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","method","ignoreDuplicateOf","$internals","normalizeHeader","header","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","parsed","line","substring","parseHeaders","tokens","tokensRE","parseTokens","has","matcher","delete","deleted","deleteHeader","normalize","format","normalized","w","char","formatHeader","targets","asStrings","first","computed","accessor","accessors","defineAccessor","accessorName","methodName","arg1","arg2","arg3","buildAccessors","mapped","headerValue","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","reject","ERR_BAD_REQUEST","samplesCount","bytes","timestamps","firstSampleTS","head","tail","chunkLength","startedAt","bytesCount","passed","freq","lastArgs","timer","timestamp","invoke","flush","progressEventReducer","listener","isDownloadStream","bytesNotified","_speedometer","speedometer","loaded","total","lengthComputable","progressBytes","rate","progress","estimated","progressEventDecorator","asyncDecorator","isMSIE","URL","protocol","host","port","userAgent","write","expires","domain","secure","cookie","toGMTString","read","RegExp","decodeURIComponent","buildFullPath","baseURL","requestedURL","relativeURL","combineURLs","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","paramsSerializer","timeoutMessage","withCredentials","withXSRFToken","onUploadProgress","onDownloadProgress","decompress","beforeRedirect","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding","configValue","newConfig","auth","btoa","username","password","unescape","isURLSameOrigin","xsrfValue","cookies","XMLHttpRequest","Promise","_config","resolveConfig","requestData","requestHeaders","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","unsubscribe","signal","onloadend","responseHeaders","getAllResponseHeaders","err","responseText","statusText","open","onreadystatechange","readyState","responseURL","onabort","ECONNABORTED","onerror","ERR_NETWORK","ontimeout","timeoutErrorMessage","ETIMEDOUT","setRequestHeader","upload","abort","subscribe","aborted","parseProtocol","send","composeSignals","signals","controller","AbortController","reason","_OverloadYield","v","_wrapAsyncGenerator","AsyncGenerator","resume","u","arg","_invoke","_awaitAsyncGenerator","_asyncGeneratorDelegate","pump","_asyncIterator","asyncIterator","AsyncFromSyncIterator","AsyncFromSyncIteratorContinuation","s","streamChunk","chunk","chunkSize","byteLength","pos","readBytes","iterable","_iteratorError","_iteratorAbruptCompletion","_didIteratorError","_step","_iterator","readStream","return","_x","_x2","stream","reader","getReader","_x3","trackStream","onProgress","onFinish","_onFinish","ReadableStream","pull","close","loadedBytes","enqueue","highWaterMark","isFetchSupported","fetch","Request","Response","isReadableStreamSupported","encodeText","TextEncoder","async","arrayBuffer","supportsRequestStream","duplexAccessed","hasContentType","body","duplex","supportsResponseStream","resolvers","res","ERR_NOT_SUPPORT","resolveBodyLength","getContentLength","_request","getBodyLength","knownAdapters","http","xhr","xhrAdapter","fetchOptions","composedSignal","toAbortSignal","requestContentLength","contentTypeHeader","isCredentialsSupported","credentials","isStreamResponse","responseContentLength","responseData","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","throwIfRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","version","formatMessage","opt","ERR_DEPRECATED","spelling","correctSpelling","assertOptions","schema","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","Axios","instanceConfig","interceptors","InterceptorManager","configOrUrl","dummy","boolean","function","baseUrl","withXsrfToken","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","splice","c","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","axios","createInstance","defaultConfig","Cancel","all","promises","spread","isAxiosError","payload","formToJSON","getAdapter","lim","p2b","n2b","b2n","n2p","map$1","A","B","C","D","E","F","f","hex","h1","h2","eq","hexString","g","isShort","alpha","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","rgb","rgb2hsl","hueValue","calln","hsl2rgb","hue","hueParse","hwb2rgb","hsv2rgb","x","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names","nameParse","unpacked","tkeys","j","ok","nk","unpack","transparent","RGB_RE","to","pow","modHSL","ratio","tmp","proto","fromObject","input","functionParse","charAt","rgbParse","Color","hexParse","_rgb","_valid","valid","rgbString","hslString","mix","color","weight","c1","c2","w2","w1","interpolate","rgb1","rgb2","clearer","greyscale","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","uid","isNullOrUndef","isNumberFinite","finiteOrDefault","valueOrDefault","toDimension","dimension","each","loopable","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","klen","isValidKey","_merger","tval","sval","sources","merger","mergeIf","_mergerIf","keyResolvers","y","resolveObjectKey","resolver","parts","part","_splitKey","_getKeyResolver","_capitalize","defined","setsEqual","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","niceNum","range","roundedRange","niceRange","fraction","isNaN","_setMinAndMaxByKey","array","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","_lookup","cmp","mid","hi","lo","_lookupByKey","last","ti","_rlookupByKey","arrayEvents","unlistenArrayEvents","stub","_chartjs","_arrayUnique","Set","requestAnimFrame","requestAnimationFrame","argsToUse","ticking","_toLeftRightCenter","align","_alignStartEnd","_getStartAndCountOfVisiblePoints","meta","animationsDisabled","pointCount","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","isPatternOrGradient","getHoverColor","numbers","colors","intlCache","Map","formatNumber","num","locale","cacheKey","formatter","Intl","NumberFormat","getNumberFormat","formatters","values","numeric","tickValue","ticks","chart","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","remain","significand","Ticks","overrides","getScope$1","scope","Defaults","_descriptors","_appliers","animation","backgroundColor","borderColor","datasets","devicePixelRatio","getDevicePixelRatio","font","family","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","parsing","plugins","scale","scales","showLine","drawActiveElementsOnTop","describe","override","route","targetScope","targetName","scopeObject","targetScopeObject","privateName","local","appliers","_scriptable","startsWith","_indexable","_fallback","delay","easing","loop","properties","resize","show","animations","visible","hide","autoPadding","padding","display","beginAtZero","bounds","clip","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","_ctx","tickColor","border","dash","dashOffset","title","text","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","_measureText","gc","longest","string","textWidth","measureText","_longestText","arrayOfThings","garbageCollect","save","jlen","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","radius","rad","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","borderWidth","stroke","_isPointInArea","area","margin","clipArea","unclipArea","_steppedLineTo","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","decorateText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","fillStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","lines","strokeWidth","strokeColor","translation","textAlign","textBaseline","setRenderOpts","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","_readValueToProps","objProps","toTRBL","toTRBLCorners","toPadding","toFont","fallback","toFontString","inputs","info","cacheable","createContext","parentContext","_createResolver","scopes","prefixes","getTarget","finalRootScopes","_cacheable","_scopes","_rootScopes","_getTarget","deleteProperty","_keys","_cached","proxy","prefix","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getKeysFromAllScopes","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","isScriptable","getValue","_resolveScriptable","isIndexable","_resolveArray","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","rootScopes","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","_parsing","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","splineCurveMonotone","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","iPixel","vPixel","monotoneCompute","capControlPoint","pt","_updateBezierControlPoints","controlPoints","spanGaps","cubicInterpolationMode","prev","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","_getParentNode","domNode","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","ownerDocument","defaultView","positions","getPositionedStyle","styles","suffix","getRelativePosition","borderBox","boxSizing","paddings","borders","box","offsetX","offsetY","useOffsetPos","shadowRoot","getCanvasPosition","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","maxHeight","containerSize","container","containerStyle","containerBorder","containerPadding","getContainerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","readUsedSize","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRtlAdapter","rectX","setWidth","xPlus","leftForLtr","getRightToLeftAdapter","_itemWidth","overrideTextDirection","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalizeSegment","_boundSegment","segment","startBound","endBound","getSegment","prevValue","inside","subStart","shouldStart","shouldStop","_boundSegments","segments","sub","splitByStyles","segmentOptions","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","p0","p0DataIndex","p1DataIndex","styleChanged","doSplitByStyles","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","replacer","Animator","_charts","_running","_lastDate","_notify","anims","date","numSteps","initial","currentStep","_refresh","_update","running","draw","_active","_total","tick","_getAnims","charts","complete","listen","acc","cur","_duration","animator","interpolators","factor","c0","Animation","cfg","currentValue","_fn","_easing","_start","_loop","_target","_prop","_from","_to","_promises","update","elapsed","rej","resolved","Animations","_properties","configure","animationOptions","animatedProps","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","awaitAll","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","dsIndex","singleMode","otherValue","found","isStacked","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","_cachedMeta","_stacks","iAxis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","_visualValues","getFirstScaleId","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_cachedDataOpts","getMeta","_type","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","datasetElementType","dataElementType","initialize","linkScales","_stacked","addElements","isPluginEnabled","updateIndex","dataset","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","iAxisKey","vAxisKey","adata","convertObjectDataToArray","isExtensible","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","canStack","otherScale","createStack","hidden","NEGATIVE_INFINITY","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","_clip","toClip","defaultClip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","numMeta","numData","_insertElements","_removeElements","updateElements","removed","_sync","_dataChanges","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","computeMinSampleSize","_cache","$bar","visibleMetas","getAllScaleValues","curr","_length","updateMinAndPrev","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","BarController","super","bars","getBasePixel","isHorizontal","ruler","_getRuler","vpixels","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","grouped","currentParsed","iScaleValue","skipNull","find","_getStackCount","_getStackIndex","pixels","barThickness","_startPixel","_endPixel","stackCount","categoryPercentage","barPercentage","baseValue","minBarLength","actualBase","floating","getDataVisibility","barSign","startPixel","getPixelForDecimal","endPixel","getValueForPixel","halfGrid","getLineWidthForValue","maxBarThickness","Infinity","percent","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","rects","_index_","_value_","BubbleController","DoughnutController","innerRadius","outerRadius","getter","_getRotation","_getCircumference","circumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","toPercentage","chartWeight","_getRingWeight","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","legend","generateLabels","fontColor","legendItem","toggleDataVisibility","LineController","_dataset","_decimated","animated","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","lastPoint","updateControlPoints","PolarAreaController","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","circular","pointLabels","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","ScatterController","registry","getElement","abstract","DateAdapterBase","members","init","formats","diff","startOf","endOf","binarySearch","metaset","lookupMethod","_reversePixels","getRange","evaluateInteractionItems","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","isPointInArea","inRange","getNearestCartesianItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","minDistance","getCenterPoint","getNearestItems","getProps","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","setLayoutDims","layouts","wrap","stackWeight","placed","buildStacks","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","availableWidth","availableHeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","addBox","_layers","z","removeBox","layoutItem","minPadding","layoutBoxes","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","updatePos","change","handleMaxPadding","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","createAttachObserver","observer","MutationObserver","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","native","fromNativeEvent","addListener","DomPlatform","renderHeight","renderWidth","displayWidth","displayHeight","initCanvas","removeAttribute","setAttribute","proxies","$proxies","isConnected","tooltipPosition","hasValue","final","tickOpts","determinedMaxTicks","_tickSize","maxScale","maxChart","_maxLength","determineMaxTicks","ticksLimit","maxTicksLimit","majorIndices","enabled","getMajorIndices","numMajorIndices","newTicks","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","majorStart","majorEnd","offsetFromEdge","getTicksLimit","ticksLength","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","getLabelItems","_computeLabelItems","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","caches","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","idx","decimal","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","optsAtIndex","optsAtIndexBorder","lineColor","tickBorderDash","tickBorderDashOffset","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","drawBorder","lastLineWidth","drawLabels","renderTextOptions","drawTitle","titleX","titleY","titleArgs","tz","gz","bz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","itemDefaults","defaultRoutes","routes","propertyParts","sourceName","sourceScope","routeDefaults","registerDefaults","unregister","Registry","controllers","_typedRegistries","_each","addControllers","_len3","_key3","_len4","_key4","addPlugins","_len5","_key5","addScales","_len6","_key6","getController","getPlugin","getScale","removeControllers","_len7","_key7","removeElements","_len8","_key8","removePlugins","_len9","_key9","removeScales","_len10","_key10","typedRegistry","reg","_getRegistryForType","_exec","itemReg","component","camelMethod","PluginService","_init","notify","hook","_createDescriptors","plugin","cancelable","invalidate","_oldCache","_notifyStateChanges","localIds","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","_ref3","pluginScopeKeys","getIndexAxis","datasetDefaults","idMatchesAxis","determineAxis","_len11","scaleOptions","_key11","getAxisFromDataset","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","boundDs","retrieveAxisFromDatasets","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","initOptions","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","initConfig","_scopeCache","_resolverCache","clearCache","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","intKey","getSizeForArea","field","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","OffscreenCanvas","_detectPlatform","_options","_aspectRatio","_metasets","_lastEvent","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","debounce","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getDatasetArea","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","_ref4","pluginId","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","parseBorderRadius$1","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","pixelMargin","innerR","spacingOffset","avNogSpacingRadius","angleOffset","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","outerMidAdjustedAngle","pCenter","p4","innerMidAdjustedAngle","p8","outerStartX","outerStartY","outerEndX","outerEndY","fullCircles","inner","lineJoin","angleMargin","clipArc","ArcElement","chartX","chartY","rAdjust","nonZeroBetween","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","drawArc","setStyle","lineCap","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","_path","strokePathWithCache","segmentMethod","strokePathDirect","LineElement","_points","_segments","_pointsUpdated","findStartAndEnd","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","inRange$1","hitRadius","PointElement","mouseX","mouseY","inXRange","inYRange","hoverRadius","getBarBounds","bar","skipOrLimit","boundingRects","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","outer","skipX","skipY","addNormalRectPath","inflateRect","amount","refRect","BarElement","addRectPath","_getBounds","_findSegmentEnd","_getEdge","_createBoundaryLine","boundary","linePoints","_ref5","_pointsFromSegments","_shouldApplyFill","_resolveTarget","propagate","visited","_decodeFill","fillOption","parseFillOption","firstCh","decodeTargetIndex","addPointsBelow","sourcePoint","linesBelow","postponed","findPoint","pointValue","firstValue","lastValue","simpleArc","getLineByIndex","sourcePoints","below","getLinesBelow","_buildStackLine","_getTargetValue","computeCircularBoundary","_getTargetPixel","computeLinearBoundary","computeBoundary","_drawfill","lineOpts","above","clipVertical","doFill","clipY","lineLoop","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","src","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","_itemHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","legendItemText","calculateItemWidth","fontLineHeight","calculateLegendItemHeight","calculateItemHeight","calculateItemSize","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","halfFontSize","cursor","textDirection","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","onLeave","isListened","hoveredItem","sameItem","itemsEqual","plugin_legend","_element","afterEvent","ci","useBorderRadius","WeakMap","positioners","average","xSet","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","formattedValue","getTooltipSize","tooltip","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","defaultCallbacks","beforeTitle","tooltipItems","labelCount","afterTitle","beforeLabel","tooltipItem","labelColor","labelTextColor","bodyColor","labelPointStyle","afterLabel","beforeFooter","afterFooter","invokeCallbackWithFallback","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","getBeforeBody","getBody","bodyItems","scoped","getAfterBody","getFooter","_createItems","itemSort","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","_ref6","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","findOrAddLabel","addedLabels","addIfString","lastIndexOf","_getLabelForValue","CategoryScale","_startValue","_valueRange","_addedLabels","added","generateTicks$1","generationOptions","dataRange","precision","maxTicks","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","relativeLabelSize","_ref7","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","getTickLimit","stepSize","computeTickLimit","LinearScale","log10Floor","changeExponent","isMajor","tickVal","rangeExp","rangeStep","generateTicks","_ref8","minExp","exp","startExp","lastTick","LogarithmicScale","_zero","getTickBackdropHeight","determineLimits","fitWithPointLabels","_padding","limits","valueCount","_pointLabels","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","getPointPosition","drawingArea","plFont","textSize","updateLimits","setCenterPoint","_pointLabelItems","itemOpts","extra","createPointLabelItem","isNotOverlapped","buildPointLabelItems","hLimits","vLimits","outerDistance","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","drawPointLabelBox","backdropLeft","backdropTop","backdropWidth","backdropHeight","pathRadiusLine","RadialLinearScale","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","getBasePosition","getPointLabelPosition","drawPointLabels","gridLineOpts","drawRadiusLine","animate","INTERVALS","millisecond","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","_adapter","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","MAX_SAFE_INTEGER","addTick","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","offsetAfterAutoskip","getDecimalForValue","weekday","hasWeekday","getDataTimestamps","tooltipFormat","datetime","fmt","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable"],"sourceRoot":""}